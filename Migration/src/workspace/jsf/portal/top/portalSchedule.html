<html xmlns:m="http://www.seasar.org/maya" m:action="#{portalTopScheduleAction.initialize}">
	<head>
	<title>
	</title>
	<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
	<meta http-equiv="Content-Style-Type" content="text/css">
	<link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/#{birdUserInfo.browserType}/main.css?#{headerDto.loginTime}"/>
	<link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/#{birdUserInfo.browserType}/body.css?#{headerDto.loginTime}"/>
	<link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/#{birdUserInfo.browserType}/body_#{birdUserInfo.emosslesAppId}.css?#{headerDto.loginTime}"/>
	<link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/#{birdUserInfo.browserType}/print.css?#{headerDto.loginTime}" media="print"/>
	<script type="text/javascript" src="#{request.contextPath}/js/bird.js?#{headerDto.loginTime}"></script>
<SCRIPT LANGUAGE="javascript">
<!--
/*
 * 表示ステータス変更処理
 */
function changeDisplay(targetTag, firstClassNm, lastClassNm) {
	var objs = document.getElementsByTagName(targetTag);
	for (i = 0; i < objs.length; i++) {
		var classNm = objs[i].className;
		if(classNm.indexOf(firstClassNm)>=0){
			if("" != lastClassNm && classNm.indexOf(lastClassNm)>=0) {
				objs[i].style.display     = "";
			}else{
				objs[i].style.display   = "none";
			}
		}
	}
}

/**
 * タブ切り替え
 * 今週・来週タブの切り替えを行います。
 * @commonTab 共通タブ名称
 * @dispTab 表示対象タブ名称
 */
function changeTab(commonTab, dispTab) {
	var firstClassNm = commonTab;
	var lastClassNm = dispTab;
	changeDisplay("table", firstClassNm, lastClassNm);
    var objs = document.getElementsByTagName("th");
	for (i = 0; i < objs.length; i++) {
		var classNm = objs[i].className.substring(0, objs[i].className.indexOf(" "));
		if(classNm.indexOf(firstClassNm)>=0){
			if(classNm.indexOf(lastClassNm)>=0) {
				objs[i].className = classNm+" body_active_cell";
			}
			else {
				objs[i].className = classNm+" body_non_active_cell";
			}
		}
	}
    objs = document.getElementsByTagName("a");
	for (i = 0; i < objs.length; i++) {
		var classNm = objs[i].className.substring(0, objs[i].className.indexOf(" "));
		if(classNm.indexOf(firstClassNm)>=0){
			if(classNm.indexOf(lastClassNm)>=0) {
	    		objs[i].className = classNm+" body_selected_link";
			}else{
				objs[i].className = classNm+" body_non_selected_link";
			}
		}
	}
}
// -->
</SCRIPT>
	<style type="text/css">
	<!--
	.scroll_area {
	    width:100%;
		height:	  151px;
	}
	-->
	</style>
	</head>
<body>
	<table cellspacing="0" cellpadding="0" width="100%">
		<tr class="line_height_17">
	<span m:inject="s:forEach" m:items="#{portalTopDto.listSchedule}" m:var="tabInfo" m:varindex="i">
    		<th width="120px" class="sche_#{tabInfo.key} body#{i==0? '':'_non'}_active_cell"
    		    onClick="changeTab('sche','#{tabInfo.key}');" onDblClick="return false;"
    		    onMouseOver="this.style.cursor='pointer';">
				<font class="sche_#{tabInfo.key} body#{i==0? '':'_non'}_selected_link"><span m:converter="#{characterEncodingConverter}" m:value="#{tabInfo.keyName}"/></font>
    		</th>
    </span>
    		<th>&nbsp;</th>
   			</tr>
		<tr class="body_caption" style="height:5px;"><td colspan="3"></td></tr>
	</table>
	<div class="scroll_area">
	<span m:inject="s:forEach" m:items="#{portalTopDto.listSchedule}" m:var="tabInfo" m:varindex="i">
		<table class="sche_#{tabInfo.key} body_table2" width="100%" style="#{i==0? '':'display:none'}">
		    <colgroup>
				<col class="width_120_safari" width="100px"/>
		        <col class="width_210_safari" width="230px"/>
		    </colgroup>
			<span m:inject="s:forEach" m:items="#{tabInfo.listData}" m:var="e" m:varindex="w">
		      <tr>
				  <td valign="top"><span m:value="#{e.scdlDate}" m:converter="#{dateConverterMDEKj}"/></td>
				  <td class="line_height_14">
				  <span m:rendered="#{e.title!=null}" m:inject="s:forEach" m:items="#{e.title}" m:var="title">
				  <span m:converter="#{characterEncodingConverter}" m:value="#{title}"/><br/>
				  </span>
				  </td>
			  </tr>
			</span>
		</table>
		</span>
	</div>
</body>
</html>
