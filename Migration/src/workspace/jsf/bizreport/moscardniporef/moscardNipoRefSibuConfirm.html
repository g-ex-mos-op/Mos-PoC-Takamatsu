<html xmlns:m="http://www.seasar.org/maya" m:action="#{moscardNipoRefSibuConfirmAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<title>MOS CARD</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="MOS CARD"/>
<span m:inject="s:insert" m:name="bodyTitleName">■MOS CARD</span>
<span m:inject="f:param" m:name="onLoadName" m:value="bodyLoad();"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBR015V02"/>
<span m:inject="f:param" m:name = "msg" m:value="結果が表示されるまでに時間がかかります。よろしいですか？"/>
<span m:inject="f:param" m:name="notHosei" m:value="#{(nipoRefResultParameterDto.selectedZennenTaishoTen == true && nipoRefResultParameterDto.zenDataZennenCd == 'HOSEI')==false}"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
    .data_table_width {
        width:98%;
    }
    .td_width_49p {
        width:49%;
    }
    .td_width_35p {
        width:35%;
    }
    .td_width_20p {
        width:*;
    }
    .td_width_kingaku {
        width:110px;
    }
    .td_width_kyakusu {
        width:80px;
    }
    .td_width_tanka {
        width:70px;
    }
    .td_width_ccnt {
        width:80px;
    }
    .td_width_hiritu {
        width:55px;
    }
    .td_width_hiritu_charge {
        width:55px;
    }
    .td_width_zenhiritu {
	    width:70px;
    }
    .td_width_tokushuhiritu {
 		width:85px;
    }

-->
</style>
<script type="text/javascript">
<!--
// 初期設定
function bodyLoad() {
	//タブ切替初期処理
	loadScroll("nipoRefScroll"+document.nipoRefCondition.elements['nipoRefCondition:subTagKbn'].value, 305);
}
function changeNipoTab(subTagKbn) {
	changeTabArea(subTagKbn);
	document.nipoRefCondition.elements['nipoRefCondition:subTagKbn'].value = subTagKbn;
	bodyLoad();
}

// 店舗種別プルダウン変更処理
function switchDisplayObj() {
	if(document.nipoRefCondition.elements['nipoRefCondition:tenpoShubetu'].selectedIndex == "1") {
		document.getElementById('nipoRefCondition:div_zenDataZen').style.display="inline";
		document.getElementById('nipoRefCondition:div_zenDataZenOth').style.display="none";
	}else {
		document.getElementById('nipoRefCondition:div_zenDataZen').style.display="none";
		document.getElementById('nipoRefCondition:div_zenDataZenOth').style.display="inline";
	}
}
// 対象期間プルダウン変更処理
function switchDisplayKikan() {
	document.getElementById('nipoRefCondition:div_kikanNipo').style.display="none";
	document.getElementById('div_kikanCurrMonth').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanYM').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanKibetu').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanSitei').style.display="none";

	var taishoKikan = document.nipoRefCondition.elements['nipoRefCondition:kikanTaisho'].selectedIndex;
	if(taishoKikan == 0) {
		document.getElementById('nipoRefCondition:div_kikanNipo').style.display="inline";
	}else if(taishoKikan == 1) {
		document.getElementById('div_kikanCurrMonth').style.display="inline";
	}else if(taishoKikan == 2) {
		document.getElementById('nipoRefCondition:div_kikanYM').style.display="inline";
	}else if(taishoKikan == 3) {
		document.getElementById('nipoRefCondition:div_kikanKibetu').style.display="inline";
	}else if(taishoKikan == 4) {
		document.getElementById('nipoRefCondition:div_kikanSitei').style.display="inline";
	}
}
// 支部リンク押下処理
function setLinkInfo(sibuCd, className, sibuName) {
	// 支部が押下された場合
	if (className == '') {
		document.nipoRefCondition.target = "_blank";
		document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:selectSibuLink';
	// 支部が押下された場合
	} else {
		document.nipoRefCondition.target = "_self";
		document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:downloadCsvMise';
	}
	document.nipoRefCondition.elements['nipoRefCondition:sibuCd'].value = sibuCd;
	document.nipoRefCondition.elements['nipoRefCondition:sibuName'].value = sibuName;
	document.nipoRefCondition.elements['nipoRefCondition:className'].value = className;
	document.forms['nipoRefCondition'].submit();
	return;
}
// ダウンロード
function downloadCsv() {
	document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:downloadCsv';
	document.forms['nipoRefCondition'].submit();
	return;
}
/**
 * 別ウィンドウ処理
 */
function initWindow() {
	//別ウィンドウのチェック
	var isChecked = false;
	if(document.nipoRefCondition.elements['nipoRefCondition:newwin'] != null){
	    isChecked = document.nipoRefCondition.elements['nipoRefCondition:newwin'].checked;
		document.nipoRefCondition.elements['nipoRefCondition:newWindowFlg'].value=isChecked;
		if(isChecked) {
			document.nipoRefCondition.target = "_blank";
			return;
		}
	}
	document.nipoRefCondition.target = "_self";
}
/**
 * 画面タブ起動処理
 */
function callScreenTab(targetTab){
	//店舗種別
	var shubetu = document.dispParamData.elements['dispParamData:tenpoShubetu'].value;
	//集計区分
	var shukeiKbn = document.dispParamData.elements['dispParamData:shukeiKbnCd'].value;
	//対象店舗
	var tenpo = document.dispParamData.elements['dispParamData:taishoTenpoCd'].value;
	//対象期間
	var kikan = document.dispParamData.elements['dispParamData:kikanTaisho'].value;
	//前年データ種別
	var zdatashubetu = document.dispParamData.elements['dispParamData:zenDataZennenCd'].value;

	/**
	 * 屋号別売上タブの場合
	 * 下記の条件になる場合はalertを出す。（ok/cancel）
	 * MSG: 結果が表示されるまでに時間がかかります。よろしいですか？
	 * 店舗種別	：前年対象店
	 * 集計区分	：直営・販社を含まない
	 * 対象店舗	：FCのみ
	 * 対象期間	：期間指定
	 *
	 */
	if("yago"==targetTab
	    && "1" == shubetu
		&& "SIBU_CD" == shukeiKbn
		&& "FC" == tenpo
		&& "DAYS" == kikan
		&& "HOSEI" == zdatashubetu)
	{

		if(confirm(""+document.dispParamData.elements['dispParamData:jyokenMsg'].value)) {
		} else {
			bodyLoad();
			return;
		}
	}
	//別ウィンドウのチェック
	initWindow();
	document.nipoRefCondition.elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:'+targetTab;
	document.forms['nipoRefCondition'].submit();
}

// 集計区分プルダウン変更処理 2008/12/09追加 SV対応
function switchShukeiKbn(elementShukeiKbn) {
	var taishoTenpo = elementShukeiKbn.selectedIndex;

	var commonClassName = "taisho_";
	if(taishoTenpo == 2) {
		dispSwitchElement("th",commonClassName, "tenpo", "none");
		dispSwitchElement("td",commonClassName, "tenpo", "none");
		dispSwitchElement("th",commonClassName, "svCd", "");
		dispSwitchElement("td",commonClassName, "svCd", "");
	}else {
		dispSwitchElement("th",commonClassName, "svCd", "none");
		dispSwitchElement("td",commonClassName, "svCd", "none");
		dispSwitchElement("th",commonClassName, "tenpo", "");
		dispSwitchElement("td",commonClassName, "tenpo", "");
	}
}

/**
 * 対象クラスエレメント表示切り替え処理
 */
function dispSwitchElement(targetTag, commonClassName, targetCode, status) {
	var objsDiv = document.nipoRefCondition.getElementsByTagName(targetTag);
	for (i = 0; i < objsDiv.length; i++) {
		var classNm = objsDiv[i].className;
		if(classNm.indexOf(commonClassName)>=0){
			if(classNm.indexOf(targetCode)>=0) {
				objsDiv[i].style.display = status;
			}
		}
	}
}

// SV検索 20081209追加 SV対応
function doCallSVForm() {
    document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:callSvForm';
	document.forms['nipoRefCondition'].submit();
}

function search() {
	initWindow();
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:reSearch';
	document.forms['nipoRefCondition'].submit();
	return;
}

-->
</script>
<form m:id="dispParamData">
	<input type="hidden" id="tenpoShubetu" m:value="#{nipoRefResultParameterDto.tenpoShubetuCd}"/>
	<input type="hidden" id="shukeiKbnCd" m:value="#{nipoRefResultParameterDto.shukeiKbnCd}"/>
	<input type="hidden" id="taishoTenpoCd" m:value="#{nipoRefResultParameterDto.taishoTenpoCd}"/>
	<input type="hidden" id="kikanTaisho" m:value="#{nipoRefResultParameterDto.taishoKikanCd}"/>
	<input type="hidden" id="zenDataZennenCd" m:value="#{nipoRefResultParameterDto.zenDataZennenCd}"/>
	<input type="hidden" id="jyokenMsg" m:value="#{msg}"/>
</form>
<form m:id="nipoRefCondition" target="_self" onkeydown="setDefaultSubmitButton('nipoRefCondition', 'btnExecute');">
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="windowId" m:value="#{nipoRefSearchParameterDto.windowId}"/>
	<input type="hidden" m:id="newWindowFlg" m:value="#{moscardNipoRefSibuConfirmAction.newWindowFlg}"/>
	<input type="hidden" m:value="#{nipoRefSearchParameterDto.researchFlg}"/>
    <a id="callSvForm" m:action="#{moscardNipoRefMiseConfirmAction.callSvForm}"/>
	<a m:id="selectSibuLink" m:action="#{moscardNipoRefSibuConfirmAction.selectedSibu}"/>
	<a m:id="downloadCsv" m:action="#{moscardNipoRefSibuConfirmAction.downloadCsvSibu}"/>
	<a m:id="downloadCsvMise" m:action="#{moscardNipoRefSibuConfirmAction.downloadCsvMise}"/>
	<a m:id="takuhai" m:action="#{moscardNipoRefSibuConfirmAction.goTakuhaiNipo}"/>
	<a m:id="yago" m:action="#{moscardNipoRefSibuConfirmAction.goYago}"/>
	<a m:id="eigyonipo" m:action="#{moscardNipoRefSibuConfirmAction.goEigyoNipo}"/>
	<a m:id="netorder" m:action="#{moscardNipoRefSibuConfirmAction.callNetorder}"/>
	<a m:id="reSearch" m:action="#{moscardNipoRefSibuConfirmAction.reSearch}"/>

	<table class="hiddenBody element_browser" style="margin-bottom:4px;">
		<tr>
		<td>
		<!-- 条件部プルダウン -->
		<table class="body_table">
		<tr>
			<th nowrap=" nowrap">会社</th>
			<td>
				<div class="hideArea">
					<select class="condition_field"
							m:value="#{nipoRefSearchParameterDto.companyCd}"
							m:items="#{moscardNipoRefSibuConfirmAction.moscardCompanyList}"
							m:id="companyCd"
							m:itemValue="companyCd"
							m:itemLabel="companyName"/></div>
			</td>
			<th nowrap=" nowrap">店舗種別</th>
			<td>
				<div class="hideArea">
					<select class="condition_field"
							m:id="tenpoShubetu"
							m:value="#{nipoRefSearchParameterDto.tenpoShubetuCd}"
							m:items="#{nipoRefConditionDto.tenpoShubetuList}"
							m:itemValue="code"
							m:itemLabel="name"
							m:onchange="switchDisplayObj();"/></div>
			</td>
			<th nowrap=" nowrap">集計区分</th>
			<td>
				<div class="hideArea">
					<select class="condition_field"
					        m:id="shukeiKbnCd"
							m:value="#{nipoRefSearchParameterDto.shukeiKbnCd}"
							m:items="#{nipoRefConditionDto.shukeiKbnList}"
							m:onchange="switchShukeiKbn(this);"/></div>
			</td>
			<th class="taisho_tenpo" style="#{nipoRefSearchParameterDto.svFlg ? 'display:none;' : ''}" nowrap=" nowrap">対象店舗</th>
			<td class="taisho_tenpo" style="#{nipoRefSearchParameterDto.svFlg ? 'display:none;' : ''}">
				<div class="hideArea">
					<select m:value="#{nipoRefSearchParameterDto.taishoTenpoCd}"
							m:items="#{nipoRefConditionDto.taishoTenpoList}"
							m:id="taishoTenpoCd"/></div>
			</td>
			<th class="taisho_svCd" style="#{nipoRefSearchParameterDto.svFlg ? '' : 'display:none;'}" nowrap=" nowrap">
				SVコード<input type="button" m:id="doSearchSVBtn" value="検索"
				               onclick="doCallSVForm();" ondblclick="return false;"
				               class="button_in_table"/></th>
			<td class="taisho_svCd" style="#{nipoRefSearchParameterDto.svFlg ? '' : 'display:none;'}">
				<input type="text" class="imenotuse height_11" m:id="textNipoSIbuSV" m:value="#{nipoRefSearchParameterDto.svCd}" maxlength="8" size="10" />
			</td>
		</tr>
		<tr>
			<th nowrap=" nowrap">対象期間</th>
			<td>
				<div class="hideArea">
					<select	m:id="kikanTaisho"
							m:value="#{nipoRefSearchParameterDto.taishoKikanCd}"
							m:items="#{nipoRefConditionDto.taishoKikanList}"
							m:itemValue="code"
							m:itemLabel="name"
							m:onchange="switchDisplayKikan();"/></div>
			</td>
			<th nowrap=" nowrap">期間指定</th>
			<td colspan="3">
				<div class="hideArea">
					<div id="div_kikanNipo" class="div_kikanNipo" style="#{(nipoRefSearchParameterDto.taishoKikan1Day) == true  ? '' : 'display:none;'}">
						<select m:value="#{nipoRefSearchParameterDto.kikanNipo}"
								m:items="#{nipoRefConditionDto.kikanFromList}"
								m:id="kikanNipo"
								m:itemValue="code"
								m:itemLabel="name"/></div>

					<div id="div_kikanCurrMonth" class="div_kikanCurrMonth" ></div>

					<div id="div_kikanYM" class="div_kikanYM" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='MONTH') == true ? '' : 'display:none;'}">
						<select m:value="#{nipoRefSearchParameterDto.kikanYM}"
								m:items="#{nipoRefConditionDto.kikanYMList}"
								m:id="kikanYM"
								m:itemValue="code"
								m:itemLabel="name"/></div>
					<div id="div_kikanKibetu" class="div_kikanKibetu" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='KIBETU') == true ? '' : 'display:none;'}">
						<select m:value="#{nipoRefSearchParameterDto.kikanYear}"
									m:items="#{nipoRefConditionDto.kikanYearList}"
									m:id="kikanYear"
									m:itemValue="code"
									m:itemLabel="name"/>
						年度<select m:value="#{nipoRefSearchParameterDto.kikanKibetu}"
									m:items="#{nipoRefConditionDto.kikanKibetuList}"
									m:id="kikanKibetu"
									m:itemValue="code"
									m:itemLabel="name"/></div>
					<div id="div_kikanSitei" class="div_kikanSitei" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='DAYS') == true  ? '' : 'display:none;'}">
						<select m:value="#{nipoRefSearchParameterDto.kikanFrom}"
									m:items="#{nipoRefConditionDto.kikanFromList}"
									m:id="kikanFrom"
									m:itemValue="code"
									m:itemLabel="name"/>
						〜<select m:value="#{nipoRefSearchParameterDto.kikanTo}"
									m:items="#{nipoRefConditionDto.kikanToList}"
									m:id="kikanTo"
									m:itemValue="code"
									m:itemLabel="name"/></div></div>
			</td>
			<th nowrap=" nowrap">前年データ種別</th>
			<td>
				<div class="hideArea">
					<div id="div_zenDataZenOth" class="div_zenDataZenOth"
			             style="#{nipoRefSearchParameterDto.selectedZennenTaishoTen ? 'display:none;' : ''}">
						<select m:value="#{nipoRefSearchParameterDto.zenDataZennenOthCd}"
								m:items="#{nipoRefConditionDto.zenDataZennenOthList}"
								m:id="zenDataZennenOthCd"
								m:itemValue="code"
								m:itemLabel="name"/></div>
					<div id="div_zenDataZen" class="div_zenDataZen"
					     style="#{nipoRefSearchParameterDto.selectedZennenTaishoTen ? '' : 'display:none;'}">
						<select m:value="#{nipoRefSearchParameterDto.zenDataZennenCd}"
								m:items="#{nipoRefConditionDto.zenDataZennenList}"
								m:id="zenDataZennenCd"
								m:itemValue="code"
								m:itemLabel="name"/></div></div>
			</td>
		</tr>
		</table>
		</td>
		<td valign="bottom">
			<input type="button" m:id="btnExecute"
				m:value="#{nipoRefSearchParameterDto.researchFlg=='true'?'再検索':'実行'}" style="margin:2px;"
				onclick="search();" onDblClick="return false;"/>
		</td>
	</tr>
	</table>

	<!-- 印刷用条件部 -->
	<table class="element_print">
		<tr>
		<td>会社：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.companyName}"/></option></select></td>
		<td>店舗種別：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelTenpoShubetu}"/></option></select></td>
		<td>集計区分：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelShukeiKbn}"/></option></select></td>
		<td>対象店舗：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelTaishoTenpo}"/></option></select></td>
		</tr>
		<tr>
		<td>対象期間：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelTaishoKikan}"/></option></select></td>
		<td>期間指定：<span m:rendered="#{nipoRefResultParameterDto.existKikanSiteiFrom}">
						<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelKikanSiteiFrom}"/></option></select>
						<span m:rendered="#{nipoRefResultParameterDto.taishoKikanCd=='KIBETU'}">年度</span>
						<span m:rendered="#{nipoRefResultParameterDto.taishoKikanCd=='DAYS'}">〜</span></span>
					  <span m:rendered="#{nipoRefResultParameterDto.existKikanSiteiTo}">
					  	<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{nipoRefResultParameterDto.labelKikanSiteiTo}" escape="false"/></option></select></span></td>
		<td colspan="2">前年データ種別：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.zennenDataShubetuName}"/></option></select></td>
		</tr>
	</table>
	<div class="scroll_padding_head">
	<div m:rendered="#{moscardNipoRefResultDto.existDataFlg}"
	     class="scroll_hidden" style="clear:both;margin-bottom:4px;">
		<div style="width:98%;">
			<table class="body_table2" style="float:left;">
				<tr><th>対象店舗数</th>
				<td width="110px" class="body_num"><span m:value="#{moscardNipoRefResultDto.tenpoCount}"
				      m:converter="#{NumericConverter}"/></td></tr>
			</table>
			<table class="hiddenBody element_browser" style="float:right;">
				<tr><td><input type="button" style="margin-right:5px"
				              onclick="downloadCsv();" value="ダウンロード"/></td>
				    <td><input type="checkbox" m:id="newwin"
				    checked="#{moscardNipoRefSibuConfirmAction.newWindowFlg}"/>別ウィンドウに表示</td></tr>
			</table>
		</div>
	</div>
	</div>
	<div style="clear:both;"/>
	<table class="element_browser"
	       cellspacing="0" cellpadding="0" style="margin-top:4px">
		<tr>
			<td width="150px" class="body_non_active_tab">
				<a href="javascript:void(0);"
				    onClick="callScreenTab('eigyonipo');return false;" onDblClick="return false;">
					営業日報</a>
			</td>
			<td width="150px" class="body_non_active_tab">
				<a href="javascript:void(0);"
				    onClick="callScreenTab('takuhai');return false;" onDblClick="return false;">
					宅配売上</a></td>
			<td width="150px" class="body_non_active_tab">
				<a href="javascript:void(0);"
				    onClick="callScreenTab('yago');return false;" onDblClick="return false;">
					屋号別売上</a></td>
			<td width="150px" class="body_active_tab" m:rendered="#{nipoRefResultParameterDto.mosCompany}">MOS CARD</td>
			<td  m:rendered="#{nipoRefConditionDto.accessNetorder && nipoRefResultParameterDto.mosCompany}" width="150px" class="body_non_active_tab element_browser">
					<a href="javascript:void(0);"
				    onClick="callScreenTab('netorder');return false;" onDblClick="return false;">
					ネット注文</a>
			</td>
		</tr>
	</table>
 	<input type="hidden" m:value="#{nipoRefResultParameterDto.windowId}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.companyCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.companyName}"/>
 	<input type="hidden" m:value="#{nipoRefResultParameterDto.tenpoShubetuCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.shukeiKbnCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.taishoTenpoCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.taishoKikanCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.zenDataZennenCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.zenDataZennenOthCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanNipo}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanCurrMonth}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanYM}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanYear}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanKibetu}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanFrom}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanTo}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kansanFlg}"/>
	<input type="hidden" m:id="sibuCd" m:value="#{nipoRefResultParameterDto.sibuCd}"/>
	<input type="hidden" m:id="sibuName" m:value="#{nipoRefResultParameterDto.sibuName}"/>
	<input type="hidden" m:id="subTagKbn" m:value="#{nipoRefResultParameterDto.subTagKbn}"/>
	<input type="hidden" m:id="className" m:value="#{nipoRefResultParameterDto.className}"/>
	<input type="hidden" m:id="linkParams" m:value="#{nipoRefResultParameterDto.linkParams}"/>
	<!-- 結果情報 -->
	<input type="hidden" m:value="#{moscardNipoRefResultDto.existDataFlg}"/>

	<span m:rendered="#{moscardNipoRefResultDto.existDataFlg}">
	<div class="scroll_padding_head">
    <div class="scroll_hidden element_browser margin_bottom_hidden">
	<table width="98%" cellspacing="0" cellpadding="0" class="tab_area">
	<tr style="height:5px;"><td></td></tr>
	<tr><td>
		<table cellspacing="0" cellpadding="0">
		<tr>
			<td class="body_#{nipoRefResultParameterDto.subTagKbn=='0'?'':'non_'}active_cell tab_change_area_0"
			    width="125px">
				<a href="#" m:onclick="javascript:changeNipoTab('0');"
				   m:passthrough="true">発行/チャージ</a>
			</td>
			<td class="body_#{nipoRefResultParameterDto.subTagKbn=='1'?'':'non_'}active_cell tab_change_area_1"
			    width="125px">
				<a href="#" m:onclick="javascript:changeNipoTab('1');"
				   m:passthrough="true">決済</a>
			</td>
			<td width="*" bgcolor="#FFFFFF">
				</td>
		</tr>
		</table>
	</td>
	</tr>
	<tr class="body_caption" style="height:5px;"><td></td></tr>
	</table>
	</div>
	</div>
	<!--発行/チャージサブタグ-->
	<div class="#{nipoRefResultParameterDto.subTagKbn=='0'?'':'in'}visible_tab tab_change_area_0">
	    <span class="element_print">【発行/チャージ】</span>
	    <div class="scroll_padding_head">
	    <div class="scroll_hidden margin_bottom_hidden">
		<table class="body_table2 data_table_width">
			<tr class="header_row">
				<th width="*" rowspan="2">
					支部名称<br /><span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == true}">(店舗数/前年店舗数)</span></th>
				<th colspan="2">発行枚数</th>
				<th colspan="3">チャージ金額</th>
				<th colspan="3">チャージ件数</th>
				<th colspan="2">チャージ単価</th>
			</tr>
			<tr class="header_row">
				<th class="td_width_ccnt">当年</th>
				<th class="td_width_zenhiritu">前年比</th>
				<th class="td_width_kingaku">当年</th>
				<th class="td_width_hiritu_charge">売上比</th>
				<th class="td_width_tokushuhiritu">前年比</th>
				<th class="td_width_kyakusu">当年</th>
				<th class="td_width_hiritu">客数比</th>
				<th class="td_width_zenhiritu">前年比</th>
				<th class="td_width_tanka">当年</th>
<!--			<th class="td_width_hiritu">単価比</th>-->
				<th class="td_width_hiritu">前年比</th>
			</tr>
		</table>
		</div>
		</div>
		<div class="scroll_padding_data_no">
		<div id="nipoRefScroll0" class="scroll_complete">
		<table class="body_table data_table_width" style="border-top-width : 0px;">
			<div m:inject="s:forEach" m:items="#{moscardNipoRefResultDto.uriageList}" m:var="e" m:varindex="i">
			<tr m:class="#{e.rClass} non_top_border">
				<td m:class="#{e.sibuNameClass} td_width_20p" style="font-weight:bold;">
					<span m:rendered="#{(e.dispKbn == 'DISP' || e.dispKbn == 'DISPONLY')}">
						<a href="#" onclick="setLinkInfo('#{e.sibuCd}', '#{e.rClass}', '#{e.sibuName}');return false;">
							<span m:converter="#{characterEncodingConverter}" m:value="#{e.sibuName}"/>
								<span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == true}">
									<span m:converter="#{characterEncodingConverter}" m:value="#{e.tenpoCountSlash}"/>
								</span>
								<span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == false}">
									<span m:rendered="#{e.rClass == ''}">(<span m:value="#{e.tenpoCount}"/>)</span>
								</span>
						</a>
					</span>
					<span m:rendered="#{!(e.dispKbn == 'DISP' || e.dispKbn == 'DISPONLY')}">
							<span m:converter="#{characterEncodingConverter}" m:value="#{e.sibuName}"/>
								<span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == true}">
									<span m:converter="#{characterEncodingConverter}" m:value="#{e.tenpoCountSlash}"/>
								</span>
								<span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == false}">
									<span m:rendered="#{e.rClass == ''}">(<span m:value="#{e.tenpoCount}"/>)</span>
								</span>
					</span>
				</td>
				<td m:class="#{e.issueCntClass} td_width_ccnt"><span m:value="#{e.issueCnt}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.zenIssueCntHirituClass} td_width_zenhiritu"><span m:value="#{e.zenIssueCntHiritu}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.chargeKinClass} td_width_kingaku"><span m:value="#{e.chargeKin}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.urihiChargeKinClass} td_width_hiritu_charge"><span m:value="#{e.urihiChargeKin}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.zenHiChargeKinClass} td_width_tokushuhiritu"><span m:value="#{e.zenHiChargeKin}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.chargeKenClass} td_width_kyakusu"><span m:value="#{e.chargeKen}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.chargeKenKyakuHiClass} td_width_hiritu"><span m:value="#{e.chargeKenKyakuHi}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.chargeKenZenHiClass} td_width_zenhiritu"><span m:value="#{e.chargeKenZenHi}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.chargeTankaClass} td_width_tanka"><span m:value="#{e.chargeTanka}" m:converter="#{numericConverter}"/></td>
<!--			<td m:class="#{e.chargeTankahiClass} td_width_hiritu"><span m:value="#{e.chargeTankahi}" m:converter="#{numericConverter}"/></td>-->
				<td m:class="#{e.zenChargeTankahiClass} td_width_hiritu"><span m:value="#{e.zenChargeTankahi}" m:converter="#{numericConverter}"/></td>
			</tr>
			</div>
		</table>
		</div>
		</div>
	</div>
	<!--決済タグ-->
	<div class="#{nipoRefResultParameterDto.subTagKbn=='1'?'':'in'}visible_tab tab_change_area_1">
	    <span class="element_print">【決済】</span>
	    <div class="scroll_padding_head">
	    <div class="scroll_hidden margin_bottom_hidden">
		<table class="body_table2 data_table_width">
			<tr class="header_row">
				<th width="*" rowspan="2">
					支部名称<br /><span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == true}">(店舗数/前年店舗数)</span></th>
				<th colspan="3">決済金額</th>
				<th colspan="3">決済件数</th>
				<th colspan="3">決済単価</th>
			</tr>
			<tr class="header_row">
				<th class="td_width_kingaku">当年</th>
				<th class="td_width_hiritu">売上比</th>
				<th class="td_width_tokushuhiritu">前年比</th>
				<th class="td_width_kyakusu">当年</th>
				<th class="td_width_hiritu">客数比</th>
				<th class="td_width_tokushuhiritu">前年比</th>
				<th class="td_width_tanka">当年</th>
				<th class="td_width_hiritu">単価比</th>
				<th class="td_width_hiritu">前年比</th>
			</tr>
		</table>
		</div>
		</div>
		<div class="scroll_padding_data_no">
		<div id="nipoRefScroll1" class="scroll_complete">
		<table class="body_table data_table_width" style="border-top-width : 0px;">
			<div m:inject="s:forEach" m:items="#{moscardNipoRefResultDto.uriageList}" m:var="e" m:varindex="i">
			<tr m:class="#{e.rClass} non_top_border">
				<td m:class="#{e.sibuNameClass} " width="*" style="font-weight:bold;">
					<span m:rendered="#{e.dispKbn == 'DISP'}">
						<a href="#" onclick="setLinkInfo('#{e.sibuCd}', '#{e.rClass}', '#{e.sibuName}');return false;">
							<span m:converter="#{characterEncodingConverter}" m:value="#{e.sibuName}"/>
							<span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == true}">
								<span m:converter="#{characterEncodingConverter}" m:value="#{e.tenpoCountSlash}"/>
							</span>
							<span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == false}">
								<span m:rendered="#{e.rClass == ''}">(<span m:value="#{e.tenpoCount}"/>)</span>
							</span>
						</a>
					</span>
					<span m:rendered="#{e.dispKbn != 'DISP'}">
							<span m:converter="#{characterEncodingConverter}" m:value="#{e.sibuName}"/>
							<span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == true}">
								<span m:converter="#{characterEncodingConverter}" m:value="#{e.tenpoCountSlash}"/>
							</span>
							<span m:rendered="#{nipoRefResultParameterDto.aveDispFlg == false}">
								<span m:rendered="#{e.rClass == ''}">(<span m:value="#{e.tenpoCount}"/>)</span>
							</span>
					</span>
				</td>
				<td m:class="#{e.kessaiKinClass} td_width_kingaku"><span m:value="#{e.kessaiKin}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.kessaiKinUriHiClass} td_width_hiritu"><span m:value="#{e.kessaiKinUriHi}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.kessaiKinZenHiClass} td_width_tokushuhiritu"><span m:value="#{e.kessaiKinZenHi}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.kessaiKenClass} td_width_kyakusu"><span m:value="#{e.kessaiKen}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.kessaiKenKyakuHiClass} td_width_hiritu"><span m:value="#{e.kessaiKenKyakuHi}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.kessaiKenZenHiClass} td_width_tokushuhiritu"><span m:value="#{e.kessaiKenZenHi}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.kessaiKinTankaClass} td_width_tanka"><span m:value="#{e.KessaiKinTanka}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.kessaiKinTankaHiClass} td_width_hiritu"><span m:value="#{e.kessaiKinTankaHi}" m:converter="#{numericConverter}"/></td>
				<td m:class="#{e.kessaiKinZenTankaHiClass} td_width_hiritu"><span m:value="#{e.kessaiKinZenTankaHi}" m:converter="#{numericConverter}"/></td>
			</tr>
			</div>
		</table>
		</div>
		</div>
	</div>
	</span>
	<input type="text" m:id="dummyText" m:style="display:none;"/>
</form>
</div>
</body>
</html>
