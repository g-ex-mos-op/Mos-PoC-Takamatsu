<html xmlns:m="http://www.seasar.org/maya" m:action="#{keigenTaxAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<title>売上修正確認(軽減税率確認画面)</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="売上修正確認(軽減税率確認画面)"/>
<span m:inject="s:insert" m:name="bodyTitleName">■売上修正確認(軽減税率確認画面)</span>
<span m:inject="f:param" m:name="onLoadName" m:value="load();"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBR009V03"/>
<div m:inject="s:insert" m:name="body">

<script type="text/javascript">
<!--
function load() {
	document.kaigenTaxform.elements['kaigenTaxform:loadingFlg'].value = "";
}
function setLoadingFlg() {
	document.kaigenTaxform.elements['kaigenTaxform:loadingFlg'].value = "ON";
}
/**
 * ウィンドウロードステータス取得処理
 *
 */
function returnLoadingStatus(){
	if(isLoadingFlgOFF()) {
		setLoadingFlg();
		return true;
	}
	return false;
}
/**
 * ウィンドウロードステータス取得処理
 *
 */
function isLoadingFlgOFF(){
	return (document.kaigenTaxform.elements['kaigenTaxform:loadingFlg'].value != "ON");
}

/**
 *  アクション実行
 */
function executeAction(formName, actionName) {
    document.forms[formName].elements[formName + ':__link_clicked__'].value = formName + ':' + actionName;
    document.forms[formName].submit();
    return false;
}

window.onload=function(){
	load();
	var top=document.getElementById('top');
    var bottom= document.getElementById('bottom');
    if(bottom!=null){
	    bottom.onscroll=function(){
	  	  top.scrollLeft=bottom.scrollLeft
	    }
    }
}
-->
</script>


<style type="text/css">
<!--
.list_tab_area {
    width      : 955px;
    margin-top:4px;
    display:block;
}

table.list_width {
	width:955px;
}

#list_data tr .col_uriage,.col_tax,.col_uriage2,.col_tax2{
  text-align : right;
}

table.list_data tr td{
  text-align  : right;
  border-top-width:0px;
}

table.body_table2 tr td.num0{

}

table.body_table2 tr td.num1{
  background-color      : #FF9933;
}
.col_tenpo {
	width:202px;
}
.col_eigyoDt {
	width:85px;
}
.col_uriage {
	width:104px;
}
.col_tax {
	width:104px;
}
table.body_table2 tr .col_total {
	background-color      : #FFC0A0;
}

.body_sum5, table tr.body_sum5 td{
  background-color : #FFC0A0;
}

.show_width {
	width:937px;
}
.true-width {
	width:1580px;
}

-->
</style>


<form m:id="kaigenTaxform" style="display:inline;">
	<input type="hidden" m:id="windowId" m:value="#{uriMainteViewMeisaiJokenDto.windowId}"/>
	<input type="hidden" m:id="tabNo"    m:value="#{uriMainteViewMeisaiResultDto.tabNo}"/>
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
	<input type="hidden" name="maxScrollHeight" m:value="" m:passthrough="true"/>
	<input type="hidden" id="loadingFlg" value=""/>
	<a id="search"       m:action="#{keigenTaxAction.search}"/>

	<!--結果表示エリア-->
	<table class="hiddenBody element_browser">
		<tr>
		<td>
		<table class="body_table" style="display:block;">
			<tr>
				<th nowrap>会社</th>
				<td>
					<div class="hideArea">
						<select m:value="#{uriMainteViewMeisaiJokenDto.companyCd}"
							m:items="#{uriMainteViewSesDto.companyList}"
							m:itemValue="companyCd"
							m:itemLabel="companyName"
							m:id="companyList">
						</select>
					</div>
				</td>

				<th nowrap>修正日</th>
				<td>
					<div class="hideArea">
						<select m:value="#{uriMainteViewMeisaiJokenDto.syuseiDate}"
							m:items="#{uriMainteViewSesDto.syuseDateList}"
							m:itemValue="code"
							m:itemLabel="name"
							m:id="syuseDateList">
						</select>
					</div>
				</td>
			</tr>
		</table>
		</td>
		<td>
		<input type="button" value="再検索"
					 name="kaigenTaxform:btnExecute"
					 onclick="executeAction('kaigenTaxform', 'search')" style="margin:3px;"/></td></tr>
	</table>

		<!--結果表示エリア-->
	<div m:rendered="#{uriMainteViewMeisaiJokenDto.searchFlg}">
	<!-- タブ部 -->


    <!-- タブ帯部 -->
	<table cellspacing="0" cellpadding="0">
		<td width="92px" onmouseover="this.style.cursor='pointer';" onclick="return false" class="body_active_cell tab_change_area_01" style="cursor: pointer;">
			その1
			</td>
	</table>

	<!--結果表示エリア-->
		<table cellspacing="0" cellpadding="0" class="show_width">
			<tr class="body_caption" style="height:5px;"><td colspan="5"></td></tr>
		</table>
		<div id="top" style="overflow-x:hidden;" class="show_width">
			<div class="true-width">
				<table class="body_table2 header_table}" border="2">
					<tr class="header_row">
						<th class="col_tenpo" rowspan="2">対象店舗</th><!--営業日-->
						<th class="col_eigyoDt" rowspan="2">営業日</th><!--営業日-->
						<th class="col_uriage" colspan="6" >売上</th>
						<th class="col_tax" colspan="6" >消費税</th>
					</tr>
					<tr class="header_row">
						<th class="col_uriage">通常税率対象</th>
						<th class="col_uriage">軽減税率対象</th>
						<th class="col_uriage">予備3</th>
						<th class="col_uriage">予備4</th>
						<th class="col_uriage">予備5</th>
						<th class="col_uriage">合計</th>
						<th class="col_tax">通常税率対象</th>
						<th class="col_tax">軽減税率対象</th>
						<th class="col_tax">予備3</th>
						<th class="col_tax">予備4</th>
						<th class="col_tax">予備5</th>
						<th class="col_tax">合計</th>
					</tr>
				</table>
			</div>
		</div>

 		<div  id="bottom" style="width:954px;overflow: scroll;" >
			<div class="true-width" style="height:387px;">
				<table class="body_table2 " cellspacing="0" cellpadding="0" id= "list_data">
					<span m:inject="s:forEach" m:items="#{uriMainteViewMeisaiResultDto.listGetKeigenTaxData}" m:var="uriageTaxMeisaiList" m:varindex="d">
						<tr m:class="#{uriageTaxMeisaiList.eigyoDt==null?'body_sum5':''} non_top_border">
							<td class="col_tenpo" ><span m:value="#{uriageTaxMeisaiList.eigyoDt==null?'合計':uriageTaxMeisaiList.miseCdNameClose}" m:converter="#{characterEncodingConverter}"/></td>
							<td class="col_eigyoDt"><span m:value="#{uriageTaxMeisaiList.eigyoDt}" m:converter="#{dateConverterYMD}"/></td>
 							<td class="col_uriage num#{uriageTaxMeisaiList.u01Flg}"><span m:value="#{uriageTaxMeisaiList.uriage1}" m:converter="#{numericConverter}"/></td>
							<td class="col_uriage num#{uriageTaxMeisaiList.u02Flg}"><span m:value="#{uriageTaxMeisaiList.uriage2}" m:converter="#{numericConverter}"/></td>
							<td class="col_uriage num#{uriageTaxMeisaiList.u03Flg}"><span m:value="#{uriageTaxMeisaiList.uriage3}" m:converter="#{numericConverter}"/></td>
							<td class="col_uriage num#{uriageTaxMeisaiList.u04Flg}"><span m:value="#{uriageTaxMeisaiList.uriage4}" m:converter="#{numericConverter}"/></td>
							<td class="col_uriage num#{uriageTaxMeisaiList.u05Flg}"><span m:value="#{uriageTaxMeisaiList.uriage5}" m:converter="#{numericConverter}"/></td>
							<td class="col_uriage col_total"><span m:value="#{uriageTaxMeisaiList.totalUriage}" m:converter="#{numericConverter}"/></td>
							<td class="col_tax num#{uriageTaxMeisaiList.u06Flg}"><span m:value="#{uriageTaxMeisaiList.tax1}" m:converter="#{numericConverter}"/></td>
							<td class="col_tax num#{uriageTaxMeisaiList.u07Flg}"><span m:value="#{uriageTaxMeisaiList.tax2}" m:converter="#{numericConverter}"/></td>
							<td class="col_tax num#{uriageTaxMeisaiList.u08Flg}"><span m:value="#{uriageTaxMeisaiList.tax3}" m:converter="#{numericConverter}"/></td>
							<td class="col_tax num#{uriageTaxMeisaiList.u09Flg}"><span m:value="#{uriageTaxMeisaiList.tax4}" m:converter="#{numericConverter}"/></td>
							<td class="col_tax num#{uriageTaxMeisaiList.u10Flg}"><span m:value="#{uriageTaxMeisaiList.tax5}" m:converter="#{numericConverter}"/></td>
							<td class="col_tax col_total"><span m:value="#{uriageTaxMeisaiList.totalTax}" m:converter="#{numericConverter}"/></td>
						</tr>
					</span>
				</table>
			</div>
		</div>
	 	</div>
	<!--結果表示エリア:スクロール終了-->
	<input type="text" m:id="dummyEnter" style="display:none"/>
	</form>
</div>
</body>
</html>
