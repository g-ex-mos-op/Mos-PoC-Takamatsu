<html xmlns:m="http://www.seasar.org/maya" m:action="#{ownerChangeEditAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>オーナー間異動登録</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="オーナー間異動登録"/>
<span m:inject="s:insert" m:name="bodyTitleName">■オーナー間異動登録（編集画面）</span>
<span m:inject="f:param" m:name="onLoadName" m:value="bodyLoad()"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BEN023V03"/>
<span m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
-->
</style>
<script type="text/javascript">
<!--
function bodyLoad() {
	focusElement("ownerChangeEdit");
}

function registConfirm(msg) {
	if (confirm(msg)) {
		executeAction('ownerChangeEdit', 'back');
	}
}
function executeAction(formName, actionName) {
	document.forms[formName].elements[formName + ':__link_clicked__'].value = formName + ':' + actionName;
	document.forms[formName].submit();
	return false;
}
//-->
</script>
<form m:id="ownerChangeEdit" onkeydown="return setDefaultSubmitButton('ownerChangeEdit', 'btnExecute');">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="hidden" m:value="#{ownerChangeDto.windowId}"/>

<a id="back" m:action="#{ownerChangeEditAction.back}"/>
<a id="confirm" m:action="#{ownerChangeEditAction.confirm}"/>
<a id="ownerSearch" m:action="#{ownerChangeEditAction.ownerSearch}"/>

<input type="button" value="戻る" onclick="registConfirm('編集中の内容がある場合は破棄されます。よろしいですか？')"/>&nbsp;&nbsp;
<input type="button" value="確認" name="ownerChangeEdit:btnExecute" onclick="executeAction('ownerChangeEdit', 'confirm')"/>

<table class="body_table2" style="width:930px;margin-top:4px;">
	<tr>
		<th width="130px">会社</th>
		<td width="300px"><span m:converter="#{characterEncodingConverter}" m:value="#{ownerChangeDto.companyName}"/></td>
		<th width="171px">異動日</th>
		<td width="*"><input type="text" class="imenotuse" m:id="moveDt"
		           m:converter="#{ownerChangeDateConverter}" m:maxlength="10"
		           m:value="#{ownerChangeDto.moveDt}"/></td>
	</tr>
	<tr>
		<th>ライセンス番号</th>
		<td>
	        <span m:value="#{ownerChangeDto.mstStaffInfo.licenseNo}"/></td>
		<th>受験者</th>
		<td><span m:converter="#{characterEncodingConverter}" m:value="#{ownerChangeDto.mstStaffInfo.staffLNameKj}"/>
			<span m:converter="#{characterEncodingConverter}" m:value="#{ownerChangeDto.mstStaffInfo.staffFNameKj}"/></td>
	</tr>
	<tr>
		<th>変更前オーナー</th>
		<td>
	        <span m:value="#{ownerChangeDto.mstStaffInfo.onerCd}"/>
	        <span m:converter="#{characterEncodingConverter}" m:value="#{ownerChangeDto.onerNameKj}"/>
		</td>
		<th>
			変更後オーナー
			<input type="submit" value="検索" m:id="changeOwner" onclick="executeAction('ownerChangeEdit', 'ownerSearch')"/>
		</th>
		<td>
	        <span m:value="#{ownerChangeDto.changeOnerCd}"/>
	        <span m:converter="#{characterEncodingConverter}" m:value="#{ownerChangeDto.changeOnerName}"/>
		</td>
	</tr>
	<tr>
		<th>変更前店舗</th>
		<td>
	        <span m:value="#{ownerChangeDto.mstStaffInfo.miseCd1}"/>
	        <span m:converter="#{characterEncodingConverter}" m:value="#{ownerChangeDto.mstStaffInfo.miseNameKj}"/>
			<span m:rendered="#{birdDateInfo.sysDate > ownerChangeDto.mstStaffInfo.closeDt || 
								birdDateInfo.sysDate == ownerChangeDto.mstStaffInfo.closeDt}">(CLOSE)
			</span>
		</td>
		<th>変更後店舗</th>
		<td>
			<span m:rendered="#{ownerChangeDto.miseList != null}">
				<div class="hideArea">
				<select m:value="#{ownerChangeDto.changeMiseCd}"
			    		m:items="#{ownerChangeDto.miseList}"
						m:itemValue="miseCd"
						m:itemLabel="miseInfo">
		    	</select>
				</div>			
			</span>
		</td>
	</tr>
</table>
</form>
</span>
</body>
</html>
