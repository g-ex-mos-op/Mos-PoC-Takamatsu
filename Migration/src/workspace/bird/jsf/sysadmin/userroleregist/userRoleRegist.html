<html xmlns:m="http://www.seasar.org/maya" m:action="#{searchRoleAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>ユーザーロール設定</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="ユーザーロール設定"/>
<span m:inject="s:insert" m:name="bodyTitleName">■ユーザーロール設定</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BSA011V03"/>
<span m:inject="f:param" m:name="onLoadName" m:value="load()"/>
<span m:inject="s:insert" m:name="body">
<STYLE type="text/css">
<!--
/* テーブルヘッダデフォルト設定 パターン２*/
/* テーブルヘッダのセンタリング用 */
-->
</STYLE>
<SCRIPT LANGUAGE="javascript">
<!--
function load() {
	loadScroll("userroleScroll", 408);
}
function clearForm(formobj) {
    for (i = 0; i < formobj.elements.length; i++) {
        if (formobj.elements[i].type == "text") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "textarea") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "file") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "password") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "checkbox") {
            formobj.elements[i].checked = formobj.elements[i].defaultChecked;
            formobj.elements[i].checked = false;
        } else if (formobj.elements[i].type == "radio") {
            formobj.elements[i].checked = formobj.elements[i].defaultChecked;
        } else if (formobj.elements[i].type == "select-one") {
            for (j = 0; j < formobj.elements[i].options.length; j++) {
                formobj.elements[i].options[j].selected = formobj.elements[i].options[j].defaultSelected;
            }
            formobj.elements[i].selectedIndex = -1;
            formobj.elements[i].selectedIndex = 0;
        } else if (formobj.elements[i].type == "select-multiple") {
            for (j = 0; j < formobj.elements[i].options.length; j++) {
                formobj.elements[i].options[j].selected = formobj.elements[i].options[j].defaultSelected;
            }
            formobj.elements[i].selectedIndex = -1;
        }
    }
}
//-->
</SCRIPT>
<form m:id="roleActCondition">
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>

	<input type="submit" value="戻る" m:action="#{searchRoleAction.backUserRole}"/>&nbsp;
	<input type="submit" value="登録" m:action="#{searchRoleAction.updateUserRole}"/>&nbsp;
	<input type="submit" value="追加" m:action="#{searchRoleAction.selectUserRole}"/>
<table class="body_table" style="margin-top:4px;margin-bottom:4px;">
  <tr>
    <th>ユーザーID</th>
    <td width="350px"><span m:converter="#{characterEncodingConverter}" m:value="#{roleUserInfoDto.userId}"/> <span m:converter="#{characterEncodingConverter}" m:value="#{roleUserInfoDto.userNameKj}"/></td>
  </tr>
</table>
<div class="scroll_padding_head">
<div class="scroll_hidden">
<table class="body_table2" width="98%">
  <tr class="header_row">
    <th width="37px">選択</th>
    <th width="120px">分類</th>
    <th width="220px">ロール名</th>
    <th width="*px">説明</th>
  </tr>
</table>
</div>
</div>
<div class="scroll_padding_data">
	<div class="scroll_standby" id="userroleScroll">
		<table class="body_table2" style="border-top-width : 0px;" width="98%">
		      <div m:inject="s:forEach" m:items="#{roleUserInfoDto.userRoleList}" m:var="e" m:varindex="i">
		      <tr class="non_top_border font_size_15">
		        <td width="37px" align="center">
		        	<input type="checkbox" m:value="#{e.checkedRole}"
		        	       disabled="#{e.batFlg == '1'}"/></td>
		        <td width="120px"><span m:converter="#{characterEncodingConverter}" m:value="#{e.bunruiName}"/></td>
		        <td width="220px"><span m:converter="#{characterEncodingConverter}" m:value="#{e.roleName}"/></td>
		        <td width="*px"><span m:converter="#{characterEncodingConverter}" m:value="#{e.description}"/></td>
		      </tr>
		      </div>
		</table>
	</div>
</div>
<input type="text" m:id="dummyEnter" style="display:none"/>
</form>
</span>
</body>
</html>
