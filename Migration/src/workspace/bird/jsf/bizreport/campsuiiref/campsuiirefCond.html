<html xmlns:m="http://www.seasar.org/maya" m:action="#{campsuiirefCampSuiiRefAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<meta http-equiv="Content-Script-Type" content="text/javascript"/>
<title>キャンペーン売上推移表</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="キャンペーン売上推移表"/>
<span m:inject="s:insert" m:name="bodyTitleName">■キャンペーン売上推移表</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBR012V01"/>
<span m:inject="f:param" m:name="onLoadName" m:value="onLoadFunction()"/>
<span m:inject="f:param" m:name="userType" m:value="#{campsuiirefSessionSuiiDto.userTypeCd}"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
.honbu_table tr th {
	font-size:small;
}
.rsttable_w {
    width:98%;
}
.rsttable_w1 {
    width:13%;
}
.rsttable_w2 {
    width:4.5%;
}
.rsttable_w3 {
    width:9%;
}
.rsttable_w4 {
    width:9%;
}
.rsttable_w5 {
    width:9%;
}
.rsttable_w6 {
    width:12%;
}
.rsttable_w7 {
    width:12%;
}
.rsttable_w8 {
    width:4.5%;
}
.rsttable_w9 {
    width:9%;
}
.rsttable_w10 {
    width:9%;
}
.rsttable_w11 {
    width:9%;
}
-->
</style>

<script type="text/javascript">
<!--
function onLoadFunction() {
    var objForm = document.forms['campsuiiref'];
    objForm.elements['campsuiiref:loadingFlg'].value = "";
    if (objForm.elements['campsuiiref:userType'].value == '01') {
        if (objForm.elements['campsuiiref:condCampId'] == null) {
            return;
        }
	    switchTenpoShubetu(true);
	    switchMenu();
	    switchTaishoJoken(true);
	}
	else {
        if (objForm.elements['campsuiiref:condCampIdOner'] == null) {
            return;
        }
	    switchTenpoShubetuOner();
	    switchMenuOner();
	    switchTaishoJokenOner(true);
	}
	focusElement('campsuiiref');
	loadScroll("campsuiiScroll", 358);
}
function switchCamp() {
    var objForm = document.forms['campsuiiref'];
    objForm.elements['campsuiiref:condMenuTotaled'].selectedIndex = 0;
    objForm.elements['campsuiiref:condTaishoJoken'].selectedIndex = 0;
    objForm.elements['campsuiiref:condTenpoShubetu'].selectedIndex = 0;
    switchMenu();
    switchTaishoJoken(false);
    switchTenpoShubetu(false);
}
function switchCampOner() {
    var objForm = document.forms['campsuiiref'];
    objForm.elements['campsuiiref:condMenuTotaledOner'].selectedIndex = 0;
    switchMenuOner();
    switchTaishoJokenOner(false);
}
function switchMenu() {
    var objForm = document.forms['campsuiiref'];
    var menuIndex = objForm.elements['campsuiiref:condMenuTotaled'].selectedIndex;
    var campIndex = objForm.elements['campsuiiref:condCampId'].selectedIndex;

    for (i = 0; i < objForm.elements.length; i++) {
        if (objForm.elements[i].name.indexOf(':condMenuCd') > 0) {
            document.getElementById(objForm.elements[i].name).style.display = 'none';
	        if (objForm.elements[i].name.indexOf('_' + campIndex + ':_') > 0) {
		        if (menuIndex != 0 && objForm.elements[i].name.indexOf('_' + menuIndex + ':condMenuCd') > 0) {
		            document.getElementById(objForm.elements[i].name).style.display = '';
		            for (j = 0; j < document.getElementById(objForm.elements[i].name).length; j++) {
		                if (document.getElementById(objForm.elements[i].name).options[j].value
		                        == objForm.elements['campsuiiref:menuCd'].value)
		                {
		                    document.getElementById(objForm.elements[i].name).selectedIndex = j;
		                }
		            }
		            objForm.elements['campsuiiref:activeSelectMenu'].value = objForm.elements[i].name;
		        }
		    }
        }
    }
}
function switchMenuOner() {
    var objForm = document.forms['campsuiiref'];
    var menuIndex = objForm.elements['campsuiiref:condMenuTotaledOner'].selectedIndex;
    var campIndex = objForm.elements['campsuiiref:condCampIdOner'].selectedIndex;

    for (i = 0; i < objForm.elements.length; i++) {
        if (objForm.elements[i].name.indexOf(':condMenuCdOner') > 0) {
            document.getElementById(objForm.elements[i].name).style.display = 'none';
	        if (objForm.elements[i].name.indexOf('_' + campIndex + ':_') > 0) {
		        if (menuIndex != 0 && objForm.elements[i].name.indexOf('_' + menuIndex + ':condMenuCdOner') > 0) {
		            document.getElementById(objForm.elements[i].name).style.display = 'inline';
		            for (j = 0; j < document.getElementById(objForm.elements[i].name).length; j++) {
		                if (document.getElementById(objForm.elements[i].name).options[j].value
		                        == objForm.elements['campsuiiref:menuCd'].value)
		                {
		                    document.getElementById(objForm.elements[i].name).selectedIndex = j;
		                    break;
		                }
		            }
		            objForm.elements['campsuiiref:activeSelectMenu'].value = objForm.elements[i].name;
		        }
		    }
        }
    }
}
function switchTenpoShubetu(initFlg) {
    var objForm = document.forms['campsuiiref'];
    var tenpoShuIndex = objForm.elements['campsuiiref:condTenpoShubetu'].selectedIndex;
    for (i = 0; i < objForm.elements.length; i++) {
        if (objForm.elements[i].name.indexOf(':condZennenDataShubetu') > 0) {
            document.getElementById(objForm.elements[i].name).selectedIndex = 0;
            document.getElementById(objForm.elements[i].name).style.display = 'none';
	        if (objForm.elements[i].name.indexOf('_' + tenpoShuIndex + ':condZennenDataShubetu') > 0) {
	            document.getElementById(objForm.elements[i].name).style.display = '';
	            if (initFlg) {
		            for (j = 0; j < document.getElementById(objForm.elements[i].name).length; j++) {
		                if (document.getElementById(objForm.elements[i].name).options[j].value
		                        == objForm.elements['campsuiiref:zennenDataShubetu'].value)
		                {
		                    document.getElementById(objForm.elements[i].name).selectedIndex = j;
		                }
		            }
		        }
	            objForm.elements['campsuiiref:activeSelectZennenDataShu'].value = objForm.elements[i].name;
	        }
        }
    }
}
function switchTenpoShubetuOner() {
    var objForm = document.forms['campsuiiref'];
    for (i = 0; i < objForm.elements.length; i++) {
        if (objForm.elements[i].name.indexOf(':condZennenDataShubetuOner') > 0) {
            objForm.elements['campsuiiref:activeSelectZennenDataShu'].value = objForm.elements[i].name;
        }
    }
}
function switchTaishoJoken(initFlg) {
    var objForm = document.forms['campsuiiref'];
    var taishoJokenIndex = objForm.elements['campsuiiref:condTaishoJoken'].selectedIndex;
    var campIndex = objForm.elements['campsuiiref:condCampId'].selectedIndex;
    var taishoJokenValue = objForm.elements['campsuiiref:condTaishoJoken'].options[taishoJokenIndex].value;

    document.getElementById('campsuiiref:doSearchMiseBtn').style.display = 'none';
    for (i = 0; i < objForm.elements.length; i++) {
        if (objForm.elements[i].name.indexOf(':condHyojiTaisho') > 0) {
            document.getElementById(objForm.elements[i].name).selectedIndex = 0;
            document.getElementById(objForm.elements[i].name).style.display = 'none';
	        if (objForm.elements[i].name.indexOf('_' + campIndex + ':_') > 0) {
		        if (taishoJokenValue != 'ALL' && objForm.elements[i].name.indexOf('_' + taishoJokenIndex + ':condHyojiTaisho') > 0) {
		            document.getElementById(objForm.elements[i].name).style.display = '';
		            if (initFlg) {
			            for (j = 0; j < document.getElementById(objForm.elements[i].name).length; j++) {
			                if (document.getElementById(objForm.elements[i].name).options[j].value
			                        == objForm.elements['campsuiiref:hyojiTaisho'].value)
			                {
			                    document.getElementById(objForm.elements[i].name).selectedIndex = j;
			                }
			            }
			        }
		            objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value = objForm.elements[i].name;
		            objForm.elements['campsuiiref:activeSelectMise'].value = '';
		        }
		    }
        }
        if (objForm.elements[i].name.indexOf(':condBlock') > 0) {
            document.getElementById(objForm.elements[i].name).selectedIndex = 0;
            document.getElementById(objForm.elements[i].name).style.display = 'none';
	        if (objForm.elements[i].name.indexOf('_' + campIndex + ':_') > 0) {
		        if (taishoJokenValue != 'ALL' && objForm.elements[i].name.indexOf('_' + taishoJokenIndex + ':condBlock') > 0) {
		            document.getElementById(objForm.elements[i].name).style.display = '';
		            for (j = 0; j < document.getElementById(objForm.elements[i].name).length; j++) {
		                if (document.getElementById(objForm.elements[i].name).options[j].value
		                        == objForm.elements['campsuiiref:blockCd'].value)
		                {
		                    document.getElementById(objForm.elements[i].name).selectedIndex = j;
		                }
		            }
		            objForm.elements['campsuiiref:activeSelectBlock'].value = objForm.elements[i].name;
		        }
		    }
        }
    }
    var elementTextMiseCd = document.getElementById("campsuiiref:condTextHyojiTaisho");
    if (elementTextMiseCd!= null) {
    	var elementBtnMise = document.getElementById("campsuiiref:doSearchMiseBtn");
        elementTextMiseCd.value = '';
        elementTextMiseCd.style.display = 'none';
        elementBtnMise.style.display = 'none';
        if (objForm.elements['campsuiiref:condTaishoJoken'].value == 'MISE') {
            elementTextMiseCd.style.display = '';
            elementBtnMise.style.display = '';
            if (initFlg) {
                elementTextMiseCd.value = objForm.elements['campsuiiref:hyojiTaisho'].value;
            }
            objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value = '';
            objForm.elements['campsuiiref:activeSelectMise'].value = "campsuiiref:condTextHyojiTaisho";
		}
    }
}
function switchTaishoJokenOner(initFlg)  {
    var objForm = document.forms['campsuiiref'];
    var campIndex = objForm.elements['campsuiiref:condCampIdOner'].selectedIndex;

    if (objForm.elements['campsuiiref:userType'].value == '02') {
	    for (i = 0; i < objForm.elements.length; i++) {
	        if (objForm.elements[i].name.indexOf(':condHyojiTaishoOner') > 0) {
	            document.getElementById(objForm.elements[i].name).selectedIndex = 0;
	            document.getElementById(objForm.elements[i].name).style.display = 'none';
		        if (objForm.elements[i].name.indexOf('_' + campIndex + ':_') > 0) {
		            document.getElementById(objForm.elements[i].name).style.display = '';
		            if (initFlg) {
			            for (j = 0; j < document.getElementById(objForm.elements[i].name).length; j++) {
			                if (document.getElementById(objForm.elements[i].name).options[j].value
			                        == objForm.elements['campsuiiref:hyojiTaisho'].value)
			                {
			                    document.getElementById(objForm.elements[i].name).selectedIndex = j;
			                }
			            }
			        }
		            objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value = objForm.elements[i].name;
		        }
		    }
	    }
	}
	else {
	    for (i = 0; i < objForm.elements.length; i++) {
	        if (objForm.elements[i].name.indexOf(':condHyojiTaishoTenpo') > 0) {
	            document.getElementById(objForm.elements[i].name).style.display = 'none';
		        if (objForm.elements[i].name.indexOf('_' + campIndex + ':_') > 0) {
		            for (j = 0; j < document.getElementById(objForm.elements[i].name).length; j++) {
		                if (document.getElementById(objForm.elements[i].name).options[j].value
		                        == objForm.elements['campsuiiref:hyojiTaisho'].value && initFlg)
		                {
		                    document.getElementById(objForm.elements[i].name).selectedIndex = j;
		                }
		            }
		            objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value = objForm.elements[i].name;
		        }
		    }
	    }
	}
}

function setCondValue() {
    var objForm = document.forms['campsuiiref'];
    if (objForm.elements['campsuiiref:condMenuTotaled'].selectedIndex != 0) {
	    objForm.elements['campsuiiref:menuCd'].value =
	        objForm.elements[objForm.elements['campsuiiref:activeSelectMenu'].value].value;
    }
    if (objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value != '') {
	    objForm.elements['campsuiiref:hyojiTaisho'].value =
	        objForm.elements[objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value].value;
    }
    if (objForm.elements['campsuiiref:activeSelectBlock'].value != '') {
        objForm.elements['campsuiiref:blockCd'].value =
            objForm.elements[objForm.elements['campsuiiref:activeSelectBlock'].value].value;
    }
    if (objForm.elements['campsuiiref:activeSelectMise'].value != '') {
	    objForm.elements['campsuiiref:hyojiTaisho'].value =
	        objForm.elements[objForm.elements['campsuiiref:activeSelectMise'].value].value;
	}
    objForm.elements['campsuiiref:zennenDataShubetu'].value =
        objForm.elements[objForm.elements['campsuiiref:activeSelectZennenDataShu'].value].value;
}
function execFunction() {
    if (returnLoadingStatus()) {
	    var objForm = document.forms['campsuiiref'];
	    setCondValue();
	    setWindowTarget(objForm);
	    dispWaitMsg();
		document.forms['campsuiiref'].elements['campsuiiref:__link_clicked__'].value='campsuiiref:doExecute';
		document.forms['campsuiiref'].submit();
	}
}
function execFunctionOner() {
    if (returnLoadingStatus()) {
	    var objForm = document.forms['campsuiiref'];
	    if (objForm.elements['campsuiiref:condMenuTotaledOner'].selectedIndex != 0) {
		    objForm.elements['campsuiiref:menuCd'].value =
		        objForm.elements[objForm.elements['campsuiiref:activeSelectMenu'].value].value;
	    }
	    if (objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value != '') {
		    objForm.elements['campsuiiref:hyojiTaisho'].value =
		        objForm.elements[objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value].value;
	    }
	    objForm.elements['campsuiiref:zennenDataShubetu'].value =
	        objForm.elements[objForm.elements['campsuiiref:activeSelectZennenDataShu'].value].value;

	    if (objForm.elements[objForm.elements['campsuiiref:activeSelectHyojiTiaho'].value].value == 'ALL') {
	        objForm.elements['campsuiiref:condTaishoJokenOner'].value = 'ALL';
	    }
	    else {
	        objForm.elements['campsuiiref:condTaishoJokenOner'].value = 'MISE';
	    }
	    setWindowTarget(objForm);
	    dispWaitMsg();
		document.forms['campsuiiref'].elements['campsuiiref:__link_clicked__'].value='campsuiiref:doExecute';
		document.forms['campsuiiref'].submit();
	}
}
function dispWaitMsg() {
	if (document.campsuiiref.target == "_self") {
	    document.forms['campsuiiref'].elements['campsuiiref:doExecuteBtn'].disabled = true;
		if(document.getElementById("campsuiiref:pane_result")!=null) {
	    	document.getElementById("campsuiiref:pane_result").style.display = "none";
		}
	    document.getElementById("campsuiiref:pane_waitmsg").style.display = "";
	}
}

function setWindowTarget(objForm) {
    if (document.getElementById('campsuiiref:newWindowFlgDisp') != null
            && objForm.elements['campsuiiref:newWindowFlgDisp'].checked)
    {
        objForm.elements['campsuiiref:newWindowFlg'].value = objForm.elements['campsuiiref:newWindowFlgDisp'].checked;
        objForm.elements['campsuiiref:loadingFlg'].value = "";
        document.campsuiiref.target = "_blank";
    }
    else {
        document.campsuiiref.target = "_self";
    }
}
function doCsvDownload() {
    if(isLoadingFlgOFF()) {
	    document.campsuiiref.target = "_self";
		document.forms['campsuiiref'].elements['campsuiiref:__link_clicked__'].value='campsuiiref:doCsvDownload';
		document.forms['campsuiiref'].submit();
	}
}
function focusElement(formName) {
	var objForm = document.forms[formName];
	var elementName = document.focusElementForm.elements["FOCUS_ELEMENT"].value;
	var elementIndex = document.focusElementForm.elements["FOCUS_ELEMENT_INDEX"].value;

	if (elementName == '') {
	}
	else {
	    for (i = 0; i < objForm.elements.length; i++) {
	        if (objForm.elements[i].name.indexOf(':' + elementName) > 0) {
		        if (objForm.elements[i].name.indexOf('_' + elementIndex + ':_') > 0) {
		            if (document.getElementById(objForm.elements[i].name).style.display == 'inline') {
		                objForm.elements[objForm.elements[i].name].focus();
		                return;
		            }
		        }
		    }
		}
	}
}
function doCallMiseForm() {
    setCondValue();
    document.campsuiiref.target = "_self";
	document.forms['campsuiiref'].elements['campsuiiref:__link_clicked__'].value='campsuiiref:doSearchMise';
	document.forms['campsuiiref'].submit();
}
function returnLoadingStatus(){
	if(isLoadingFlgOFF()) {
		setLoadingFlg();
		return true;
	}
	return false;
}
function isLoadingFlgOFF(){
	return (document.campsuiiref.elements['campsuiiref:loadingFlg'].value != "ON");
}
function setLoadingFlg() {
	document.campsuiiref.elements['campsuiiref:loadingFlg'].value = "ON";
}
-->
</script>

<form m:id="campsuiiref" onkeydown="setDefaultSubmitButton('campsuiiref', 'doExecuteBtn');" target="_self">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="hidden" m:id="windowId" m:value="#{campsuiirefRequestSuiiDto.windowId}"/>
<input type="hidden" id="loadingFlg" value=""/>
<input type="hidden" m:id="nendo" m:value="#{campsuiirefRequestSuiiDto.nendo}"/>
<input type="hidden" m:id="companyCd" m:value="#{campsuiirefRequestSuiiDto.companyCd}"/>
<input type="hidden" m:id="menuCd" m:value="#{campsuiirefRequestSuiiDto.menuCd}"/>
<input type="hidden" m:id="hyojiTaisho" m:value="#{campsuiirefRequestSuiiDto.hyojiTaisho}"/>
<input type="hidden" m:id="blockCd" m:value="#{campsuiirefRequestSuiiDto.blockCd}"/>
<input type="hidden" m:id="zennenDataShubetu" m:value="#{campsuiirefRequestSuiiDto.zennenDataShubetu}"/>
<input type="hidden" id="view_windowId" m:value="#{campsuiirefViewRequestSuiiDto.windowId}"/>
<input type="hidden" id="view_companyCd" m:value="#{campsuiirefViewRequestSuiiDto.companyCd}"/>
<input type="hidden" id="view_nendo" m:value="#{campsuiirefViewRequestSuiiDto.nendo}"/>
<input type="hidden" id="view_campId" m:value="#{campsuiirefViewRequestSuiiDto.campId}"/>
<input type="hidden" id="view_menuTotaledKbn" m:value="#{campsuiirefViewRequestSuiiDto.menuTotaledKbn}"/>
<input type="hidden" id="view_tenpoShubetu" m:value="#{campsuiirefViewRequestSuiiDto.tenpoShubetu}"/>
<input type="hidden" id="view_taishoJoken" m:value="#{campsuiirefViewRequestSuiiDto.taishoJoken}"/>
<input type="hidden" id="view_hyojiTaisho" m:value="#{campsuiirefViewRequestSuiiDto.hyojiTaisho}"/>
<input type="hidden" id="view_zennenDataShubetu" m:value="#{campsuiirefViewRequestSuiiDto.zennenDataShubetu}"/>
<input type="hidden" id="view_menuCd" m:value="#{campsuiirefViewRequestSuiiDto.menuCd}"/>
<input type="hidden" id="view_blockCd" m:value="#{campsuiirefViewRequestSuiiDto.blockCd}"/>
<input type="hidden" m:id="activeSelectMenu"/>
<input type="hidden" m:id="activeSelectHyojiTiaho"/>
<input type="hidden" m:id="activeSelectBlock"/>
<input type="hidden" m:id="activeSelectMise"/>
<input type="hidden" m:id="activeSelectZennenDataShu"/>
<input type="hidden" m:id="newWindowFlg" m:value="#{campsuiirefRequestSuiiDto.newWindowFlg}"/>
<a m:id="doExecute" m:action="#{campsuiirefCampSuiiRefAction.doExecute}"/>
<a m:id="doCsvDownload" m:action="#{campsuiirefCsvAction.downloadCsv}"/>
<a m:id="doSearchMise" m:action="#{campsuiirefCampSuiiRefAction.doSearchMise}"/>
<input type="hidden" m:id="userType" m:value="#{userType}"/>

<span m:rendered="#{campsuiirefRequestSuiiDto.listsCamp == null}">
  <p/><span style="font-weight:bold;">現在表示期間中のキャンペーンは存在しません。</span>
</span>
<span m:rendered="#{campsuiirefRequestSuiiDto.listsCamp != null}">
<table class="hiddenBody" style="margin-bottom:4px;">
	<tr>
	<td>
		<!--本部ユーザー条件-->
		<table m:rendered="#{campsuiirefSessionSuiiDto.userTypeCd == '01'}"
		       class="body_table honbu_table">
		  <tr>
		    <th width="80px">キャンペーン</th>
		    <td >
		        <div class="hideArea">
		        <select class="condition_field"
		                m:value="#{campsuiirefRequestSuiiDto.campId}"
		                m:items="#{campsuiirefRequestSuiiDto.listsCamp}"
		                m:id="condCampId"
		                m:itemValue="campId"
		                m:itemLabel="campTitle"
		                m:onchange="switchCamp();"/>
		        </div>
		    </td>
		    <th colspan="2">メニュー</th>
		    <td style="border-right-width:0px;">
		        <div class="hideArea">
		        <select
		            m:value="#{campsuiirefRequestSuiiDto.menuTotaledKbn}"
		            m:items="#{campsuiirefSessionSuiiDto.listMenuTotaled}"
		            m:id="condMenuTotaled"
		            m:itemValue="code"
		            m:itemLabel="value"
		            m:onchange="switchMenu();"/></div></td>
		    <td style="border-left-width:0px;">
		    	<div class="hideArea">
		<span m:inject="s:forEach" m:items="#{campsuiirefRequestSuiiDto.listsMenu}" m:var="e" m:varindex="i"><span m:inject="s:forEach" m:items="#{e.listData}" m:var="f" m:varindex="j">
		<select m:rendered="#{f.listData != null}"
		 m:items="#{f.listData}"
		 m:id="condMenuCd"
		 m:itemValue="code"
		 m:itemLabel="name"
		 style="display:none;"/></span></span>
				</div>
		    </td>
		    <th>店舗種別</th>
		    <td width="95px" style="border-right-width:0px;">
		        <div class="hideArea">
		        <select
		            m:value="#{campsuiirefRequestSuiiDto.tenpoShubetu}"
		            m:items="#{campsuiirefSessionSuiiDto.listTenpoShubetu}"
		            m:id="condTenpoShubetu"
		            m:itemValue="code"
		            m:itemLabel="value"
		            m:onchange="switchTenpoShubetu(false);"/>
		        </div>
		    </td>
		    <td style="border-left-width:0px;"></td>
		  </tr>
		  <tr>
		    <th width="80px" style="">対象条件</th>
		    <td width="80px" style="">
		        <div class="hideArea">
		        <select
		            m:value="#{campsuiirefRequestSuiiDto.taishoJoken}"
		            m:items="#{campsuiirefRequestSuiiDto.listTaishoJoken}"
		            m:id="condTaishoJoken"
		            m:itemValue="code"
		            m:itemLabel="value"
		            m:onchange="switchTaishoJoken(false);"/>
		        </div>
		    </td>
		    <th width="70px" style="border-right-width:0px;">表示対象</th>
		    <th style="border-left-width:0px;">
		        <input type="button" value="検索"  m:id="doSearchMiseBtn" style="display:none;"
                        onclick="doCallMiseForm();" ondblclick="return false;"
                       class="button_in_table"/></th>
		    <td width="*"  nowrap colspan="2">
		        <div class="hideArea">
		          <span m:inject="s:forEach" m:items="#{campsuiirefRequestSuiiDto.listsHyojiTaisho}" m:var="e" m:varindex="i">
		          <span m:inject="s:forEach" m:items="#{e.listData}" m:var="f" m:varindex="j">
		            <select m:rendered="#{f.listData != null}"
		                m:items="#{f.listData}"
		                m:id="condHyojiTaisho"
		                m:itemValue="hyojitaishoCd"
		                m:itemLabel="hyojitaishoName"
		                style="display:none;"/>
		            <select m:rendered="#{f.key == 'SIBU'}"
		                m:items="#{campsuiirefSessionSuiiDto.listBlock}"
		                m:id="condBlock"
		                m:itemValue="blockCd"
		                m:itemLabel="blockName"
		                style="display:none;"/>
		          </span>
		          </span>
		        </div>
		        <input type="text" class="imenotuse height_11"
		               m:id="condTextHyojiTaisho"
		               maxlength="5" size="10"
		               style="display:none;"/>
		    </td>
		    <th width="95px" style="">前年データ種別</th>
		    <td width="95px" style="border-right-width:0px;">
		        <div class="hideArea">
		        <div m:inject="s:forEach"
		             m:items="#{campsuiirefSessionSuiiDto.listsZennenDataShubetu}"
		             m:var="e" m:varindex="i">
		        <select m:items="#{e.listData}"
		            m:id="condZennenDataShubetu"
		            m:itemValue="key"
		            m:itemLabel="name"
		            style="display:none;"/>
		        </div>
		        </div>
		    </td>
	        <td style="border-left-width:0px;">
	    		<input type="button" name="campsuiiref:doExecuteBtn"
		       value="#{campsuiirefRequestSuiiDto.existSearchedData ? '再検索' : '実行'}"
		       class="button_in_table"
		       onclick="execFunction();" ondblclick="return false;"/></td>
		  </tr>
		</table>
		<!--オーナー・店舗ユーザー用条件-->
		<table m:rendered="#{campsuiirefSessionSuiiDto.userTypeCd != '01'}"
		       class="body_table ">
		  <tr>
		    <th>キャンペーン
		    <input type="hidden" m:id="condTaishoJokenOner" m:value="#{campsuiirefRequestSuiiDto.taishoJoken}"/>
		    </th>
		    <td>
		        <div class="hideArea">
		        <select
		                m:value="#{campsuiirefRequestSuiiDto.campId}"
		                m:items="#{campsuiirefRequestSuiiDto.listsCamp}"
		                m:id="condCampIdOner"
		                m:itemValue="campId"
		                m:itemLabel="campTitle"
		                m:onchange="switchCampOner();"/>
		        </div>
		    </td>
		    <th>メニュー</th>
		    <td style="border-right-width:0px;">
		        <div class="hideArea">
		        <select
		            m:value="#{campsuiirefRequestSuiiDto.menuTotaledKbn}"
		            m:items="#{campsuiirefSessionSuiiDto.listMenuTotaled}"
		            m:id="condMenuTotaledOner"
		            m:itemValue="code"
		            m:itemLabel="value"
		            m:onchange="switchMenuOner();"/></div>
		    </td>
		    <td style="border-left-width:0px;">
		    	<div class="hideArea">
				<span m:inject="s:forEach" m:items="#{campsuiirefRequestSuiiDto.listsMenu}" m:var="e" m:varindex="i">
				<span m:inject="s:forEach" m:items="#{e.listData}" m:var="f" m:varindex="j">
					<select m:rendered="#{f.listData != null}"
							m:items="#{f.listData}"
							m:id="condMenuCdOner"
							m:itemValue="code"
							m:itemLabel="name"
							style="display:none;"/></span></span></div>
		    </td>
		  </tr>
		  <tr>
		    <th>店舗</th>
		    <td nowrap>
		        <div class="hideArea" m:rendered="#{campsuiirefSessionSuiiDto.userTypeCd == '02'}">
		          <div m:inject="s:forEach" m:items="#{campsuiirefRequestSuiiDto.listsHyojiTaisho}" m:var="e" m:varindex="i">
		          <div m:inject="s:forEach" m:items="#{e.listData}" m:var="f" m:varindex="j">
		            <select m:rendered="#{f.listData != null && f.key == 'MISE'}"
		                m:items="#{f.listData}"
		                m:id="condHyojiTaishoOner"
		                m:itemValue="hyojitaishoCd"
		                m:itemLabel="hyojitaishoNameAddClose"
		                style="display:none;"/>
		          </div>
		          </div>
		        </div>
		        <div m:rendered="#{campsuiirefSessionSuiiDto.userTypeCd == '03'}">
		          <div m:inject="s:forEach" m:items="#{campsuiirefRequestSuiiDto.listsHyojiTaisho}" m:var="e" m:varindex="i">
		          <div m:inject="s:forEach" m:items="#{e.listData}" m:var="f" m:varindex="j">
		            <select m:rendered="#{f.listData != null && f.key == 'MISE'}"
		                m:items="#{f.listData}"
		                m:id="condHyojiTaishoTenpo"
		                m:itemValue="hyojitaishoCd"
		                m:itemLabel="hyojitaishoNameAddClose"
		                style="display:none;"/>
		            <div m:inject="s:forEach" m:items="#{f.listData}" m:var="g" m:varindex="j">
		              <span m:converter="#{characterEncodingConverter}" m:rendered="#{f.key == 'MISE'}" m:value="#{g.hyojitaishoNameAddClose}" m:id="condHyojiTaishoTenpoLabel" m:style="#{i == 0 ? 'display:inline;' : 'display:none;'}"/>
		            </div>
		          </div>
		          </div>
		        </div>
		    </td>
		    <th>前年データ種別</th>
		    <td style="border-right-width:0px;">
		        <div class="hideArea">
		        <div m:inject="s:forEach" m:items="#{campsuiirefSessionSuiiDto.listsZennenDataShubetu}" m:var="e" m:varindex="i">
		        <select
		            m:items="#{e.listData}"
		            m:id="condZennenDataShubetuOner"
		            m:itemValue="key"
		            m:itemLabel="name"/>
		        </div>
		        </div>
		    </td>
	        <td style="border-left-width:0px;" align="right">
		    		<input type="button" name="campsuiiref:doExecuteBtn"
		       value="#{campsuiirefRequestSuiiDto.existSearchedData ? '再検索' : '実行'}"
		       onclick="execFunctionOner();" ondblclick="return false;"/></td>
		  </tr>
		</table>
	</td>
	</tr>
	</table>
</span>

<div m:id="pane_waitmsg" style="display:none;font-weight:bold;">
	<p/>検索しています。しばらくお待ち下さい・・・</div>
<div m:rendered="#{campsuiirefViewRequestSuiiDto.existSearchedData}" m:id="pane_result">
<div class="scroll_padding_head">
<div class="scroll_hidden margin_bottom_hidden">
<table class="hiddenBody rsttable_w" style="margin-bottom:4px;">
	<tr><td>
	<table class="body_table2">
	    <col class="infotable_w1"/>
	    <col class="infotable_w2"/>
	    <col class="infotable_w3"/>
	    <col class="infotable_w4"/>
	    <col class="infotable_w5"/>
	    <col class="infotable_w6"/>
	    <tr class="header_row">
	        <th>対象期間</th>
	        <td>
	            <span m:value="#{campsuiirefViewRequestSuiiDto.mstCampDate.campFrom}" m:converter="#{campsuiirefDateConverter}"/>〜
	            <span m:rendered="#{campsuiirefViewRequestSuiiDto.mstCampDate.campTo > campsuiirefSessionSuiiDto.appDate}" m:value="#{campsuiirefSessionSuiiDto.appDate}" m:converter="#{campsuiirefDateConverter}"/>
	            <span m:rendered="#{campsuiirefViewRequestSuiiDto.mstCampDate.campTo <= campsuiirefSessionSuiiDto.appDate}" m:value="#{campsuiirefViewRequestSuiiDto.mstCampDate.campTo}" m:converter="#{campsuiirefDateConverter}"/>
	        </td>
	        <th>対象店舗数</th>
	        <td style="text-align:right;width:50px;">
	          <span m:value="#{campsuiirefViewRequestSuiiDto.taishoTenpoCnt}" m:converter="#{campsuiirefDigit0Converter}"/>
	        </td>
	        <th>表示対象</th>
	        <td>
	            <span m:converter="#{characterEncodingConverter}" m:rendered="#{campsuiirefViewRequestSuiiDto.taishoJoken != 'ALL'}"><span m:converter="#{characterEncodingConverter}" m:value="#{campsuiirefViewRequestSuiiDto.hyojiTaisho}"/>&nbsp;</span><span m:converter="#{characterEncodingConverter}" m:value="#{campsuiirefViewRequestSuiiDto.hyojiTaishoName}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:rendered="#{campsuiirefViewRequestSuiiDto.taishoJoken == 'SIBU'}" m:value="#{campsuiirefViewRequestSuiiDto.blockName}"/>
	        </td>
	    </tr>
	</table>
	</td><td align="right">
		<table class="hiddenBody">
	<tr><td>
	  <input type="button" value="ダウンロード" onclick="doCsvDownload();" ondblclick="return false;"/>
	  </td><td><input type="checkbox" m:id="newWindowFlgDisp" m:value="#{campsuiirefRequestSuiiDto.newWindowFlg}"/>別ウィンドウに表示
		</td>
		</tr>
	</table>
	</td>
	</tr>
</table>

<table class="body_table2 rsttable_w ">
    <tr class="header_row">
        <th class="rsttable_w1">営業日</th>
        <th m:rendered="#{campsuiirefViewRequestSuiiDto.taishoJoken == 'MISE'}" class="rsttable_w2">天候</th>
        <th class="rsttable_w3">販売個数</th>
        <th class="rsttable_w4">販売金額</th>
        <th class="rsttable_w5">金額<br/>構成比</th>
        <th class="rsttable_w6">売上</th>
        <th class="rsttable_w7">前年売上</th>
        <th m:rendered="#{campsuiirefViewRequestSuiiDto.taishoJoken == 'MISE'}" class="rsttable_w8">前年天候</th>
        <th class="rsttable_w9">前年比<br/>（売上）</th>
        <th class="rsttable_w10">前年比<br/>（客数）</th>
        <th class="rsttable_w11">前年比<br/>（客単価）</th>
    </tr>
</table>
</div>
</div>
<div class="scroll_padding_data">
<div class="scroll_standby " id="campsuiiScroll">
<table class="body_table2 rsttable_w" style="border-top-width:0px">
    <span m:inject="s:forEach" m:items="#{campsuiirefViewRequestSuiiDto.listSearchData}" m:var="e" m:varindex="i">
    <tr class="#{e.eigyoDt == null?'body_sum5':''} non_top_border">
        <td class="rsttable_w1" style="text-align:center;font-weight:bold;"><span m:value="#{e.eigyoDt == null?'総合計':e.eigyoDt}" m:converter="#{campsuiirefDateConverterMD}"/></td>
        <td m:rendered="#{campsuiirefViewRequestSuiiDto.taishoJoken == 'MISE'}" class="rsttable_w2 font_size_14" style="text-align:center;"><span m:converter="#{characterEncodingConverter}" m:value="#{e.tenkoKbnKigou}"/></td>
        <td class="rsttable_w3 body_num font_size_14"><span m:value="#{e.kazuKei}" m:converter="#{campsuiirefDigit0Converter}"/></td>
        <td class="rsttable_w4 body_num font_size_14"><span m:value="#{e.menuUriage}" m:converter="#{campsuiirefDigit0Converter}"/></td>
        <td class="rsttable_w5 body_num#{e.eigyoDt == null?'':'_n'} font_size_14"><span m:value="#{e.kingakuKoseiHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td class="rsttable_w6 body_num font_size_14"><span m:value="#{e.uriage}" m:converter="#{bizreportNumericCnvt}"/></td>
        <td m:rendered="#{campsuiirefViewRequestSuiiDto.zennenDataShubetu != 'DOGETUHOSEI'}" class="rsttable_w7 body_num font_size_14"><span m:value="#{e.uriageZen}" m:converter="#{bizreportNumericCnvt}"/></td>
        <td m:rendered="#{campsuiirefViewRequestSuiiDto.zennenDataShubetu == 'DOGETUHOSEI'}" class="rsttable_w7 body_num font_size_14"><span m:value="#{e.netUriageZen}" m:converter="#{bizreportNumericCnvt}"/></td>
        <td m:rendered="#{campsuiirefViewRequestSuiiDto.taishoJoken == 'MISE'}" class="rsttable_w8 font_size_14" style="text-align:center;"><span m:converter="#{characterEncodingConverter}" m:value="#{e.tenkoKbnZenKigou}"/></td>
        <td m:rendered="#{e.uriageZennenhi < 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu != 'DOGETUHOSEI'}" class="rsttable_w9 body_hiritu#{e.eigyoDt == null?'':'_m'} font_size_14"><span m:value="#{e.uriageZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.uriageZennenhi >= 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu != 'DOGETUHOSEI'}" class="rsttable_w9 body_num#{e.eigyoDt == null?'':'_n'} font_size_14"><span m:value="#{e.uriageZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.kyakusuZennenhi < 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu != 'DOGETUHOSEI'}" class="rsttable_w10 body_hiritu#{e.eigyoDt == null?'':'_m'} font_size_14"><span m:value="#{e.kyakusuZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.kyakusuZennenhi >= 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu != 'DOGETUHOSEI'}" class="rsttable_w10 body_num#{e.eigyoDt == null?'':'_n'} font_size_14"><span m:value="#{e.kyakusuZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.kyakutankaZennenhi < 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu != 'DOGETUHOSEI'}" class="rsttable_w11 body_hiritu#{e.eigyoDt == null?'':'_m'} font_size_14"><span m:value="#{e.kyakutankaZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.kyakutankaZennenhi >= 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu != 'DOGETUHOSEI'}" class="rsttable_w11 body_num#{e.eigyoDt == null?'':'_n'} font_size_14"><span m:value="#{e.kyakutankaZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.uriageZennenhi < 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu == 'DOGETUHOSEI'}" class="rsttable_w9 body_hiritu#{e.eigyoDt == null?'':'_m'} font_size_14"><span m:value="#{e.netUriageZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.uriageZennenhi >= 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu == 'DOGETUHOSEI'}" class="rsttable_w9 body_num#{e.eigyoDt == null?'':'_n'} font_size_14"><span m:value="#{e.netUriageZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.kyakusuZennenhi < 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu == 'DOGETUHOSEI'}" class="rsttable_w10 body_hiritu#{e.eigyoDt == null?'':'_m'} font_size_14"><span m:value="#{e.netKyakusuZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.kyakusuZennenhi >= 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu == 'DOGETUHOSEI'}" class="rsttable_w10 body_num#{e.eigyoDt == null?'':'_n'} font_size_14"><span m:value="#{e.netKyakusuZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.kyakutankaZennenhi < 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu == 'DOGETUHOSEI'}" class="rsttable_w11 body_hiritu#{e.eigyoDt == null?'':'_m'} font_size_14"><span m:value="#{e.netKyakutankaZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
        <td m:rendered="#{e.kyakutankaZennenhi >= 100 && campsuiirefViewRequestSuiiDto.zennenDataShubetu == 'DOGETUHOSEI'}" class="rsttable_w11 body_num#{e.eigyoDt == null?'':'_n'} font_size_14"><span m:value="#{e.netKyakutankaZennenHi}" m:converter="#{campsuiirefDigit2Converter}"/></td>
    </tr>
    </span>
</table>
</div>
</div>
</div>
<input type="text" m:id="dummyEnter" style="display:none"/>
</form>
</div>
</body>
</html>
