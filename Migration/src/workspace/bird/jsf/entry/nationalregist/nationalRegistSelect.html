<html xmlns:m="http://www.seasar.org/maya" m:action="#{nationalRegistSelectAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<title>全国大会マスタ登録</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="全国大会マスタ登録"/>
<span m:inject="s:insert" m:name="bodyTitleName">■全国大会マスタ登録</span>
<span m:inject="f:param" m:name="onLoadName" m:value="bodyLoad()"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BEN014V01"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
/** スクロール */
.scroll_area {
	overflow	:auto;
	height		:395px;
	width		:991px;
}
/**  */
.prevYearData, table tr.prevYearData td {
	background-color:#CCCCCC;
}
.col_radio {
	width		: 30px;
	text-align	: center;
}
.col_openDt {
	width		: 250px;
}
.col_title {
	width		: 310px;
}
.col_date {
	width		: 90px;
}
-->
</style>
<script type="text/javascript">
<!--
function bodyLoad() {
	// フォーカス設定
	focusElement("nationalRegistSelect");
}
//-->
</script>

<form m:id="nationalRegistSelect">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="hidden" m:id="windowId" m:value="#{nationalRegistDto.windowId}"/>

<!-- 画面操作エリア -->
<input type="submit" value="新規" m:action="#{nationalRegistSelectAction.insert}"/>&nbsp;&nbsp;
<span m:rendered="#{nationalRegistDto.existRegistData == true}">
	<input type="submit" value="編集" m:action="#{nationalRegistSelectAction.update}"/>&nbsp;&nbsp;
	<input type="submit" value="削除" m:action="#{nationalRegistSelectAction.delete}"/>
</span>
<!-- 全国大会マスタ情報リストエリア(全国大会マスタ登録情報が存在する場合表示)-->
<span m:rendered="#{!nationalRegistDto.emptyMstInfoList}">
<font style="display:block;font-weight:bold;margin-top:4px;">
※日付はオーナーの設定期間です。<br/>
※申込が開始されている全国大会は削除することができません。<br/>
</font>
<table class="body_table2" style="clear:both; margin-top:4px;width:974px;">
	<tr class="header_row">
		<th class="col_radio"/>
		<th class="col_openDt">開催日</th>
		<th class="col_title">イベント名称</th>
		<th class="col_date">申込開始</th>
		<th class="col_date">申込終了</th>
		<th class="col_date">表示開始</th>
		<th class="col_date">表示終了</th>
	</tr>
</table>
<!--縦スクロールを設定-->
<div class="scroll_area">
<!--ラジオボタンの設定-->
<span m:converter="#{characterEncodingConverter}" m:inject="s:selectOneRadio2" m:value="#{nationalRegistDto.selectIndex}">
<!--一覧テーブルの設定-->
<table class="body_table2" width="974px" style="border-top-width:0px;">
	<span m:inject="s:forEach" m:items="#{nationalRegistDto.mstInfoList}" m:var="e" m:varindex="i">
		<tr m:class="#{(e.entryYear >= nationalRegistDto.sysNendo) == true ? '' : 'prevYearData'} non_top_border font_size_14">
			<td class="col_radio">
				<span m:rendered="#{(e.entryYear >= nationalRegistDto.sysNendo) == true}">
					<input type="radio" m:value="#{i}"/>
				</span>
			</td>
			<td class="col_openDt">
				<span m:value="#{e.openFrom}" m:converter="#{dateConverterWeek}"/>
				〜
				<span m:value="#{e.openTo}" m:converter="#{dateConverterWeek}"/>
			</td>
			<td class="col_title"><span m:converter="#{characterEncodingConverter}" m:value="#{e.entryTitle}"/></td>
			<td class="col_date"><span m:value="#{e.onerEntryFrom}" m:converter="#{dateConverter}"/></td>
			<td class="col_date"><span m:value="#{e.onerEntryTo}" m:converter="#{dateConverter}"/></td>
			<td class="col_date"><span m:value="#{e.onerDispFrom}" m:converter="#{dateConverter}"/></td>
			<td class="col_date"><span m:value="#{e.onerDispTo}" m:converter="#{dateConverter}"/></td>
		</tr>
	</span>
</table>
</span>
</div>
</span>
</form>
</div>
</body>
</html>
