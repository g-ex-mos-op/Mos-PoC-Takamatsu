<html xmlns:m="http://www.seasar.org/maya" m:action="#{lumpTakeInResultAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<title>P/LCSV一括取込</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="P/LCSV一括取込"/>
<span m:inject="s:insert" m:name="bodyTitleName">■P/LCSV一括取込</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS002V02"/>
<span m:inject="f:param" m:name="onLoadName" m:value="load();"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
.data_table_width {
    width:98%;
}
.pldatalist_pane {
	margin-top			: 20px;
}
.pldatalist_col_mise {
	width				: *;
}
.pldatalist_col_date {
	width				: 58px;
}
.pldatalist_col_status {
	width				: 78px;
}
.pldatalist_col_check {
	width				: 60px;
}
table.body_table2 tr td.pldatalist_col_status, table.body_table2 tr td.pldatalist_col_check {
	text-align			: center;
}
-->
</style>
<SCRIPT LANGUAGE="javascript">
<!--
function load(){
	loadScroll("lumpTakeinScroll", 380);
}
-->
</SCRIPT>
<div class="lump_take_in_result_body">
<form m:id="lumpTakeInResult">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="submit" value="再確認" m:action="#{lumpTakeInResultAction.refresh}"/>
<input type="submit" value="戻る" m:action="#{lumpTakeInResultAction.back}"/>

<div m:rendered="#{!lumpTakeInDto.emptyPlDataList}">
<div class="scroll_padding_head">
<div class="scroll_hidden margin_bottom_hidden">
<table class="body_table2 data_table_width" style="margin-top:4px;">
	<caption class="body_title width_percent_98_98">登録状況一覧</caption>
    <tr class="header_row">
        <th class="pldatalist_col_mise" rowspan="2">店舗</th>
        <th class="pldatalist_col_date" rowspan="2">年月</th>
        <th class="pldatalist_col_status" rowspan="2">登録状況</th>
        <th colspan="3">科目不整合</th>
        <th colspan="4">内訳不整合</th>
        <th colspan="2">ワーニング</th>
    </tr>
    <tr class="header_row">
        <th class="pldatalist_col_check">月次<br/>損益</th>
        <th class="pldatalist_col_check">内訳</th>
        <th class="pldatalist_col_check">借入金</th>
        <th class="pldatalist_col_check">売上高</th>
        <th class="pldatalist_col_check">売上<br/>原価</th>
        <th class="pldatalist_col_check">水光<br/>熱費</th>
        <th class="pldatalist_col_check">給料<br/>手当</th>
        <th class="pldatalist_col_check">POS<br/>売上</th>
        <th class="pldatalist_col_check">金額<br/>範囲</th>
    </tr>
</table>
</div>
</div>
<div class="scroll_padding_data">
<div class="scroll_standby" id="lumpTakeinScroll">
<table class="body_table2 data_table_width" style="border-top-width:0px;">
	<div m:inject="s:forEach" m:id="foreachname"
	     m:items="#{lumpTakeInDto.plDataList}" m:var="e" m:varindex="i">
    <tr class="non_top_border font_size_14">
        <td class="pldatalist_col_mise">
        	<!-- 店コード正常 -->
        	<span m:rendered="#{!e.plDataErrorInfo.existErrorMiseCd && !e.plDataErrorInfo.existErrorMiseCdDuplicate}">
	        	<a m:action="#{lumpTakeInResultAction.callInput}" target="plregist">
	        		<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
	        		<span m:converter="#{characterEncodingConverter}" m:inject="f:param" m:name="selectIndex" m:value="#{i}"/>
	        	</a>
        	</span>
        	<!-- 店コードエラー -->
        	<span m:rendered="#{e.plDataErrorInfo.existErrorMiseCd}">
        		<span m:value="#{e.miseCd}"/>&nbsp;<span m:value="#{(e.plType == '0') ? 'オーナーコードエラー' : '店コードエラー'}"/>
        	</span>
        	<!-- 店コード重複 -->
        	<span m:rendered="#{e.plDataErrorInfo.existErrorMiseCdDuplicate && !e.plDataErrorInfo.existErrorMiseCd}">
        		<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
        		<span m:value="#{(e.plType == '0') ? '(オーナーコード重複)' : '(店重複)'}"/>
        	</span>
        </td>
        <td class="pldatalist_col_date"><span m:value="#{e.plYm}" m:converter="#{lumpTakeInPlYmConverter}"/></td>
        <td class="pldatalist_col_status">
        	<span m:value="#{(e.errFlg != '0') ? 'エラー' : '登録済'}"/>
        	<span m:rendered="#{e.plDataErrorInfo.existErrorMiseCdClosed}">(W)</span>
        </td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolSubjectProfit}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolSubjectDetail}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolSubjectLoan}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolDetailSales}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolDetailCost}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolDetailWater}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolDetailSalary}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolWarningSales}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolWarningLimit}"/></td>
    </tr>
    </div>
</table>
</div>
</div>
</div>

<div m:rendered="#{lumpTakeInDto.emptyPlDataList}" style="margin-top:20px;">
	該当データがありません
</div>
<input type="text" m:id="dummyEnter" style="display:none"/>
</form>
</div>
</div>
</body>
</html>