<html xmlns:m="http://www.seasar.org/maya" m:action="#{mosChickenReserveChkBytimeAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
	<meta http-equiv="Content-Style-Type" content="text/css"/>
	<link href="./css/main.css" rel="stylesheet" type="text/css"/>
	<link href="./css/header.css" rel="stylesheet" type="text/css"/>
	<link href="./css/navi.css" rel="stylesheet" type="text/css"/>
	<link href="./css/body.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="./js/bird.js"></script>
	<title>ﾋﾟｰｽ・ﾏﾈｰｼﾞｬｰ時間帯別予約状況確認表</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="ﾋﾟｰｽ・ﾏﾈｰｼﾞｬｰ時間帯別予約状況確認表"/>
<span m:inject="f:param" m:name="onLoadName" m:value="bodyLoad();"/>
<span m:inject="s:insert" m:name="bodyTitleName">■ﾋﾟｰｽ・ﾏﾈｰｼﾞｬｰ時間帯別予約状況確認表</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS019V01"/>
<span m:inject="s:insert" m:name="body">
<script type="text/javascript">
  <!--
    function bodyLoad() {
      if(document.moschickenreservechkbytime.elements['moschickenreservechkbytime:condOnerCd1'] != null) {
        document.moschickenreservechkbytime.elements['moschickenreservechkbytime:condOnerCd1'].focus();
      }
    }

	function changeTitleCd(){
		var f=document.forms['moschickenreservechkbytime'];
		if(document.moschickenreservechkbytime.elements['moschickenreservechkbytime:condTitleCd1'] != null) {
		  f.elements['moschickenreservechkbytime:condTitleCd'].value = f.elements['moschickenreservechkbytime:condTitleCd1'].value;
		}
		f.elements['moschickenreservechkbytime:__link_clicked__'].value='moschickenreservechkbytime:changeAction';
		f.submit();
		return false;
	} 
	
	function searchTenpo(){
		var f=document.forms['moschickenreservechkbytime'];
		if(document.moschickenreservechkbytime.elements['moschickenreservechkbytime:condOnerCd1'] != null) {
		  f.elements['moschickenreservechkbytime:condOnerCd'].value = f.elements['moschickenreservechkbytime:condOnerCd1'].value;
		}
		f.elements['moschickenreservechkbytime:__link_clicked__'].value='moschickenreservechkbytime:searchTenpo';
		f.submit();
		return;
	}
	
	function backMove(){
		var f=document.forms['moschickenreservechkbytime'];
		f.elements['moschickenreservechkbytime:__link_clicked__'].value='moschickenreservechkbytime:backMove';
		f.submit();
		return false;
	}
	
	function downLoad(s){
		var f=document.forms['moschickenreservechkbytime'];
		if(document.moschickenreservechkbytime.elements['moschickenreservechkbytime:condTitleCd1'] != null) {
		  f.elements['moschickenreservechkbytime:condTitleCd'].value = f.elements['moschickenreservechkbytime:condTitleCd1'].value;
		}
		if(document.moschickenreservechkbytime.elements['moschickenreservechkbytime:condTaishoDt1'] != null) {
  		  f.elements['moschickenreservechkbytime:condTaishoDt'].value = f.elements['moschickenreservechkbytime:condTaishoDt1'].value;
  		}
  		if(document.moschickenreservechkbytime.elements['moschickenreservechkbytime:condTenpoCd1'] != null) {
  		  f.elements['moschickenreservechkbytime:condTenpoCd'].value = f.elements['moschickenreservechkbytime:condTenpoCd1'].value;
  		}  
  		f.elements['moschickenreservechkbytime:condTimeUnitCd'].value = f.elements['moschickenreservechkbytime:condTimeUnitCd1'].value;
  		if(s == 'P') {
		  f.elements['moschickenreservechkbytime:__link_clicked__'].value='moschickenreservechkbytime:downLoadPdf';
		} else if(s == 'C') {
    	  f.elements['moschickenreservechkbytime:__link_clicked__'].value='moschickenreservechkbytime:downLoadCsv';
		}
		f.submit();
		return false;
	}
		
  //-->
  </script>
<form m:id="moschickenreservechkbytime" onKeyDown="return setDefaultSubmitButton('moschickenreservechkbytime','btnExecute');">
<a m:id="changeAction" m:action="#{mosChickenReserveChkBytimeAction.onchangeTitle}"/>
<a m:id="searchTenpo" m:action="#{mosChickenReserveChkBytimeAction.execute}"/>
<a m:id="backMove" m:action="#{mosChickenReserveChkBytimeAction.backMove}"/>
<a m:id="downLoadPdf" m:action="#{mosReserveChkPdfOutputAction.downloadPDF}"/>
<a m:id="downLoadCsv" m:action="#{mosReserveChkCsvOutputAction.downloadCsv}"/>
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="hidden" m:id="condOnerCd" m:value="#{mosChickenReserveChkBytimeDto.condOnerCd}"/>
<input type="hidden" m:id="condTitleCd" m:value="#{mosChickenReserveChkBytimeDto.condTitleCd}"/>
<input type="hidden" m:id="condTaishoDt" m:value="#{mosChickenReserveChkBytimeDto.condTaishoDt}"/>
<input type="hidden" m:id="condTenpoCd" m:value="#{mosChickenReserveChkBytimeDto.condTenpoCd}"/>
<input type="hidden" m:id="condTimeUnitCd" m:value="#{mosChickenReserveChkBytimeDto.condTimeUnitCd}"/>
<!-- 複数window対応 -->
<input type="hidden" m:id="windowId" m:value="#{mosChickenReserveChkBytimeDto.windowId}"/>
<div m:rendered="#{mosChickenReserveChkBytimeDto.errFlg}">
  <div align="left"><b>現在対象期間中のデータはありません。</b></div><br>
</div>
<div m:rendered="#{!mosChickenReserveChkBytimeDto.errFlg}">
<!-- タイトルサイズが0より大きい場合-->
    <table m:rendered="#{mosChickenReserveChkBytimeDto.titleListSize == 0 && mosChickenReserveChkBytimeDto.userTypeCd == '01'}"
           class="hiddenBody">
        <tr>
            <td>
				<table class="body_table">
					<tr>
						<th style="border-right-width: 0;">
							オーナー</th>
						<th width="50" style="border-left-width: 0;">
	    				 <input type="button" value="検索"
	    				        m:action="#{mosChickenReserveChkBytimeAction.callOnerForm}" />
						</th>
						<td>
						    <input class="imenotuse" m:id="condOnerCd1" m:name="CondOnerCd1"
						           type="text" value="#{condOnerCd}" maxlength="5" size="10"/>
						</td>
                    </tr>
                </table>
            </td>
            <td style="padding-left:3px;">
                <input type="button" value="実行" m:name="moschickenreservechkbytime:btnExecute"
                       onclick="searchTenpo();" /></td>
        </tr>
    </table>
	<!-- 戻るボタン-->
	<div m:rendered="#{mosChickenReserveChkBytimeDto.titleListSize > 0}">
	    <div m:rendered="#{mosChickenReserveChkBytimeDto.userTypeCd == '01'}">
		    <input type="button" value="戻る" m:onclick="backMove();"/>
	    </div>
		<table class="body_table" style="margin:4px 0px;">
			<tr>
				<th width="80px">タイトル</th>
				<td widht="270">
				<div m:rendered="#{mosChickenReserveChkBytimeDto.titleListSize > 1}">
				    <div class="hideArea">
				        <select m:id="condTitleCd1"
			                  m:value="#{mosChickenReserveChkBytimeDto.condTitleCd}" 
			                  m:items="#{mosChickenReserveChkBytimeDto.condListTitle}" 
			                  m:itemValue="ckanriNo" 
			                  m:itemlabel="title"
			                  m:onchange="changeTitleCd()">
			            </select>
					</div>
				</div>
				<div m:rendered="#{mosChickenReserveChkBytimeDto.titleListSize == 1}">
					  <div m:inject="s:forEach" m:items="#{mosChickenReserveChkBytimeDto.condListTitle}" m:var="e" m:varindex="i">
                        <span m:converter="#{characterEncodingConverter}" m:value="#{e.title}"/>&nbsp;
                      </div>
				</div>							
				</td>
				<th width="80px">対象日付</th>
				<td widht="200">
                    <div m:rendered="#{mosChickenReserveChkBytimeDto.taishoDtListSize > 1}">
                        <div class="hideArea">
					        <select m:id="condTaishoDt1"
				                  m:value="#{mosChickenReserveChkBytimeDto.condTaishoDt}" 
				                  m:items="#{mosChickenReserveChkBytimeDto.condListTaishoDt}" 
				                  m:itemValue="value" 
				                  m:itemlabel="label">
				            </select>
                        </div>
                    </div>
				    <div m:rendered="#{mosChickenReserveChkBytimeDto.taishoDtListSize == 1}">
					  <div m:inject="s:forEach" m:items="#{mosChickenReserveChkBytimeDto.condListTaishoDt}" m:var="e" m:varindex="i">
                        <span m:converter="#{characterEncodingConverter}" m:value="#{e.label}"/>
                      </div>
				    </div>                                    
				</td>
			</tr>
			<tr>
                <th>対象店舗</th>
				<td>
				  <div m:rendered="#{mosChickenReserveChkBytimeDto.tenpoListSize > 1}">
				    <div class="hideArea">
                        <select m:id="condTenpoCd1"
			                  m:value="#{mosChickenReserveChkBytimeDto.condTenpoCd}" 
			                  m:items="#{mosChickenReserveChkBytimeDto.condListTenpo}" 
			                  m:itemValue="miseCd" 
			                  m:itemlabel="miseNameKj">
			            </select>
				    </div>
				  </div>
				  <div m:rendered="#{mosChickenReserveChkBytimeDto.tenpoListSize == 1}">
					  <div m:inject="s:forEach" m:items="#{mosChickenReserveChkBytimeDto.condListTenpo}" m:var="e" m:varindex="i">
                        <span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
                      </div>
				  </div>								  
				</td>
				<th>時間単位</th>
				<td>
                    <div class="hideArea">
                    <select m:id="condTimeUnitCd1"
		                  m:value="#{mosChickenReserveChkBytimeDto.condTimeUnitCd}" 
		                  m:items="#{mosChickenReserveChkBytimeDto.condListTimeUnit}" 
		                  m:itemValue="value" 
		                  m:itemlabel="label">
		            </select>
                    </div>
				</td>
			</tr>
		</table>
	  <div>                                    
        <input type="button" value="PDFダウンロード" m:id="pdfDlBt"  m:onclick="downLoad('P');" class="operation_button"/>
        <input type="button" value="CSVダウンロード" m:id="csvDlBt"  m:onclick="downLoad('C');" class="operation_button"/>
	  </div>
	</div>
</div>
</form>
</span>
</body>
</html>
