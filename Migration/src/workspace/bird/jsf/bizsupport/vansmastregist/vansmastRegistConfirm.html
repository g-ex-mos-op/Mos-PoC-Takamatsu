<html xmlns:m="http://www.seasar.org/maya" m:action="#{vansmastRegistConfirmAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>バンズ倉庫別登録（確認画面）</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="バンズ倉庫別登録（確認画面）"/>
<span m:inject="s:insert" m:name="bodyTitleName">■バンズ倉庫別登録（確認画面）</span>
<span m:inject="f:param" m:name="onLoadName" m:value="bodyLoad()"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS029V03"/>
<div m:inject="s:insert" m:name="body">

<STYLE type="text/css">
<!--
/** スクロール */
.scroll_area {
	height		:420px;
	width		:968px;
}
table.body_table2 tr th.soko_cnt{
  width				: 400px;
}
table.body_table2 tr th.del_cnt{
  width				: *;
}
table.body_table2 tr th.shohin_cnt{
  width				: 105px;
}
table.body_table2 tr th.name_cnt{
  width				: 250px;
}
table.body_table2 tr th.nisugata_cnt{
  width				: 100px;
}
table.tomei_table tr th, table.tomei_table tr td{

  border-width               : 0px;


}
//-->
</STYLE>
<script type="text/javascript">
<!--
function bodyLoad() {
	focusElement("vansmastRegistConfirmForm");
}

function back(){
	document.forms['vansmastRegistConfirmForm'].elements['vansmastRegistConfirmForm:__link_clicked__'].value='vansmastRegistConfirmForm:back';
	document.forms['vansmastRegistConfirmForm'].submit();
	return false;
}

function regist(){
	document.forms['vansmastRegistConfirmForm'].elements['vansmastRegistConfirmForm:__link_clicked__'].value='vansmastRegistConfirmForm:regist';
	document.forms['vansmastRegistConfirmForm'].submit();
	return false;
}
//-->
</script>
<form m:id="vansmastRegistConfirmForm">
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="windowId" m:value="#{vansmastRegistDto.windowId}"/>
	<a m:id="back" m:action="#{vansmastRegistConfirmAction.back}"/>
	<a m:id="regist" m:action="#{vansmastRegistConfirmAction.regist}"/>

	<!-- タブ　後の仕様でシートが増える場合がある-->
	<table cellspacing="0" cellpadding="0">
		<tr>
			<td width="150px" class="body_active_cell">
				バンズ倉庫別登録</td>
		</tr>
	</table>
	<table width="98%" cellspacing="0" cellpadding="0" style="margin-bottom:4px;">
		<tr class="body_caption" style="height:5px;">
			<td colspan="2"/>
		</tr>
	</table>
  	<input type="button" value="戻る" m:onclick="return back()" onDblClick="return false"/>
  	<input type="button" value="登録・終了" class="operation_button" m:onclick="return regist()" onDblClick="return false"/>
	<!-- スクロールバー -->
	<div class="scroll_area" style="margin-top:4px;">
		<table width="98%" cellspacing="0" cellpadding="0">
		    <tr>
		      <td style="font-weight:bold;">
		      	以下の内容で登録します。<br/>
	          	誤りがある場合は「戻る」ボタンを押下して、前の画面に戻ってください。
		      </td>
		    </tr>
		    <tr>
				<td height="8px"></td>
			</tr>
	    </table>
		<!-- 対象倉庫 -->
		<table width="405" class="body_table2">
		    <tr class="header_row">
				<th width="100">対象倉庫</th>
				<td width="*">
					<span m:converter="#{characterEncodingConverter}" m:value="#{vansmastRegistDto.kanriMotoKj}"/>
				</td>
			</tr>
		</table>

		<table width="98%" cellspacing="0" cellpadding="0">
			<tr>
				<td height="5px"></td>
			</tr>
		</table>

	<!-- 取引先別情報の表示 -->
	<div m:inject="s:forEach" m:items="#{vansmastRegistDto.uIVansShohinList}" m:var="l" m:varindex="y">

		<!-- 取引先別:取引先名称 -->
		<table width="98%" cellspacing="0" cellpadding="0">
			<tr><td height="5px"></td></tr>
		</table>
		<table width="405" class="torihiki_table">
			<tr class="header_row">
				<th width="100">
					取引先名称
				</th>
				<td width="*">
					<span m:converter="#{characterEncodingConverter}" m:value="#{l.kanriMotoName}"/>
				</td>
		    </tr>
		</table>
		<!-- 取引先別:見出し -->
		<table class="body_table2" width="950px">
			<tr class="header_row">
				<th class="soko_cnt">倉庫名称</th>
				<th class="del_cnt">削除</th>
				<th class="shohin_cnt">商品コード</th>
				<th class="name_cnt">商品名称</th>
				<th class="nisugata_cnt">荷姿</th>
		    </tr>

		    <!-- 倉庫別情報の表示 -->
			<div m:inject="s:forEach" m:items="#{l.shohinList}" m:var="e" m:varindex="i">
		    <div m:rendered="#{e.noDispFlg == 'false'}">
		    <tr>
		    	<!-- 倉庫別情報:倉庫情報 -->
				<div m:rendered="#{e.firstSokoFlg == 'true' || e.dispSokoInfoFlg == 'true'}">
			    	<td rowspan="#{e.dispShohinCount}" valign="top" class="soko_table">
			    		<table border="0"class=" tomei_table"  width="300" cellspacing="0" cellpadding="0">
							<tr>
								<td width="50"><span m:value="#{e.sokoCd}"/></td>
								<td width="250"><span m:converter="#{characterEncodingConverter}" m:value="#{e.sokoNameKj}"/></td>
							</tr>
						</table>
					</td>
				</div>
				<!-- 倉庫別情報:商品情報 -->

				<td align="center">
					<div m:rendered="#{e.dataMode == '0' || e.dataMode == '1' || e.dataMode == null}">
						<input type="checkbox" m:id="dataMode" m:value="#{e.deleteFlg}" disabled="disabled" />
					</div>
					<div m:rendered="#{e.dataMode == '2'}">
						<div m:rendered="#{e.notingFlg != 'true'}">
							新規
						</div>
						<div m:rendered="#{e.notingFlg == 'true'}">
							−
						</div>
					</div>
				</td>
				<td>
						&nbsp&nbsp&nbsp<span m:converter="#{characterEncodingConverter}" m:value="#{e.shoCdDai}"/>
				</td>
				<td>
					<div m:rendered="#{e.notingFlg != 'true'}">
						&nbsp&nbsp&nbsp<span m:converter="#{characterEncodingConverter}" m:value="#{e.shoNameKj}"/>
					</div>
					<div m:rendered="#{e.notingFlg == 'true'}">
						&nbsp&nbsp&nbsp未設定
					</div>
				</td>
				<td align="center">
					<div m:rendered="#{e.notingFlg != 'true'}">
						<span m:converter="#{characterEncodingConverter}" m:value="#{e.shoNisugataKj}"/>
					</div>
					<div m:rendered="#{e.notingFlg == 'true'}">
						&nbsp
					</div>
				</td>
			</tr>
			</div>
			</div>

		</table>
	</div>

	</div>
	<!-- スクロールバー -->
</form>
</div>
</body>
</html>
