<html xmlns:m="http://www.seasar.org/maya" m:action="#{plRegistStateConfirmAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<title>P/L登録状況確認</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="P/L登録状況確認"/>
<span m:inject="s:insert" m:name="bodyTitleName">■P/L登録状況確認</span>
<span m:inject="f:param" m:name="onLoadName" m:value="load();"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
.data_table_width {
    width:98%;
}
.pldatalist_pane {
	margin-top			: 20px;
}
.pldatalist_col_mise {
	width				: *;
}
.pldatalist_col_date {
	width				: 58px;
}
.pldatalist_col_status {
	width				: 78px;
}
.pldatalist_col_check {
	width				: 70px;
}
table.body_table2 tr td.pldatalist_col_status, table.body_table2 tr td.pldatalist_col_check {
	text-align			: center;
}
-->
</style>
<SCRIPT LANGUAGE="javascript">
<!--
function load(){
	loadScroll("plRegistStateScroll", 380);
}
-->
</SCRIPT>

<form m:id="plRegistStateConfirm">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>

<input type="submit" value="戻る" m:action="#{plRegistStateConfirmAction.doBack}"/>
<div class="scroll_padding_head">
<div class="scroll_hidden margin_bottom_hidden" m:rendered="#{!plRegistStateDto.emptyPlDataList}">
<table class="body_table2 data_table_width" style="margin-top:4px">
	<caption class="body_title width_percent_98_98">登録状況一覧</caption>
    <tr class="header_row">
        <th rowspan="2" class="pldatalist_col_mise">店舗</th>
        <th rowspan="2" class="pldatalist_col_date">年月</th>
        <th rowspan="2" class="pldatalist_col_status">登録状況</th>
        <th colspan="3">科目不整合</th>
        <th colspan="4">内訳不整合</th>
        <th colspan="2">ワーニング</th>
    </tr>
    <tr class="header_row">
        <th class="pldatalist_col_check">月次損益</th>
        <th class="pldatalist_col_check">内訳</th>
        <th class="pldatalist_col_check">借入金</th>
        <th class="pldatalist_col_check">売上高</th>
        <th class="pldatalist_col_check">売上原価</th>
        <th class="pldatalist_col_check">水光熱費</th>
        <th class="pldatalist_col_check">給料手当</th>
        <th class="pldatalist_col_check">POS売上</th>
        <th class="pldatalist_col_check">金額範囲</th>
    </tr>
</table>
</div>
</div>
<div class="scroll_padding_data">
<div class="scroll_standby" id="plRegistStateScroll">
<table class="body_table2 data_table_width" style="border-top-width:0px;">
	<col class="pldatalist_col_mise"/>
	<col class="pldatalist_col_date"/>
	<col class="pldatalist_col_status"/>
	<colgroup span="9" class="pldatalist_col_check"/>
	<div m:inject="s:forEach" m:id="foreachname"
	     m:items="#{plRegistStateDto.plDataList}" m:var="e" m:varindex="i">
    <tr class="non_top_border font_size_14">
        <td class="pldatalist_col_mise">
        	<!-- 店コード正常 -->
        	<span m:rendered="#{!plRegistStateDto.miseLinkFlg && !e.plDataErrorInfo.existErrorMiseCd && !e.plDataErrorInfo.existErrorMiseCdDuplicate}">
        		<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
        	</span>
        	<span m:rendered="#{plRegistStateDto.miseLinkFlg && !e.plDataErrorInfo.existErrorMiseCd && !e.plDataErrorInfo.existErrorMiseCdDuplicate}">
	        	<a m:action="#{plRegistStateConfirmAction.callInput}" target="_self">
	        		<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
	        		<span m:converter="#{characterEncodingConverter}" m:inject="f:param" m:name="selectIndex" m:value="#{i}"/>
	        	</a>
        	</span>

        	<!-- 店コードエラー -->
        	<span m:rendered="#{e.plDataErrorInfo.existErrorMiseCd}">
        		<span m:value="#{e.miseCd}"/>&nbsp;<span m:value="#{(e.plType == '0') ? 'オーナーコードエラー' : '店コードエラー'}"/>
        	</span>
        </td>
        <td class="pldatalist_col_date"><span m:value="#{e.plYm}" m:converter="#{registStateInPlYmConverter}"/></td>
        <td class="pldatalist_col_status">
        	<span m:value="#{(e.errFlg != '0') ? 'エラー' : '登録済'}"/>
        	<span m:rendered="#{e.plDataErrorInfo.existErrorMiseCdClosed}">(W)</span>
        </td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolSubjectProfit}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolSubjectDetail}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolSubjectLoan}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolDetailSales}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolDetailCost}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolDetailWater}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolDetailSalary}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolWarningSales}"/></td>
        <td class="pldatalist_col_check"><span m:converter="#{characterEncodingConverter}" m:value="#{(e.errFlg == '9') ? '×' : e.plDataErrorInfo.resultSymbolWarningLimit}"/></td>
    </tr>
    </div>
</table>
</div>
</div>

<div class="pldatalist_pane" m:rendered="#{plRegistStateDto.emptyPlDataList}">
	<span>該当データがありません</span>
</div>
<input type="text" m:id="dummyEnter" style="display:none"/>
</form>
</div>
</body>
</html>
