<html xmlns:m="http://www.seasar.org/maya" m:action="#{contractStatementAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
	<meta http-equiv="Content-Style-Type" content="text/css"/>
	<title>賃貸計算書／ＣＯＤ計算書</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="賃貸計算書／ＣＯＤ計算書"/>
<span m:inject="f:param" m:name="onLoadName" m:value="bodyLoad();"/>
<span m:inject="s:insert" m:name="bodyTitleName">■賃貸計算書／ＣＯＤ計算書</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS030V01"/>
<span m:inject="s:insert" m:name="body">
<STYLE type="text/css">
<!--

	.scroll_area1 {
	  width			:100%;
	  height        : 360px;
	}
	.scroll_area2 {
	  width			:100%;
	  height        : 194px;
	}

	.class_oner {
	    width         : *;
	}
	.class_urikake {
	    width         : 305px;
	}
	.class_nengetu {
	    width         : 90px;
	}
	.class_keiShuName {
	    width         : 150px;
	}
	.class_keiShuName_noHakkoName {
	    width         : 243px;
	}
	.class_hakkoName {
	    width         : 90px;
	}


@media print {
	.scroll_area1 {
	    height:100%;
	}
	.scroll_area2 {
	    height:100%;
	}
}
//-->
</STYLE>
<script type="text/javascript">
  <!--
    function bodyLoad() {
    	loadScrolls("contractStatement");
    }
	function downloadFile(categoryIndex, rowIndex) {
		document.contractStatement.elements["contractStatement:categoryIndex"].value=categoryIndex;
		document.contractStatement.elements["contractStatement:selectedIndex"].value=rowIndex;
	}
  //-->
</script>
<form m:id="contractStatement">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="hidden" m:id="selectedIndex" m:value="#{contractStatementDto.selectedIndex}"/>
<input type="hidden" m:id="categoryIndex" m:value="#{contractStatementDto.categoryIndex}"/>

<div m:rendered="#{!contractStatementDto.existListData}">
    <span style="font-weight:bold;">該当データはありません。</span>
</div>
<div m:rendered="#{contractStatementDto.existListData}"
     m:inject="s:forEach" m:items="#{contractStatementDto.listData}" m:var="e" m:varindex="eindex">
     <div class="scroll_padding_head">
    <div class="scroll_hidden margin_bottom_hidden" style="#{eindex >= 1?'margin-top:8px;':''}">
    <table class="body_table2" style="width:98%;">
        <tr>
            <th class="body_header4" style="text-align:left;"><span m:converter="#{characterEncodingConverter}" m:value="#{e.keiCateName}"/></th>
        </tr>
    </table>
    <table class="body_table2" style="width:98%;border-top-width:0px;">
	    <tr class="header_row non_top_border">
		    <th class="class_oner" >オーナー名</th>
		    <th class="class_urikake" m:rendered="#{e.ctrlFlg2 == '1'}">店舗</th>
		    <th class="class_nengetu" >対象年月</th>
		    <th class="#{e.ctrlFlg1 == '1' ? 'class_keiShuName' : 'class_keiShuName_noHakkoName'}" >対象計算書</th>
		    <th class="class_hakkoName" m:rendered="#{e.ctrlFlg1 == '1'}">発行日</th>
	    </tr>
	</table>
	</div>
	</div>
	<div class="scroll_padding_data">
	<div m:class="scroll_standby scroll_area#{contractStatementDto.cntCategory}">
    <table class="body_table2" style="border-top-width:0px; width:98%;">
    <div m:inject="s:forEach" m:items="#{e.listData}" m:var="f" m:varindex="findex">
	    <tr class="non_top_border">
	        <td class="#{e.ctrlFlg2 == '1' ? 'class_oner' : 'class_oner_noUrikake'}" m:rendered="#{f.spanCntOner != 0}" style="vertical-align:top;" rowspan="#{f.spanCntOner}">
	            <span m:converter="#{characterEncodingConverter}" m:value="#{f.onerCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{f.onerNameKj}"/>
	        </td>
	        <td class="class_urikake" m:rendered="#{f.spanCntUrikake != 0 && f.ctrlFlg2 == '1'}">
	            <span m:converter="#{characterEncodingConverter}" m:value="#{f.urikakeCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{f.urikakeName}"/>
	        </td>
	        <td class="class_nengetu">
	            <span m:value="#{f.keisanYm}" m:converter="#{contractStatementConverterYM}"/>
	        </td>
	        <td class="#{e.ctrlFlg1 == '1' ? 'class_keiShuName' : 'class_keiShuName_noHakkoName'}">
	            <a m:action="#{contractStatementDownloadAction.download}" onClick="downloadFile(#{eindex}, #{findex})">
	                <span m:converter="#{characterEncodingConverter}" m:value="#{f.keiShuName}"/>
	            </a>
	        </td>
	        <td class="class_hakkoName" m:rendered="#{f.ctrlFlg1 == '1'}">
	            <span m:value="#{f.hakkoDt}" m:converter="#{contractStatementConverterYMD}"/>
	        </td>
	    </tr>
    </div>
    </table>
    </div>
    </div>
</div>
	<input type="text" m:id="dummyText" m:style="display:none;"/>
</form>
</span>
</body>
</html>
