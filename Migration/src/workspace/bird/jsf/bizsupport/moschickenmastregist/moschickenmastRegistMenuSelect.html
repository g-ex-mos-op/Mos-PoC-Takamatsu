<html xmlns:m="http://www.seasar.org/maya" m:action="#{mosChickenMstMenuAddAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>予約販売管理マスタ登録 メニュー追加</title>
<span m:inject="f:param" m:name="layoutTitle" m:value="メニュー追加"/>
<span m:inject="s:insert" m:name="bodyTitleName">■メニュー追加</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS015V03"/>
<span m:inject="f:param" m:name="onLoadName" m:value="load()"/>
</head>
<body>
<span m:inject="s:insert" m:name="body">
<STYLE type="text/css" media="screen">
<!--
//-->
</STYLE>
<script type="text/javascript">
<!--
var userTypeHONBU = "01";
var userTypeONER = "02";
var userTypeMISE = "03";

function load(){
	focusElement("addmenuForm");
}
/**
 * ウィンドウロードステータス取得処理
 *
 */
function returnLoadingStatus(){
	if(isLoadingFlgOFF()) {
		setLoadingFlg();
		return true;
	}
	return false;
}
/**
 * ウィンドウロードステータス取得処理
 *
 */
function isLoadingFlgOFF(){
	return (document.addmenuForm.elements['addmenuForm:loadingFlg'].value != "ON");
}
/**
 * 実行ボタン押下時処理
 *
 */
function execSearch(){

	document.addmenuForm.elements['addmenuForm:__link_clicked__'].value='addmenuForm:execSearch';
	document.addmenuForm.submit();
}

/**
 * ウィンドウロードフラグ設定処理
 *
 *
 */
function setLoadingFlg() {
	document.addmenuForm.elements['addmenuForm:loadingFlg'].value = "ON";
}
function isUserType(code){
	var userType = document.addmenuForm.elements['addmenuForm:usertypeCd'].value;
	return (code == userType);
}
/**
 * 戻るボタン押下時処理
 *
 */
function execBack(confirmMsg){
	document.addmenuForm.elements['addmenuForm:__link_clicked__'].value='addmenuForm:execBack';
	document.addmenuForm.submit();
}
/**
 * 決定ボタン押下時処理
 *
 */
function execFix(){
	document.addmenuForm.elements['addmenuForm:__link_clicked__'].value='addmenuForm:execFix';
	document.addmenuForm.submit();
}
//-->
</script>

<form m:id="addmenuForm" onKeyDown="return setDefaultSubmitButton('addmenuForm','executeBt');">
    <input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="menuGroupCd" m:value="#{mosChickenShanaiMenuDto.menuGroupCd}"/>
	<input type="hidden" id="loadingFlg" value=""/>
	<a id="execBack" m:action="#{mosChickenMstMenuAddAction.back}"/>
	<a id="execSearch" m:action="#{mosChickenMstMenuAddAction.search}"/>
	<a id="execFix" m:action="#{mosChickenMstMenuAddAction.fix}"/>
	<table  cellspacing="0" cellpadding="0">
		<tr>
			<td colspan="2" valign="bottom">
				<input  type="button" value="戻る" onClick="execBack();" onDblClick="return false"/>
				<span m:rendered="#{mosChickenShanaiMenuDto.listMenuMst == null}">
				<input  type="button" value="決定" disabled=" disabled"/>
				</span>
				<span m:rendered="#{mosChickenShanaiMenuDto.listMenuMst != null}">
				<input type="button" value="決定" onClick="execFix();" onDblClick="return false"/>
				</span>
			</td>
		</tr>
		<tr>
			<td>
				<table class="body_table" style="margin-top:4px;">
					<tr>
						<th>メニューコード</th>
						<td><input type="text" m:id="menuCdFrom" m:value="#{mosChickenShanaiMenuDto.menuCdFrom}" maxlength="6" size="10" style="ime-mode:disabled"/>〜<input type="text" m:id="menuCdTo" m:value="#{mosChickenShanaiMenuDto.menuCdTo}" maxlength="6" size="10" style="ime-mode:disabled"/></td>
						<th>メニュー名</th>
						<td><input type="text" m:id="menuName" m:value="#{mosChickenShanaiMenuDto.menuName}" maxlength="40" size="50"/></td>
					</tr>
				</table>
			</td>
			<td align="right" valign="bottom">
				&nbsp;<input type="button" name="addmenuForm:executeBt" value="検索" onClick="execSearch();" onDblClick="return false"/>
			</td>
		</tr>
	</table>
	<span m:rendered="#{mosChickenShanaiMenuDto.listMenuMst != null}">
	<table class="body_table2" style="width:560px;margin-top:4px;">
	  <tr class="header_row">
	    <th width="40px">選択</th>
	    <th width="140px">メニューコード</th>
	    <th width="*">メニュー名</th>
	  </tr>
	</table>
	<div style="width:580px; height:400px;" class="scroll_area">
		<table class="body_table2" style="border-top-width : 0px;" width="560px" >
		    <div m:inject="s:forEach" m:items="#{mosChickenShanaiMenuDto.listMenuMst}" m:var="e" m:varindex="i">
		      <tr class="non_top_border">
		        <td width="40px" align="center">
	          		<input type="checkbox" m:id="selectFlg" m:value="#{e.selectFlg}"/>
		        </td>
		        <td width="140px">
		          <span m:value="#{e.menuCd}"/>
		        </td>
		        <td width="*">
		          <span m:converter="#{characterEncodingConverter}" m:value="#{e.menuNameKj}"/>
		        </td>
		      </tr>
		    </div>
		</table>
	</div>
    </span>
</form>
</span>
</body>
</html>
