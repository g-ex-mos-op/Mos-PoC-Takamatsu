<html xmlns:m="http://www.seasar.org/maya"  m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title></title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="公開対象選択"/>
<span m:inject="s:insert" m:name="bodyTitleName">■公開対象 個店別指定</span>
<span m:inject="f:param" m:name="onLoadName" m:value=""/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BCO002V03"/>
<span m:inject="s:insert" m:name="body">

<SCRIPT LANGUAGE="javascript">
</SCRIPT>
<STYLE type="text/css">
<!--
table.body_table2{
	width:450px;
}
.mise_col {
	width:70px;
}
.scroll_area {
    height : 140px;
}
//-->
</STYLE>
<form m:id="publicTargetSearch" enctype="multipart/form-data">
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<!--ボタン-->
	<input type="button" value="決定" m:action="#{publicTargetSearchKotenAction.select}" m:disabled="#{publicTargetSearchDto.referenceFlg}"/>&nbsp;&nbsp;
	<input type="button" value="戻る" m:action="#{publicTargetSearchKotenAction.cancel}" />&nbsp;&nbsp;
	<input type="button" value="クリア" m:action="#{publicTargetSearchKotenAction.clear}" m:disabled="#{publicTargetSearchDto.referenceFlg}"/>&nbsp;&nbsp;
	<!--読込-->
	<table class="hiddenBody" style="margin-top:4px;margin-bottom:10px;">
		<tr>
			<td>
				<!--ファイル参照-->
				<table class="body_table">
				  <tr>
					<td><span m:inject="x:inputFileUpload"
					          id="uploadFile" m:value="#{publicTargetSearchConditionDto.uploadedFile}"
					          m:size="70" m:disabled="#{publicTargetSearchDto.referenceFlg}"/></td>
				</tr>
				</table>
			</td>
			<td style="padding-left:3px;">
				<!--読込みボタン-->
				<input type="submit" value="読込"
				       m:action="#{publicTargetSearchKotenAction.fileSelect}"
				       m:disabled="#{publicTargetSearchDto.referenceFlg}"/></td>
		  </tr>
	</table>
	<!--読込み結果-->
	<div style="margin-top:4px;" m:rendered="#{publicTargetSearchConditionDto.okMiseCount !=  0}">
		<!--店舗一覧-->
		<table class="hiddenBody" style="width:380px;">
		  <tr class="body_caption">
		    <td style="padding:1px;">指定店舗</td></tr>
		  <tr>
		  	<td style="font-weight:bold;text-align:right;">
		  	件数：<span m:value="#{publicTargetSearchConditionDto.okMiseCount}"/>件</td></tr>
		</table>
		<table class="body_table2" style="width:380px;">
		  <tr class="header_row">
		    <th class="mise_col">店コード</th>
		    <th width="*">店名称</th>
		  </tr>
		</table>
		<div class="scroll_area" style="width  : 398px;">
			<table class="body_table2" style="width:380px;border-top-width : 0px;">
			    <span m:inject="s:forEach" m:items="#{publicTargetSearchConditionDto.listOKMise}" m:var="e" m:varindex="i">
			      <tr class="non_top_border">
			        <td class="mise_col">
			          <span m:value="#{e.miseCd}"/></td>
			        <td width="*">
			          <span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/></td>
			      </tr>
			    </span>
			</table>
				</div>
	</div>
	<!--エラー店舗一覧-->
	<div style="margin-top:15px;" m:rendered="#{publicTargetSearchConditionDto.ngMiseCount !=  0}">
		<table class="hiddenBody" style="width:450px;">
		  <tr class="body_caption">
		    <td style="padding:1px;">エラー店舗</td>
		  </tr>
		<tr>
		  	<td style="font-weight:bold;text-align:right;">
		  	件数：<span m:value="#{publicTargetSearchConditionDto.ngMiseCount}"/>件</td></tr>
		</table>
		<table class="body_table2">
		  <tr class="header_row">
		    <th class="mise_col">店コード</th>
		    <th width="*">エラー内容 </th>
		  </tr>
		</table>
		<div class="scroll_area" style="width  : 470px;">
			<table class="body_table2" style="border-top-width : 0px;">
			    <span m:inject="s:forEach" m:items="#{publicTargetSearchConditionDto.listNGMise}" m:var="e" m:varindex="i">
			      <tr class="non_top_border">
			        <td class="mise_col">
			          <span m:value="#{e.miseCd}"/></td>
			        <td width="*">
			          <span m:converter="#{characterEncodingConverter}" m:value="#{e.errMsg}"/></td>
			      </tr>
			    </span>
			</table>
		</div>
		</span>
	</div>
	<input type="text" m:id="dummyEnter" style="display:none"/>
</form>
</span>
</body>
</html>
