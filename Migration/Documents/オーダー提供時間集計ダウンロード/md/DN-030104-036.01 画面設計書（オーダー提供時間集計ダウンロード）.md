# DN-030104-036.01 画面設計書（オーダー提供時間集計ダウンロード）

## 概要

本文書は画面設計書であり、オーダー提供時間集計ダウンロード機能に関する画面設計の内容を記載しています。本文書には8個のシートが含まれています。

## 文書情報

| 項目 | 内容 |
|------|------|
| 管理番号 | DN-030104-036.01 |
| 分類 | 画面設計書 |
| 作成者 | 作成者：ISID-IT 松本<br>作成日：2009/10/06 |
| 作成日 | 作成者：ISID-IT 松本<br>作成日：2009/10/06 |
| 更新者 | レビュー/承認者 |
| 更新日 | 更新内容 |

## 更新履歴

| BIRD ドキュメント 更新履歴 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 | BIRD ドキュメント 更新履歴 |
| 作成・更新日 | 作成・更新日 | 作成・更新日 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 更新内容 | 作成・更新者 | 作成・更新者 | 作成・更新者 | レビュー/承認者 | レビュー/承認者 | レビュー/承認者 | レビュー/承認者 | レビュー/承認日 | レビュー/承認日 | レビュー/承認日 | レビュー/承認日 |
| 40115 |  |  | アクションシート新規作成 |  |  |  |  |  |  |  |  |  |  |  |  |  | ASPAC 衣川 | ASPAC 衣川 | ASPAC 衣川 | ASPAC 衣川 | ASPAC 衣川 | ASPAC 衣川 | ASPAC 衣川 | 40115 | 40115 | 40115 | 40115 |

---

---

## 機能概要

| [BIRD] |  | 要求仕様書 |  |  |  |  |  |  |  |  |  |  | 管理番号：DN-030104-036.01<br>分類　　　：要求仕様書 |  |  |  |  | 更新者：ASPAC　衣川<br>更新日：2009/10/26 |  |  |  | 作成者：ISID-IT 松本<br>作成日：2009/10/06 |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|

| 画面名 |  |  | オーダー提供時間集計ダウンロード |  |  |  |  |  |  |  |  |  |  |  |  |  | フィーチャ |  | 業務支援 |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|

| 機能の目的 |  |  |  |  |  |  |  |  |  |  |  |  |  | 想定ユーザ |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| モス店舗のオーダー提供時間の情報をダウンロードする。 |  |  |  |  |  |  |  |  |  |  |  |  |  | 本部ユーザー |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  | オーナーユーザー |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  | 店舗ユーザー |
| 機能の概要 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| キッチンディスプレイ(KD)設定店舗で、オーダーが入ってから提供するまでにどれくらいの時間がかかったかを、e-mossles上で確認できる。 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| ※日別で提供時間を確認することにより、店舗の改善がオーダー提供時間にどの程度反映できているかを知ることができ、店舗指導に役立つ。 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |

| 補足説明（用語説明、業務ルールなど） |
|------|

---

## 画面レイアウト

| [BIRD] |  | 画面設計書 |  |  |  |  |  |  |  |  |  |  | 管理番号：DN-030104-036.01<br>分類　　　：要求仕様書 |  |  |  |  | 更新者：ASPAC　衣川<br>更新日：2009/10/26 |  |  |  | 作成者：ISID-IT 松本<br>作成日：2009/10/06 |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|

| 画面レイアウト |  |  |  | 画面ID |  | BBS035 |  | 画面名 |  | オーダー提供時間集計ダウンロード |  |  |  |  |  |  |  |  |  |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| ビューID |  | BBS035V01 |  |  | ビュー名 |  | ○○情報一覧 |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 備考 |
| JSF名 |  | FooList |  |  | CSS名 |  | list.css |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |

| ＜本部ユーザー使用時＞ |  |  |  |  |  |  |  |  |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|
|  | 対象店舗 |  |  |  |  | 対象期間 |  |  |  |  | 期間指定 |

| ＜オーナーユーザー使用時＞ |  |  |  |  |  |  |  |  |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|
|  | 対象店舗 |  |  |  |  | 対象期間 |  |  |  |  | 期間指定 |

| ＜店舗ユーザー使用時＞ |  |  |  |  |  |  |  |  |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|
|  | 対象店舗 |  | 02001 成増店 |  |  | 対象期間 |  |  |  |  | 期間指定 |

---

## 要求仕様

| [BIRD]　要求仕様書 |
|------|

| 画面名 |  | オーダー提供時間集計ダウンロード |  |  |  |  | フィーチャ | 業務支援 |
|------|------|------|------|------|------|------|------|------|
| NO | カテゴリ | 要求番号 | 仕様番号 | 優先 | 分類 | 内容 | 追加変更日 | 備考 |
| 1 | 条件の設定 | ＦRQ0101 |  | A | 要求 | オーダー提供時間データを、店別、日別、時間帯別にCSVでダウンロードしたい。 |  |  |
|  |  | ＦRQ0101 |  |  | 理由 | 時間帯別で提供時間を確認したい。 |  |  |
|  |  | ＦRQ0101 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0101 | SP010101 | A | 仕様 | 初期画面には、条件選択として、①対象店舗、②対象期間選択プルダウン、③期間指定選択プルダウン、及び「実行」ボタンを表示する。 |  | 画面レイアウト参照 |
|  |  | ＦRQ0101 | SP010102 | A | 仕様 | ②対象期間プルダウンには、「単日」「期間指定」を設置し、初期値は「単日」とする。 |  |  |
|  |  | ＦRQ0101 | SP010103 | A | 仕様 | ②対象期間が「単日」の場合、③期間指定選択プルダウンを、1つ用意する。営業日ベースで当日含む過去60日を降順で一覧表示し、初期表示は当日とする。 |  | ※②対象期間プルダウンで指定される期間によって、③期間指定選択プルダウンの表示を切り替える。 |
|  |  | ＦRQ0101 | SP010104 | A | 仕様 | ②対象期間が「期間指定」の場合、③期間指定選択プルダウンにはFROM～TOで用意する。いずれも営業日ベースで当日含む過去60日を降順で一覧表示し、初期表示は当日とする。 |  | ※②対象期間プルダウンで指定される期間によって、③期間指定選択プルダウンの表示を切り替える。 |
|  |  | ＦRQ0101 | SP010105 | A | 仕様 | 「実行」ボタン実行時、指定された条件でCSVをダウンロードする。<br>【対象TBL】<br>  ・オーダー提供時間TBL(BD26ODTM) |  | 会社はモス(00)固定とする。 |
|  |  | ＦRQ0101 | SP010106 | A | 仕様 | 「実行」ボタン実行時、条件にヒットするデータが存在しない場合は、「該当データがありません。」というメッセージを表示する。 |  |  |
|  |  | ＦRQ0101 | SP010107 | A | 仕様 | ②対象期間が「期間指定」の場合、③期間指定選択プルダウンのFROM～TOで指定できるのは、７日以内とする。<br>「実行」ボタン実行時、FROM～TO指定の期間が８日以上の場合、「対象期間は7日以内でなければなりません。」というメッセージを表示する。 |  |  |
|  |  | ＦRQ0101 | SP010108 | A | 仕様 | ②対象期間が「期間指定」の場合、③期間指定選択プルダウンのFROM～TOチェックを行う。<br>「実行」ボタン実行時、FROM日付＞TO日付の場合、「期間指定Toは期間指定Fromと同じ又は未来日でなければなりません。」というメッセージを表示する。 |  |  |
|  |  | ＦRQ0101 | SP010109 | A | 仕様 | ダウンロードされるデフォルトのファイル名は「ORDER_xxxxx.csv」とする。※「xxxxx」には対象店コードを設定する。 |  |  |
|  |  | ＦRQ0101 | SP010110 | A | 仕様 |  |  |  |
|  |  | ＦRQ0102 |  | A | 要求 | ユーザーが、本部ユーザーの場合、全ての店舗が指定できるようにしたい。 |  |  |
|  |  | ＦRQ0102 |  |  | 理由 | 本部ユーザーの場合、表示内容を制限したくない。 |  |  |
|  |  | ＦRQ0102 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0102 | SP010201 | A | 仕様 | ユーザタイプが本部の場合、①対象店舗には、店コード入力欄、「検索」ボタンを表示する。 |  |  |
|  |  | ＦRQ0102 | SP010202 | A | 仕様 | 店コード入力欄は、数字５桁入力可能なテキストボックスを設ける。 |  |  |
|  |  | ＦRQ0102 | SP010203 | A | 仕様 | 「店検索」ボタンより遷移した店選択画面で、会社は「モス」のみ選択可能とする。 |  |  |
|  |  | ＦRQ0102 | SP010204 | A | 仕様 | 「実行」ボタン実行時、店コードが未入力であった場合、「対象店舗は必須です。」のメッセージを表示する。 |  |  |
|  |  | ＦRQ0103 |  | A | 要求 | ユーザーが、オーナーユーザーの場合、表示内容を制限したい。 |  |  |
|  |  | ＦRQ0103 |  |  | 理由 | オーナーは保有店舗分の情報のみ照会できるように制限するため。 |  |  |
|  |  | ＦRQ0103 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0103 | SP010301 | A | 仕様 | ユーザタイプがオーナーの場合、①対象店舗には店舗選択プルダウンを表示し、オーナーの保有店を店コード昇順で一覧する。初期値は一番最初の店舗とする。 |  |  |
|  |  | ＦRQ0103 |  | A | 要求 | ユーザーが店舗ユーザーの場合、表示内容を制限したい。 |  |  |
|  |  | ＦRQ0103 |  |  | 理由 | 店舗ユーザーは、自店舗分の情報のみ照会できるように制限するため。 |  |  |
|  |  | ＦRQ0103 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0103 | SP010301 | A | 仕様 | ユーザタイプが店舗の場合、①対象店舗には、「店コード+自店舗名称」を表示する。 |  |  |
|  |  | ＦRQ0103 | SP010302 | A | 仕様 |  |  |  |

---

## 共通要求仕様

| [BIRD]　共通要求仕様書 |
|------|

| NO | カテゴリ | 要求番号 | 仕様番号 | 優先 | 分類 | 内容 | 追加変更日 | 備考 |
|------|------|------|------|------|------|------|------|------|
| 1 | セキュリティ | ＦRQ0101 |  | A | 要求 | モバイル使用時など社内LAN以外のN/Wからアクセスしている場合は、閲覧可能な店舗を支部単位で制限して欲しい。 |  |  |
|  |  | ＦRQ0101 |  |  | 理由 | 情報漏洩した場合の影響範囲を最小限に留めるため。 |  |  |
|  |  | ＦRQ0101 |  |  | 説明 | IPアドレスにより社内LANを見なすセグメントを設定する。 |  |  |
|  |  | ＦRQ0101 | SP010101 | A | 仕様 | 予めユーザごとにリモートアクセス時の閲覧可能支部を設定し、リモートアクセス時はその支部の店舗情報のみしか閲覧できないよう制限を設ける。 |  |  |
|  |  | ＦRQ0101 | SP010102 | A | 仕様 | ユーザ属性の１つとして、リモートアクセス時でも支部制限がかからないよう例外設定を行えるようにする。 |  |  |
|  |  | ＦRQ0102 |  | A | 要求 | 平行運用時、e-mossles からBIRD画面を起動した場合にセッションを引継ぎ、BIRD画面でのログインを省略して欲しい。 |  |  |
|  |  | ＦRQ0102 |  |  | 理由 | e-mosslesとBIRDをできるだけシームレスに運用したいため。 |  |  |
|  |  | ＦRQ0102 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0102 | SP010201 | A | 仕様 | e-mosslesでのログイン時、セッションキーを生成してBIRDのセッション管理情報にe-mosslesIDと対で登録する。 |  | BIRDのセッション管理情報はメモリではなく永続化して保持する。 |
|  |  | ＦRQ0102 | SP010202 | A | 仕様 | e-mossels から BIRDメニュー起動時、ログイン時に生成したセッションキーを送信する。 |  |  |
|  |  | ＦRQ0102 | SP010202 | A | 仕様 | BIRD側では、通常の認証がされていない場合、①セッションキーが送信されていて、②そのセッションキーがセッション管理情報に登録されている場合、代替認証としてアクセスを許可する。 |  |  |
| 2 | 正確性 | ＦRQ0201 |  | A | 要求 | 複数ウィンドウを開いての操作した場合でも、データの整合性を保った形で動作するようにして欲しい。 |  |  |
|  |  | ＦRQ0201 |  |  | 理由 | ユーザが誤解したりデータが壊れたりするのを防ぐため。 |  |  |
|  |  | ＦRQ0201 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0201 | SP020101 | A | 仕様 | 照会系画面の場合は、複数ウィンドウそれぞれに独立して動作し各ウィンドウで一貫した結果を返すようにする。 |  | ３世代まではセッションに保持し、４世代目からは古い順に消去する形（FIFO）とし、レスポンスとリソース効率のバランスを取る。 |
|  |  | ＦRQ0201 | SP020102 | A | 仕様 | 入力系画面の場合は、編集画面について常に最後に開かれたウィンドウのセッションのみを有効とし、古いウィンドウで操作を継続された場合はエラーとする。 |  |  |
| 3 | 理解性 | ＦRQ0301 |  | A | 要求 | 日付や数値等のフォーマットを揃え、同じアプリケーションとして違和感がないようにして欲しい。 |  |  |
|  |  | ＦRQ0301 |  |  | 理由 | 画面によっては例外ケースも考えられるが、標準を規定して統一感を持たせたいため。 |  |  |
|  |  | ＦRQ0301 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0301 | SP030101 | A | 仕様 | 年月日の標準フォーマットは「yyyy/MM/dd」とする。 |  |  |
|  |  | ＦRQ0301 | SP030102 | A | 仕様 | 年月の標準フォーマットは「yyyy/MM」とする。 |  |  |
|  |  | ＦRQ0301 | SP030103 | A | 仕様 | 整数値の標準フォーマットは「#,##0」とする。 |  |  |
|  |  | ＦRQ0301 | SP030104 | A | 仕様 | コードには前０を付加する。 |  |  |
|  |  | ＦRQ0301 | SP030105 | A | 仕様 | 日付値のHighValue(=9999/12/31)を表示する際は空白表示とする。 |  |  |
|  |  | ＦRQ0301 | SP030106 | A | 仕様 | 数値の文字位置は右寄せとする。 |  |  |
|  |  | ＦRQ0302 |  | A | 要求 | 編集画面、確認画面など現在のステップがわかるようにして欲しい。 |  |  |
|  |  | ＦRQ0302 |  |  | 理由 | 誤認や誤操作を防止するため。 |  |  |
|  |  | ＦRQ0302 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0302 | SP030201 | A | 仕様 | タイトル横に（編集画面）のように現在のフォームの内容を表示する。 |  |  |
|  |  | ＦRQ0303 |  | A | 要求 | 入力項目にエラーがある場合、該当項目にフォーカスを当ててほしい。 |  |  |
|  |  | ＦRQ0303 |  |  | 理由 | どの項目がエラーなのかを判りやすくし、再入力を促す為。 |  |  |
|  |  | ＦRQ0303 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0303 | SP030301 | A | 仕様 | 入力項目にエラーがある場合、再表示時に該当項目にフォーカスを当てる。 |  |  |
|  |  | ＦRQ0304 |  | A | 要求 | クローズしている店舗項目を表示することがある場合、店名称の後ろに分かるように明記して欲しい。 |  |  |
|  |  | ＦRQ0304 |  |  | 理由 | オープン店舗かクローズ店舗かが区別できないため。 |  |  |
|  |  | ＦRQ0304 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0304 | SP030401 | A | 仕様 | クローズしている店舗を明記する際は、店名称の後ろに「(CLOSE)」を半角括弧で、大文字でCLOSEとして表示する。 |  |  |
| 4 | 運用性 | ＦRQ0401 |  | A | 要求 | 関連リンクから該当の店舗やオーナーでの画面起動を行えるようにして欲しい。 |  |  |
|  |  | ＦRQ0401 |  |  | 理由 | Webの特性を活かして情報を有機的に結びつけて閲覧性を向上させるため。 |  |  |
|  |  | ＦRQ0401 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0401 | SP040101 | A | 仕様 | 個店指定のある画面については、個店ポータルの関連リンクからデフォルトのパラメータで起動できるようにする。 |  |  |
|  |  | ＦRQ0401 | SP040102 | A | 仕様 | オーナ（売掛先）指定のある画面については、オーナ情報照会の関連リンクからデフォルトのパラメータで起動できるようにする。 |  |  |
|  |  | ＦRQ0402 |  | A | 要求 | 条件指定が単一項目で、コード検索が設置されている画面では、検索フォームからダイレクトに結果画面を表示して欲しい。 |  |  |
|  |  | ＦRQ0402 |  |  | 理由 | 検索フォームから条件画面に戻って実行するのは操作にムダがある為。 |  |  |
|  |  | ＦRQ0402 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0402 | SP040201 | A | 仕様 | 条件が店コードのみの場合、店検索フォームで決定された後の遷移は結果画面を直接表示するようにする。 |  |  |
|  |  | ＦRQ0402 | SP040202 | A | 仕様 | 条件がオーナコードのみの場合、オーナ検索フォームで決定された後の遷移は結果画面を直接表示するようにする。 |  |  |
|  |  | ＦRQ0403 |  | A | 要求 | 入力フィールドに許可される文字に応じてIMEを自動的にON/OFFして欲しい。 |  |  |
|  |  | ＦRQ0403 |  |  | 理由 | 全角フィールドに入力後に数値フィールドを入力する場合、IMEがONのまま全角で入力しエラーの理由が判らないユーザも出てくる為。 |  |  |
|  |  | ＦRQ0403 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0403 | SP040301 | A | 仕様 | 全角のみ入力可のフィールドにフォーカスがあたった場合は、IMEをONにする。 | 39027 | style="ime-mode:active" |
|  |  | ＦRQ0403 | SP040302 | A | 仕様 | 半角のみ入力可のフィールドにフォーカスがあたった場合は、IMEをOFFにする。 | 39027 | style="ime-mode:disabled" |
|  |  | ＦRQ0404 |  | A | 要求 | 一部領域をスクロール表示させた場合でも、ブラウザの機能を使った画面印刷時には、スクロールに隠れた部分も印刷されるようにして欲しい。 | 39030 |  |
|  |  | ＦRQ0404 |  |  | 理由 | 旧システムはページ全体スクロールになっており、画面印刷して運用するケースが少なくない為。 |  |  |
|  |  | ＦRQ0404 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0404 | SP040401 | A | 仕様 | 一部領域のスクロール指定時は、スタイルの指定メディアを画面に限定するか、印刷用スタイルを別途既定する。 | 39030 | @media print { div { overflow: visible; height: auto; } } |
| 5 | 時間効率性 | ＦRQ0501 |  | A | 要求 | ユーザにストレスのないようにレスポンスを返して欲しい。 |  |  |
|  |  | ＦRQ0501 |  |  | 理由 | ユーザ業務に支障をきたしたり、２度３度と検索を実行されてさらにレスポンス悪化を招く恐れがある為。 |  |  |
|  |  | ＦRQ0501 |  |  | 説明 |  |  |  |
|  |  | ＦRQ0501 | SP050101 | A | 仕様 | 応答時間が30秒を超える処理または条件の場合は、「結果が返るまで○分程度かかります。」のように時間が掛かる旨を確認メッセージで表示する。 | 39027 |  |
|  |  | ＦRQ0501 | SP050102 | A | 仕様 | 応答時間が10秒を超える処理または条件の場合は、実行ボタン押下直後に「検索しています。しばらくお待ち下さい．．．」のようにメッセージを一時表示し、実行ボタンは使用不可とする。（更新処理の場合は「検索」の部分は「処理」に置換え） | 2006/11/06<br>2007/11/14 | ＜参考＞通達照会画面で実績あり。 |

---

## 画面構成

| [BIRD] |  | 画面設計書 |  |  |  |  |  |  |  |  |  |  | 管理番号：DN-030104-036.01<br>分類　　　：要求仕様書 |  |  |  |  | 更新者：ASPAC　衣川<br>更新日：2009/10/26 |  |  |  | 作成者：ISID-IT 松本<br>作成日：2009/10/06 |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|

| 画面構成 |  |  |  | 画面ID |  | BBS035 |  | 画面名 |  | オーダー提供時間集計ダウンロード |  |  |  |  |  |  |  |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| 機能概要 |  |  | オーダー提供時間集計一覧CSVのダウンロードを行う |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 構成概要 |  |  |
| パッケージルート |  |  | jp.co.isid.mos.bird.bizsupport.ordertimerequired |  |  |  |  |  |  |  |  |  | 画面タイプ |  | 検索エンジン型 |  |  | テーブル |  | 店マスタ（BM01TENM） |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | テーブル |  | オーダー提供時間（BD26ODTM） |
|  |  | view |  |  |  | action |  |  |  |  | logic |  |  |  | dao |  |  | テーブル |  |  |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | テーブル |  |  |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | テーブル |  |  |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | テーブル |  |  |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | テーブル |  |  |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | テーブル |  |  |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | テーブル |  |  |
|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | テーブル |  |  |

---

## コンポーネント一覧

| [BIRD] |  | 画面設計書 |  |  |  |  |  |  |  |  |  |  | 管理番号：DN-030104-036.01<br>分類　　　：要求仕様書 |  |  |  |  | 更新者：ASPAC　衣川<br>更新日：2009/10/26 |  |  |  | 作成者：ISID-IT 松本<br>作成日：2009/10/06 |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|

| コンポーネント一覧 |  |  |  | 画面ID |  | BBS035 |  | 画面名 |  | オーダー提供時間集計ダウンロード |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| ビュー名 |  | 初期画面 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| 項目名 |  |  | 編集 | 表示 | データタイプ |  | 桁数 | コントロール |  | 初期値 |  |  | 必須 | 対応プロパティ・アクション |  |  |  |  | 備考 |  |  |  |  |  |  |
| 条件エリア |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| 対象店舗 |  |  | ○ | ○ | コード文字列 |  | 5 | テキスト |  |  |  |  | ○ |  |  |  |  |  | 本部ユーザーの場合のみ |  |  |  |  |  |  |
|  |  |  | ○ | ○ | コード文字列 |  | 5 | プルダウン |  | 保有店舗のプルダウン１番目 |  |  | ○ |  |  |  |  |  | オーナーユーザーの場合のみ |  |  |  |  |  |  |
|  |  |  | × | ○ |  |  |  |  |  | 自店舗のコードと名称 |  |  |  |  |  |  |  |  | 店舗ユーザーの場合のみ |  |  |  |  |  |  |
| 対象期間 |  |  | ○ | ○ | 数値文字列 |  | 1 | プルダウン |  |  |  |  | △ |  |  |  |  |  | ”単日”・”期間指定”を選択できます。 |  |  |  |  |  |  |
| 対象期間（From） |  |  | ○ | ○ | 日付文字列 |  | 8 | プルダウン |  |  |  |  | △ |  |  |  |  |  |  |  |  |  |  |  |  |
| 対象期間（To） |  |  | ○ | ○ | 日付文字列 |  | 8 | プルダウン |  |  |  |  | △ |  |  |  |  |  | 対象期間が期間指定の場合のみ表示します。 | 対象期間が期間指定の場合のみ表示します。 | 対象期間が期間指定の場合のみ表示します。 | 対象期間が期間指定の場合のみ表示します。 | 対象期間が期間指定の場合のみ表示します。 | 対象期間が期間指定の場合のみ表示します。 | 対象期間が期間指定の場合のみ表示します。 |
| ダウンロード |  |  | × | ○ |  |  |  | ボタン |  |  |  |  | - | アクション【ダウンロード】 |  |  |  |  |  |  |  |  |  |  |  |
| 検索 |  |  | × | ○ |  |  |  | ボタン |  |  |  |  | - | アクション【店舗選択】 |  |  |  |  |  |  |  |  |  |  |  |

| 結果エリアヘッダ部 |
|------|

| 結果エリアテーブル部 |
|------|

---

## アクション

| [BIRD] |  | 画面設計書 |  |  |  |  |  |  |  |  |  |  | 管理番号：DN-030104-036.01<br>分類　　　：要求仕様書 |  |  |  |  | 更新者：ASPAC　衣川<br>更新日：2009/10/26 |  |  |  | 作成者：ISID-IT 松本<br>作成日：2009/10/06 |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|

| アクション |  |  |  | 画面ID |  | BBS035 |  | 画面名 |  | オーダー提供時間集計ダウンロード |  |  |  |  |  |  |  |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| ビュー名 |  | オーダー提供時間集計ダウンロード |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| アクションID |  | BBS035A01 |  |  | アクション名 |  | 初期処理 |  |  |  |  |  |  |  |  |  | 遷移先ビュー |  |  | 呼出し元（null） |
| 事前条件 |  |  |  |  |  |  |  |  | 処理概要 |  |  |  |  |  |  |  |  |  |  |  |

|  |  |  |  |  |  |  |  |  | １．DTO【プルダウンメニュー】.クリアフラグがtrueの場合下記の処理を行います。 |  |
|------|------|------|------|------|------|------|------|------|------|------|
|  |  |  |  |  |  |  |  |  |  | 1.DTO【プルダウンメニュー】.クリアフラグをfalseに設定します。 |
|  |  |  |  |  |  |  |  |  |  | 2．複数WindowID設定 |
|  |  |  |  |  |  |  |  |  |  | 3．BIRD情報をDTO【自画面Session】へ設定します。 |
|  |  |  |  |  |  |  |  |  |  | 4．LOGIC【条件項目値設定】を実行し、初期データ設定処理を行います。 |
|  |  |  |  |  |  |  |  |  |  | 5．条件項目情報をDTO【自画面Session】へ設定します。 |

|  |  |  |  |  |  |  |  |  | ２．店舗選択画面から遷移したきた場合。 |  |  |  |
|------|------|------|------|------|------|------|------|------|------|------|------|------|
|  |  |  |  |  |  |  |  |  |  | 1．DTO【自画面Request用】．ウィンドウIDへDTO【店舗選択】.ウィンドウIDを設定します。 |  |  |
|  |  |  |  |  |  |  |  |  |  | 2．店舗を選択後遷移してきた場合。 |  |  |
| 事後条件 |  |  |  |  |  |  |  |  |  |  | 2-1．DTO【自画面Request】.表示対象へ共通DTO【店舗選択】.店舗コードを設定します。 |  |
| 自画面へ遷移する。 |  |  |  |  |  |  |  |  |  |  |  |  |
|  |  |  |  |  |  |  |  |  |  | 3．finally処理で下記の処理を行います。 |  |  |
|  |  |  |  |  |  |  |  |  |  |  | 3-1.DTO【自画面Session用】．共通画面遷移時のDTO保持オブジェクトへ |  |
|  |  |  |  |  |  |  |  |  |  |  |  | DTO【店舗選択】.ウィンドウIDでnullを設定し、店選択画面遷移時に保持したDTOを削除します。 |
|  |  |  |  |  |  |  |  |  |  |  | 3-2．DTO【店舗選択】.遷移区分を初期値に戻します。 |  |
|  |  |  |  |  |  |  |  |  |  |  | 3-3．DTO【店舗選択】.クリア処理を実行します。 |  |

|  |  |  |  |  |  |  |  |  | ３．条件項目情報をDTO【自画面Session】へ設定します。 |
|------|------|------|------|------|------|------|------|------|------|

|  |  |  |  |  |  |  |  |  | ４．Nullをリターンします。 |
|------|------|------|------|------|------|------|------|------|------|

| アクションID |  | BBS035A02 |  |  | アクション名 |  | 店舗選択処理 |  |  |  |  |  |  |  |  |  | 遷移先ビュー |  |  | BIRD共通店舗選択画面 |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| 事前条件 |  |  |  |  |  |  |  |  | 処理概要 |  |  |  |  |  |  |  |  |  |  |  |

|  |  |  |  |  |  |  |  |  | １．共通DTO【店舗選択】遷移元情報へ初期画面VIEWIDを設定します。 |
|------|------|------|------|------|------|------|------|------|------|

|  |  |  |  |  |  |  |  |  | ２．共通DTO【店舗選択】初期化フラグへtrueを設定します。 |
|------|------|------|------|------|------|------|------|------|------|

|  |  |  |  |  |  |  |  |  | ３．共通DTO【店舗選択】遷移区分要否フラグへtrueを設定します。 |
|------|------|------|------|------|------|------|------|------|------|

|  |  |  |  |  |  |  |  |  | ４．共通DTO【店舗選択】ウィンドウIDへDTO【自画面Request用】ウィンドウIDを設定します。 |
|------|------|------|------|------|------|------|------|------|------|


### 事後条件

| 事後条件 |  |  |  |  |  |  |  |  | ５．共通DTO【店舗選択】会社コードリストへ対象会社コードを保持したListを設定します。 |
|------|------|------|------|------|------|------|------|------|------|
| BIRD共通店舗選択画面へ遷移します。 |  |  |  |  |  |  |  |  |  |
|  |  |  |  |  |  |  |  |  | ６．現ウィンドウID の検索対象条件項目値の保管を行う。 |

|  |  |  |  |  |  |  |  |  | ７．選択画面遷移VIEWIDをリターンします。 |
|------|------|------|------|------|------|------|------|------|------|

| アクションID |  | BBS035A03 |  |  | アクション名 |  | ダウンロード　（共通CSVアクションクラスを継承） |  |  |  |  |  |  |  |  |  | 遷移先ビュー |  |  | なし |
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| 事前条件 |  |  |  |  |  |  |  |  | 処理概要 |  |  |  |  |  |  |  |  |  |  |  |

|  |  |  |  |  |  |  |  |  | １． | リクエストDTOへ下記の値をセット |  |
|------|------|------|------|------|------|------|------|------|------|------|------|
|  |  |  |  |  |  |  |  |  |  |  | ユーザーID |
|  |  |  |  |  |  |  |  |  |  |  | ユーザータイプコード |
|  |  |  |  |  |  |  |  |  |  |  | システム日付 |


### 事後条件

| 事後条件 |
|------|


---

## 読み取りが難しかった項目

- .xls形式のため、画像・図形の抽出ができませんでした。元のExcelファイルを参照してください。

- 結合セルのレイアウトが完全に再現できなかった箇所がある可能性があります。

- 複雑なレイアウトの表は、元のExcelファイルと照合して確認してください。


## 不明点・不明瞭な点

- 空欄になっている項目については、意図的な省略か記載漏れか確認が必要です。

- 用語や略語の意味が不明確な箇所は、関連ドキュメントを参照してください。
