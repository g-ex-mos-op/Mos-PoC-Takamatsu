<html xmlns:m="http://www.seasar.org/maya" m:action="#{budgetRegistAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<meta http-equiv="Content-Script-Type" content="text/javascript"/>
<title>事業計画予算登録</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="事業計画予算登録"/>
<span m:inject="s:insert" m:name="bodyTitleName">■事業計画予算登録</span>
<span m:inject="f:param" m:name="onLoadName" m:value=""/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS022V01"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
.budget_regist_condition_body {
}
.col_header {
	width		: 180px;
}
.author_col_header1 {
	width		: 30px;
}
.author_col_header2 {
	width		: 146px;
}
.col_field {
	width		: 366px;
}
.field_name {
	width		: 360px;
}
.ownercode_field {
	width		: 280px;
}
.select_button {
	width		: 52px;
}
-->
</style>

<script type="text/javascript">
<!--
/**
 * ファイル参照ボタン押下時にラジオボタン選択をファイル登録に移動する
 */
function selectFile(){
	document.forms['budgetRegistCondition'].elements['budgetRegistCondition:executeMode1'].checked = true;
}
/**
 * 下期予算クリア開始月プルダウンの変更時にラジオボタン選択を下期予算クリアに移動する
 */
function selectSimokiClear() {
    document.forms['budgetRegistCondition'].elements['budgetRegistCondition:executeMode2'].checked = true;
}
//-->
</script>

<div class="budget_regist_condition_body">
<form m:id="budgetRegistCondition" enctype="multipart/form-data">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>

<table class="hiddenBody" style="margin-bottom:4px;">
	<tr>
		<td>
			<table class="body_table">
			    <tr>
			      <th>会社</th>
			      <td>
			      <div class="hideArea">
			        <select class="condition_field"
			                m:id="CompanyCd"
			                m:value="#{budgetRegistDto.condCompanyCd}"
			                m:items="#{budgetRegistDto.listCompany}"
			                m:itemValue="companyCd"
			                m:itemLabel="companyName">
			            <option value="">モスフードサービス</option>
			            <option value="">トモス</option>
			            <option value="">四季菜</option>
			        </select>
			      </div>
			      </td>
			      <th>年度</th>
			      <td>
			      <div class="hideArea">
			        <select class="condition_field"
			                m:id="condYear"
			                m:value="#{budgetRegistDto.condYear}"
			                m:items="#{budgetRegistDto.listYear}"
			                m:itemValue="condYear"
			                m:itemLabel="condYear">
			            <option value="">2006</option>
			        </select>
			      </div>
			      </td>
			    </tr>
			</table>

		</td>
		<td style="padding-left:3px;">
			<input type="submit" value="実行"
			       m:action="#{budgetRegistAction.execute}"/>
		</td>
	</tr>
</table>
<table class="body_table" width="600" style="margin-bottom:4px;">
    <span m:converter="#{characterEncodingConverter}" m:inject="s:selectOneRadio2" m:value="#{budgetRegistDto.executeMode}">
    <col width="15"/>
	<col width="180" class="width_190_s"/>
	<col class="col_field"/>
    <tr>
    	<td align="center">
			<input type="radio" m:id="executeMode0" name="executeMode" value="0"/>
		</td>
        <th>テンプレートダウンロード</th>
        <td>
        </td>
    </tr>
    <tr>
    	<td align="center">
			<input type="radio" m:id="executeMode1" name="executeMode" value="1"/>
		</td>
        <th>ファイル登録</th>
        <td>
			<span m:converter="#{characterEncodingConverter}" m:inject="x:inputFileUpload" id="uploadedFile" class="field_name" m:value="#{budgetRegistDto.uploadedFile}" onclick="selectFile();"/>
			<br/><input type="checkbox" m:value="#{budgetRegistDto.changeKako}" onClick="selectFile();"/>過去月変更（前月から変更可能）
        </td>
    </tr>
    <span m:rendered="#{budgetRegistDto.clearAllowFlg}">
    <tr>
    	<td align="center">
			<input type="radio" m:id="executeMode2" name="executeMode" value="2"/>
		</td>
        <th>下期予算クリア</th>
        <td>
        	<span id="condYearStr" m:value="#{budgetRegistDto.sysNendo}"/>年度下期予算クリア　
        	<div class="hideArea">
			    クリア期間：
			    <select class="condition_field"
			        m:id="simokiClearFromMonth"
			        m:value="#{budgetRegistDto.simokiClearFromMonth}"
			        m:items="#{budgetRegistDto.simokiClearMonthList}"
			        onChange="selectSimokiClear();">
			        <option value="">2007年08月</option>
			    </select>〜<span m:value="#{budgetRegistDto.sysNendoNextYear}"/>年03月
			</div>
        </td>
    </tr>
    </span>
    </span>
</table>

<span m:rendered="#{budgetRegistDto.clearAllowFlg}">
  ※下期予算クリアは年度内１回のみ実行可能です。<br/>
  ※下期予算クリア後は必ず、下期予算の登録を行ってください。
</span>

<script type="text/javascript">
<!--
	focusElement("budgetRegistCondition");
-->
</script>
</form>
</div>
</div>
</body>
</html>
