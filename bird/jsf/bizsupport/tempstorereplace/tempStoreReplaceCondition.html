<html xmlns:m="http://www.seasar.org/maya" m:action="#{tempStoreReplaceConditionAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<meta http-equiv="Content-Script-Type" content="text/javascript"/>
<title>仮店舗置換えメンテナンス</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="仮店舗置換えメンテナンス"/>
<span m:inject="s:insert" m:name="bodyTitleName">■仮店舗置換えメンテナンス</span>
<span m:inject="f:param" m:name="onLoadName" m:value="onLoad();"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS025V01"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
.condition_body {
}
.pane {
	margin-top	: 20px;
}
.col_header {
	width		: 180px;
}
.author_col_header1 {
	width		: 30px;
}
.author_col_header2 {
	width		: 146px;
}
.col_field {
	width		: 366px;
}
.field_name {
	width		: 360px;
}
.ownercode_field {
	width		: 280px;
}
.select_button {
	width		: 52px;
}
-->
</style>

<script type="text/javascript">
<!--
function onLoad() {
	var f = document.forms['tempStoreReplaceCondition'];
	var flg = f.elements['tempStoreReplaceCondition:processFlg'].value;
	if(flg == 'true'){
		onChangeTarget();
	}
}
function onChangeCompany() {
	var f = document.forms['tempStoreReplaceCondition'];
	f.target='';
	f.elements['tempStoreReplaceCondition:__link_clicked__'].value='tempStoreReplaceCondition:onChangeCampanyAction';
	f.submit();
	return false;
}
function onChangeTarget() {
    var index = document.forms['tempStoreReplaceCondition'].elements['tempStoreReplaceCondition:targetCd'].selectedIndex;
    var code  = document.forms['tempStoreReplaceCondition'].elements['tempStoreReplaceCondition:targetCd'].options[index].value;
	var conSibu=document.getElementById('condSibuArea');
	var conJiyo=document.getElementById('condJigyoArea');
	if(code == '0') {
		conSibu.style.display="none";
		conJiyo.style.display="none";
	}
	else if(code == '1') {
		conSibu.style.display="none";
		conJiyo.style.display="";
	}
	else if(code == '2') {
		conSibu.style.display="";
		conJiyo.style.display="none";
	}
}
function doDownladCSV() {
	var f = document.forms['tempStoreReplaceCondition'];
	f.target='';
	f.elements['tempStoreReplaceCondition:__link_clicked__'].value='tempStoreReplaceCondition:doDownloadCSVAction';
	f.submit();
	return false;
}

function search() {
	var f = document.forms['tempStoreReplaceCondition'];
	f.elements['tempStoreReplaceCondition:__link_clicked__'].value='tempStoreReplaceCondition:jikkou';
	f.submit();
}
//-->
</script>

<div class="condition_body">
<form m:id="tempStoreReplaceCondition">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<a m:id="onChangeCampanyAction" m:action="#{tempStoreReplaceConditionAction.onChangeCompany}"/>
<a m:id="doDownloadCSVAction" m:action="#{tempStoreReplaceConditionAction.downloadCsv}"/>
<a m:id="jikkou" m:action="#{tempStoreReplaceConditionAction.doSearchTempStroe}"/>
<input type="hidden" m:id="processFlg" m:value="#{tempStoreReplaceDto.processFlg}"/>

<span m:rendered="#{tempStoreReplaceDto.processFlg == true}">
<table class="hiddenBody">
	<tr>
		<td>

			<table class="body_table">

			    <tr>
			      <th>会社</th>
			      <td>
			      <div class="hideArea">
			        <select m:id="companyCd"
			                m:value="#{tempStoreReplaceDto.condCompanyCd}"
			                m:items="#{tempStoreReplaceDto.listCompany}"
			                m:itemValue="companyCd"
			                m:itemLabel="companyName"
			                m:onchange="onChangeCompany();">
			            <option value="">モスフードサービス</option>
			            <option value="">トモス</option>
			            <option value="">四季菜</option>
			        </select>
			      </div>
			      </td>
			      <th>年度</th>
			      <td>
			      <div class="hideArea">
			        <select m:id="condNendo"
			                m:value="#{tempStoreReplaceDto.condNendo}"
			                m:items="#{tempStoreReplaceDto.listNendo}"
			                m:itemValue="condNendo"
			                m:itemLabel="condNendo">
			            <option value="">2006</option>
			        </select>
			      </div>
			      </td>
			      <th>確定</th>
			      <td>
			      	<span m:converter="#{characterEncodingConverter}" m:inject="s:selectOneRadio2" m:value="#{tempStoreReplaceDto.fixedKind}">
			      	<input type="radio" value="1"/>含む
			      	<input type="radio" value="0"/>含まない
			      	</span>
			      </td>
			    </tr>


			    <tr>
			      <th>対象条件</th>
			      <td>
			      <div class="hideArea">
			        <select m:id="targetCd"
			                m:value="#{tempStoreReplaceDto.condTargetCd}"
			                m:items="#{tempStoreReplaceDto.listTargetSearch}"
			                m:itemValue="targetCd"
			                m:itemLabel="targetName"
			                m:onchange="onChangeTarget();">
			            <option value="">全社</option>
			            <option value="">事業本部</option>
			            <option value="">支部</option>
			        </select>
			      </div>
			      </td>
			      <th>表示対象</th>
			      <td colspan="3">
			      <div class="hideArea">
			      	<span id="condJigyoArea" style="display:none">
			        <select m:id="condJigyouCd"
			                m:value="#{tempStoreReplaceDto.condJigyouCd}"
			                m:items="#{tempStoreReplaceDto.listJigyo}"
			                m:itemValue="jigyouCd"
			                m:itemLabel="jigyouName">
			            <option value="">事業部</option>
			        </select>
			        </span>
			      	<span id="condSibuArea" style="display:none">
			        <select m:id="condSibuCd"
			                m:value="#{tempStoreReplaceDto.condSibuCd}"
			                m:items="#{tempStoreReplaceDto.listSibu}"
			                m:itemValue="sibuCd"
			                m:itemLabel="sibuName">
			            <option value="">支部</option>
			        </select>
			        </span>
			      </div>
			      </td>
			    </tr>

			</table>

		</td>
		<td valign="bottom" style="padding-left:3px;">
			<!-- <input type="submit" value="実行" m:action="#{tempStoreReplaceConditionAction.doSearchTempStroe}" style="margin-right:6px;"/> -->
			<input type="button" value="実行" m:onclick="search();return false;" style="margin-right:6px;"/>
			<input type="button" value="ダウンロード" m:onclick="doDownladCSV();"/>
		</td>
	</tr>
</table>
</span>


<script type="text/javascript">
<!--
	focusElement("tempStoreReplaceCondition");
-->
</script>
</form>
</div>
</div>
</body>
</html>
