<html xmlns:m="http://www.seasar.org/maya" m:action="#{codBalanceListConfirmAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title><span m:value="COD残高一覧"/></title>
<span m:inject="f:param" m:name="layoutTitle" m:value="COD残高一覧"/>
<span m:inject="s:insert" m:name="bodyTitleName">■COD残高一覧</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS031V01"/>
<span m:inject="f:param" m:name="onLoadName" m:value="load()"/>
<span m:inject="f:param" m:name="onLoadName" m:value="init()"/>

</head>
<body>
<span m:inject="s:insert" m:name="body" >
<style type="text/css">
<!--
/* 入力フィールドの右詰入力へ指定するためのスタイルシート */
.ratio_style {
  text-align       : right;
  background-color : #FFFFFF;
  color            : black;
}
	.width_urikekeName {
	    width:*;
	}
	.width_zankin {
	    width:110px;
	}
	.width_juchukin {
	    width:125px;
	}
	/* 表：比率項目表示 */
	.hiritu_red{
	  color                 : red;
	}
-->
</style>
<SCRIPT LANGUAGE="javascript">
<!--
/**
 * 初期化処理
 */

function load() {

	    loadScroll("codBalancescroll",442);
    }

function init() {
}
/**
 * 確認エリア戻るボタン押下時処理
 *
 */
function downloadCsv(){
	//実行前に確認アラートを出力
	document.confirmForm.elements['confirmForm:__link_clicked__'].value='confirmForm:downloadCsv';
	document.confirmForm.submit();
}

-->
</SCRIPT>

<form m:id="confirmForm">
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" id="loadingFlg" value=""/>
	<a id="downloadCsv" m:action="#{codBalanceListCsvAction.download}"/>

	<span m:rendered="#{codBalanceListReqDto.downloadFlg == false}">
		<b><span m:converter="#{characterEncodingConverter}" m:value="#{codBalanceListReqDto.msg}"/></b>
	</span>
	<span m:rendered="#{codBalanceListReqDto.downloadFlg}">
		<input type="button" name="confirmForm:executeBt" class="operation_button" value="ダウンロード" onClick="downloadCsv();" onDblClick="return false"/>
		<div class="scroll_padding_head">
		<div class="scroll_hidden" style="margin-top:4px;">
		<table class="body_table2" width="98%">
			<tr class="header_row">
				<th class="width_urikakeName">売掛先</th>
				<th class="width_zankin">残高</th>
				<th class="width_juchukin">翌日受注金額</th>
				<th class="width_zankin">差引残高</th>
				<th class="width_juchukin">先日付受注金額</th>
		   	</tr>
		</table>
		</div>
		</div>
		<div class="scroll_padding_data">
		<div id="codBalancescroll" class="scroll_hidden">
			<table class="body_table2" width="98%" style="border-top-width:0px;">
				<div m:inject="s:forEach" m:items="#{codBalanceListReqDto.listDatas}"
				     m:var="list" m:varindex="g">
		      		<tr class="#{g==0?'non_top_border':''}">
					    <td class="width_urikakeName"><span m:converter="#{characterEncodingConverter}" m:value="#{list.urikakeCd}"/>&nbsp<span m:converter="#{characterEncodingConverter}" m:value="#{list.onerName}"/></td>
					    <td class="width_zankin" align="right"><span m:value="#{list.genZan}" m:converter="#{codBalanceListNumConv}"/></td>
					    <td class="width_juchukin" align="right"><span m:value="#{list.juchuKin}" m:converter="#{codBalanceListNumConv}"/></td>
					    <td m:class="width_zankin #{(list.hikiZan < 0) == true ? 'hiritu_red' : '' }" align="right"><span m:value="#{list.hikiZan}" m:converter="#{codBalanceListNumConv}"/></td>
					    <td class="width_juchukin" align="right"><span m:value="#{list.sakiJuchuKin}" m:converter="#{codBalanceListNumConv}"/></td>
				    </tr>
				</div>
			</table>
		</div>
		</div>
	</span>
</form>
</span>
</body>
</html>
