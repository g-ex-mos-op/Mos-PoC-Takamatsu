<html xmlns:m="http://www.seasar.org/maya" m:action="#{posReportRegistConfirmAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<title>POS速報設定登録(確認画面)</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="POS速報設定登録(確認画面)"/>
<span m:inject="s:insert" m:name="bodyTitleName">■POS速報設定登録(確認画面)</span>
<span m:inject="f:param" m:name="onLoadName" m:value="load();"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBR007V02"/>
<div m:inject="s:insert" m:name="body">

<script type="text/javascript">
<!--
// 初期設定
function load() {
	loadScroll("posreportRegistScroll", 375);
}
-->
</script>

<style type="text/css">
<!--
.condition_body {
}
.scroll_area {
	overflow:auto;
	width:800px;
	height:390px;
}
table tr.item_type td {
	background-color	: #FF99CC;
}
-->
</style>

<form m:id="posReportRegistConfirm">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="hidden" m:value="#{posReportRegistDto.windowId}"/>


<input type="submit" value="戻る" m:action="#{posReportRegistConfirmAction.back}"/>
<input type="submit" value="登録" m:action="#{posReportRegistConfirmAction.regist}"/>
<table width="400px" class="body_table2" style="margin-top:5px;margin-bottom:5px;">
	<tr class="header_row">
	  <th></th>
	  <th>集信開始日</th>
	  <th>集信終了日</th>
	  <th>処理</th>
	</tr>
	<tr>
	  <th>全店対象期間</th>
	  <td align="center"><span m:converter="#{characterEncodingConverter}" m:value="#{posReportRegistDto.shuDtStart==null ? (posReportRegistDto.mstRealTimeSchedule.shuDtSta==null?'-':posReportRegistDto.mstRealTimeSchedule.shuDtSta):posReportRegistDto.shuDtStart}"
	            m:converter="#{dateConverterYMD}"/></td>
	  <td align="center"><span m:value="#{posReportRegistDto.shuDtEnd==null ? (posReportRegistDto.mstRealTimeSchedule.shuDtEnd==null?'-':posReportRegistDto.mstRealTimeSchedule.shuDtEnd):posReportRegistDto.shuDtEnd}" m:converter="#{dateConverterYMD}"/></td>
	  <td align="center"><span m:converter="#{characterEncodingConverter}" m:value="#{posReportRegistDto.labelShori}"/></td>
	</tr>
</table>

<span m:rendered="#{posReportRegistDto.chkDblFlg}" style="color:#FF0000;">
既に登録済みの期間と重複する為、登録済みの期間が削除される店舗があります。問題なければ登録して下さい。
</span>


<!-- ヘッダー -->
<table width="780px" class="body_table2">

	<tr class="header_row">
	  <th width="50px">処理</th>
	  <th width="50px">SEQ</th>
	  <th width="*">対象店舗</th>
	  <th width="100px">集信開始日</th>
	  <th width="100px">集信終了日</th>
	  <th width="100px">ステータス</th>
	</tr>
</table>


<!-- レコード -->
<div class="scroll_standby" style="width:800px;" id="posreportRegistScroll">
<table width="780px" class="body_table2" style="border-top-width:0px">	
	<span m:inject="s:forEach" m:items="#{posReportRegistDto.listRegistData}"
	      m:var="e" m:varIndex="i" m:id="listRegistData">
	<tr m:class="#{e.dblFlg ? 'item_type' : ''} non_top_border">
	  <td width="50px" align="center"><span m:converter="#{characterEncodingConverter}" m:value="#{e.procStateName}"/></td>
	  <td width="50px" align="right"><span m:converter="#{characterEncodingConverter}" m:value="#{e.seqNoConfirm}"/></td>
	  <td width="*"><span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}" />&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}" /></td>
	  <td width="100px" align="center"><span m:value="#{e.shuDtSta}" m:converter="#{dateConverterYMD}" /></td>
	  <td width="100px" align="center"><span m:value="#{e.shuDtEnd}" m:converter="#{dateConverterYMD}" /></td>
	  <td width="100px" align="center"><span m:converter="#{characterEncodingConverter}" m:value="#{e.haisRsltStName}"/></td>
	</tr>
	</span>
</table>

</div>

<input type="text" m:id="dummyEnter" style="display:none"/>
</form>
</div>
</body>
</html>
