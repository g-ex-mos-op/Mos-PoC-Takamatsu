<html xmlns:m="http://www.seasar.org/maya" m:action="#{groupEigyoNipoRefMiseConfirmAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<title>営業日報</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="営業日報"/>
<span m:inject="s:insert" m:name="bodyTitleName">■営業日報</span>
<span m:inject="f:param" m:name="onLoadName" m:value="bodyLoad();"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBR001V03"/>
<span m:inject="f:param" m:name="kikanStyleCd" m:value="#{nipoRefResultParameterDto.taishoKikan1Day==true?'tenko':'eigyoNissu'}"/>
<span m:inject="f:param" m:name="zenKikanStyleCd" m:value="#{nipoRefResultParameterDto.taishoKikan1Day==true?'zentenko':'eigyoNissu'}"/>
<span m:inject="f:param" m:name="kikanLabel" m:value="#{nipoRefResultParameterDto.taishoKikan1Day==true?'天候':'日数'}"/>
<span m:inject="f:param" m:name="kikanZenLabel" m:value="#{nipoRefResultParameterDto.taishoKikan1Day==true?'前年天候':'日数'}"/>
<span m:inject="f:param" m:name="notHosei" m:value="#{(nipoRefResultParameterDto.selectedZennenTaishoTen == true && nipoRefResultParameterDto.zenDataZennenCd == 'HOSEI')==false}"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
table.body_table tr td.tenko, table.body_table tr td.tenshu {
	text-align : center;
}
.data_table_width {
    width:98%;
}
.width_blockName {
    width:100px;
}
.width_miseName {
    width:*;
}
.width_uriage {
    width:100px;
}
.width_yosan {
    width:100px;
}
.width_hiritu {
    width:60px;
}
.width_kyakusu {
    width:100px;
}
.width_tenposhu {
    width:40px;
}
.width_tenko {
    width:45px;
}
.width_zentenko {
    width:45px;
}
.width_eigyoNissu {
    width:45px;
}
.scroll_area_yoko {
	height     : 350px;
	width      : 1400px;
}
-->
</style>

<script type="text/javascript">
<!--
// 初期設定
function bodyLoad() {
	loadScroll("nipoRefScroll"+document.nipoRefCondition.elements['nipoRefCondition:subTagKbn'].value, 312);
}
function changeNipoTab(subTagKbn) {
	changeTabArea(subTagKbn);
	document.nipoRefCondition.elements['nipoRefCondition:subTagKbn'].value = subTagKbn;
	bodyLoad();
}
// 会社プルダウン変更処理
function reSearchSibuList() {
	document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:reSearchSibuList';
	document.forms['nipoRefCondition'].submit();
	return;
}
// 店舗種別プルダウン変更処理
function switchDisplayObj() {
	if(document.nipoRefCondition.elements['nipoRefCondition:tenpoShubetu'].selectedIndex == "1") {
		document.getElementById('nipoRefCondition:div_zenDataZen').style.display="inline";
		document.getElementById('nipoRefCondition:div_zenDataZenOth').style.display="none";
	}else {
		document.getElementById('nipoRefCondition:div_zenDataZen').style.display="none";
		document.getElementById('nipoRefCondition:div_zenDataZenOth').style.display="inline";
	}
}

// 対象期間プルダウン変更処理
function switchDisplayKikan() {
	document.getElementById('nipoRefCondition:div_kikanNipo').style.display="none";
	document.getElementById('div_kikanCurrMonth').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanYM').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanKibetu').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanSitei').style.display="none";

	var taishoKikan = document.nipoRefCondition.elements['nipoRefCondition:kikanTaisho'].selectedIndex;
	if(taishoKikan == 0) {
		document.getElementById('nipoRefCondition:div_kikanNipo').style.display="inline";
	}else if(taishoKikan == 1) {
		document.getElementById('div_kikanCurrMonth').style.display="inline";
	}else if(taishoKikan == 2) {
		document.getElementById('nipoRefCondition:div_kikanYM').style.display="inline";
	}else if(taishoKikan == 3) {
		document.getElementById('nipoRefCondition:div_kikanKibetu').style.display="inline";
	}else if(taishoKikan == 4) {
		document.getElementById('nipoRefCondition:div_kikanSitei').style.display="inline";
	}
}
// 店リンク押下処理
function setLinkInfo(miseCd) {
	document.nipoRefCondition.elements['nipoRefCondition:miseCd'].value = miseCd;
	document.nipoRefCondition.elements['nipoRefCondition:isUseCommonDto'].value = '1';
	document.nipoRefCondition.target = "_blank";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:selectMiseLink';
	document.forms['nipoRefCondition'].submit();
	return;
}
// ダウンロード
function downloadCsv() {
	document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:downloadCsv';
	document.forms['nipoRefCondition'].submit();
	return;
}

// 集計区分プルダウン変更処理 2008/12/09追加 SV対応
function switchShukeiKbn(elementShukeiKbn, initShukeiKbn) {
	var kbnIndex = elementShukeiKbn.selectedIndex;
	var commonClassName = "taisho_";
	if(kbnIndex == 2) {
		dispSwitchElement("div",commonClassName, "sibu", "none");
		dispSwitchElement("div",commonClassName, "svCd", "");
	}
	else if(initShukeiKbn == elementShukeiKbn.options[kbnIndex].value){
		dispSwitchElement("div",commonClassName, "svCd", "none");
		dispSwitchElement("div",commonClassName, "sibu", "");
	}
	else {
		reSearchSibuList();
	}
}

/**
 * 対象クラスエレメント表示切り替え処理
 */
function dispSwitchElement(targetTag, commonClassName, targetCode, status) {
	var objsDiv = document.nipoRefCondition.getElementsByTagName(targetTag);
	for (i = 0; i < objsDiv.length; i++) {
		var classNm = objsDiv[i].className;
		if(classNm.indexOf(commonClassName)>=0){
			if(classNm.indexOf(targetCode)>=0) {
				objsDiv[i].style.display = status;
			}
		}
	}
}

// SV検索 20081209追加 SV対応
function doCallSVForm() {
    document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:callSvForm';
	document.forms['nipoRefCondition'].submit();
}
/**
 * 画面タブ起動処理
 */
function callScreenTab(targetTab){
	//別ウィンドウのチェック
	initWindow();
	document.nipoRefCondition.elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:'+targetTab;
	document.forms['nipoRefCondition'].submit();
}
/**
 * 別ウィンドウ処理
 */
function initWindow() {
	//別ウィンドウのチェック
	var isChecked = false;
	if(document.nipoRefCondition.elements['nipoRefCondition:newwin'] != null){
	    isChecked = document.nipoRefCondition.elements['nipoRefCondition:newwin'].checked;
		document.nipoRefCondition.elements['nipoRefCondition:newWindowFlg'].value=isChecked;
		if(isChecked) {
			document.nipoRefCondition.target = "_blank";
			return;
		}
	}
	document.nipoRefCondition.target = "_self";
}
function search() {
	initWindow();
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:reSearch';
	document.forms['nipoRefCondition'].submit();
	return;
}
/**
 * 通貨切替処理(2013/01 追加)
 */
function changeCurrency(kansanFlg) {
	document.nipoRefCondition.elements['nipoRefCondition:kansanFlg'].value= kansanFlg;
    document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:changeCurrency';
	document.forms['nipoRefCondition'].submit();
	return false;
}

-->
</script>
<form m:id="nipoRefCondition" target="_self" onkeydown="setDefaultSubmitButton('nipoRefCondition', 'btnExecute');">
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="windowId" m:value="#{nipoRefSearchParameterDto.windowId}"/>
	<input type="hidden" m:id="newWindowFlg" m:value="#{groupEigyoNipoRefMiseConfirmAction.newWindowFlg}"/>
	<input type="hidden" m:value="#{nipoRefSearchParameterDto.researchFlg}"/>
	<input type="hidden" m:id="miseCd" m:value="#{groupEigyoNipoRefMiseConfirmAction.miseCd}"/>
	<input type="hidden" m:value="#{nipoRefSearchParameterDto.taishoTenpoCd}"/>
	<input type="hidden" m:id="isUseCommonDto" m:value="1"/>
	<a m:id="selectMiseLink" m:action="#{groupEigyoNipoRefMiseConfirmAction.selectedMise}"/>
	<a m:id="reSearchSibuList" m:action="#{groupEigyoNipoRefMiseConfirmAction.reSearchTaishoSibuList}"/>
	<a m:id="downloadCsv" m:action="#{groupEigyoNipoRefMiseConfirmAction.downloadCsvMise}"/>
	<a id="callSvForm" m:action="#{groupEigyoNipoRefMiseConfirmAction.callSvForm}"/>
	<a m:id="takuhai" m:action="#{groupEigyoNipoRefMiseConfirmAction.goTakuhaiNipo}"/>
	<a m:id="yago" m:action="#{groupEigyoNipoRefMiseConfirmAction.goYago}"/>
	<a m:id="moscard" m:action="#{groupEigyoNipoRefMiseConfirmAction.callMoscard}"/>
	<a m:id="netorder" m:action="#{groupEigyoNipoRefMiseConfirmAction.callNetorder}"/>
	<a m:id="changeCurrency" m:action="#{groupEigyoNipoRefMiseConfirmAction.changeCurrency}"/>
	<a m:id="reSearch" m:action="#{groupEigyoNipoRefMiseConfirmAction.reSearch}"/>
	<!-- 条件部 -->
	<table class="hiddenBody element_browser"
	       style="margin-bottom:4px;">
		<tr>
		<td>
	<!-- 条件部プルダウン -->
	<table class="body_table">
	<tr>
		<th nowrap=" nowrap">会社</th>
		<td>
			<div class="hideArea">
			    <select class="condition_field"
			            m:id="companyCd"
			            m:value="#{nipoRefSearchParameterDto.companyCd}"
			    		m:items="#{nipoRefConditionDto.companyList}"
						m:itemValue="companyCd"
						m:itemLabel="companyName"
						m:onchange="reSearchSibuList();"/></div>
		</td>
		<th nowrap=" nowrap">店舗種別</th>
		<td>
			<div class="hideArea">
			    <select class="condition_field"
			    		m:value="#{nipoRefSearchParameterDto.tenpoShubetuCd}"
			    	    m:items="#{nipoRefConditionDto.tenpoShubetuList}"
			    	    m:id="tenpoShubetu"
			    	    m:itemValue="code"
						m:itemLabel="name"
			    		m:onchange="switchDisplayObj();"/></div>
		</td>
		<th nowrap=" nowrap">集計区分</th>
		<td>
			<div class="hideArea">
			    <select class="condition_field"
			    		m:value="#{nipoRefSearchParameterDto.shukeiKbnCd}"
			    	    m:items="#{nipoRefConditionDto.shukeiKbnList}"
			    	    m:id="shukeiKbnCd"
			    	    m:onchange="switchShukeiKbn(this, '#{nipoRefSearchParameterDto.shukeiKbnCd}');"/></div>
		</td>
		<th nowrap=" nowrap">
			<div class="taisho_sibu" style="#{nipoRefSearchParameterDto.svFlg ? 'display:none;' : ''}">対象支部</div>
			<div class="taisho_svCd" m:style="#{nipoRefSearchParameterDto.svFlg ? '' : 'display:none;'}">
				SVコード<input type="button" m:id="doSearchSVBtn" value="検索"
				                     onclick="doCallSVForm();" ondblclick="return false;"
				                     class="button_in_table height_21"/></div></th>
	    <td>
			<div class="taisho_sibu" style="#{nipoRefSearchParameterDto.svFlg ? 'display:none;' : ''}">
			    <div class="hideArea">
				<select m:value="#{nipoRefSearchParameterDto.sibuCd}"
					    m:items="#{nipoRefSearchParameterDto.taishoSibuList}"/></div></div>
			<div class="taisho_svCd" style="#{nipoRefSearchParameterDto.svFlg ? '' : 'display:none;'}">
				<input type="text" class="imenotuse height_11" m:id="textTakuMiseSV" m:value="#{nipoRefSearchParameterDto.svCd}" maxlength="8" size="15" /></div>
		</td>
	</tr>
	<tr>
		<th nowrap=" nowrap">対象期間</th>
		<td>
			<div class="hideArea">
				    <select m:value="#{nipoRefSearchParameterDto.taishoKikanCd}"
				    	    m:items="#{nipoRefConditionDto.taishoKikanList}"
				    	    m:id="kikanTaisho"
							m:itemValue="code"
							m:itemLabel="name"
				    		m:onchange="switchDisplayKikan();"/></div>
		</td>
		<th nowrap=" nowrap">期間指定</th>
		<td colspan="3">
			<div class="hideArea">
				<div id="div_kikanNipo" class="div_kikanNipo" style="#{nipoRefSearchParameterDto.taishoKikan1Day? '' : 'display:none;'}">
					<select m:value="#{nipoRefSearchParameterDto.kikanNipo}"
							m:items="#{nipoRefConditionDto.kikanFromList}"
							m:id="kikanNipo"
							m:itemValue="code"
							m:itemLabel="name"/></div>
				<div id="div_kikanCurrMonth" class="div_kikanCurrMonth"></div>

				<div id="div_kikanYM" class="div_kikanYM" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='MONTH') == true  ? '' : 'display:none;'}">
					<select m:value="#{nipoRefSearchParameterDto.kikanYM}"
							m:items="#{nipoRefConditionDto.kikanYMList}"
							m:id="kikanYM"
							m:itemValue="code"
							m:itemLabel="name"/></div>

				<div id="div_kikanKibetu" class="div_kikanKibetu" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='KIBETU') == true ? '' : 'display:none;'}">
					<select m:value="#{nipoRefSearchParameterDto.kikanYear}"
								m:items="#{nipoRefConditionDto.kikanYearList}"
								m:id="kikanYear"
								m:itemValue="code"
								m:itemLabel="name"/>
					年度<select m:value="#{nipoRefSearchParameterDto.kikanKibetu}"
								m:items="#{nipoRefConditionDto.kikanKibetuList}"
								m:id="kikanKibetu"
								m:itemValue="code"
								m:itemLabel="name"/></div>
				<div id="div_kikanSitei" class="div_kikanSitei" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='DAYS') == true  ? '' : 'display:none;'}">
						<select m:value="#{nipoRefSearchParameterDto.kikanFrom}"
								m:items="#{nipoRefConditionDto.kikanFromList}"
								m:id="kikanFrom"
								m:itemValue="code"
								m:itemLabel="name"/>
					〜<select m:value="#{nipoRefSearchParameterDto.kikanTo}"
								m:items="#{nipoRefConditionDto.kikanToList}"
								m:id="kikanTo"
								m:itemValue="code"
								m:itemLabel="name"/></div></div>
		</td>
		<th nowrap=" nowrap">前年データ種別</th>
		<td>
			<div class="hideArea">
				<div id="div_zenDataZenOth" class="div_zenDataZenOth"
				     m:style="#{nipoRefSearchParameterDto.selectedZennenTaishoTen ? 'display:none;' : ''}">
					<select m:value="#{nipoRefSearchParameterDto.zenDataZennenOthCd}"
							m:items="#{nipoRefConditionDto.zenDataZennenOthList}"
							m:id="zenDataZennenOthCd"
							m:itemValue="code"
							m:itemLabel="name"/></div>
				<div id="div_zenDataZen" class="div_zenDataZen"
				     style="#{nipoRefSearchParameterDto.selectedZennenTaishoTen ? '' : 'display:none;'}">
					<select m:value="#{nipoRefSearchParameterDto.zenDataZennenCd}"
							m:items="#{nipoRefConditionDto.zenDataZennenList}"
							m:id="zenDataZennenCd"
							m:itemValue="code"
							m:itemLabel="name"/></div></div>
		</td>
	</tr>
	</table>
	</td>
	<td valign="bottom">
			<input type="button" m:id="btnExecute"
				m:value="#{nipoRefSearchParameterDto.researchFlg=='true'?'再検索':'実行'}" style="margin:2px;"
				onclick="search();" ondblclick="return false;"/>
	</td>
	</tr>
</table>
	<!-- 条件部プルダウン印刷用 -->
	<table class="element_print">
		<tr>
		<td>会社：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.companyName}"/></option></select></td>
		<td>店舗種別：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelTenpoShubetu}"/></option></select></td>
		<td>集計区分：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelShukeiKbn}"/></option></select></td>
		<td><span m:converter="#{characterEncodingConverter}" m:rendered="#{nipoRefResultParameterDto.svFlg==false}">対象支部：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.sibuName}"/></option></select></span></td>
		</tr>
		<tr>
		<td>対象期間：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelTaishoKikan}"/></option></select></td>
		<td colspan="2">期間指定：<span m:rendered="#{nipoRefResultParameterDto.existKikanSiteiFrom}">
						<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelKikanSiteiFrom}"/></option></select>
						<span m:rendered="#{nipoRefResultParameterDto.taishoKikanCd=='KIBETU'}">年度</span>
						<span m:rendered="#{nipoRefResultParameterDto.taishoKikanCd=='DAYS'}">〜</span></span>
					  <span m:rendered="#{nipoRefResultParameterDto.existKikanSiteiTo}">
					  	<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{nipoRefResultParameterDto.labelKikanSiteiTo}" escape="false"/></option></select></span></td>
		<td>前年データ種別：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.zennenDataShubetuName}"/></option></select></td>
		</tr>
	</table>
	<div class="scroll_padding_head">
	<div m:rendered="#{groupEigyoNipoRefResultDto.existDataFlg}"
	     class="scroll_hidden" style="clear:both;">
		 <table class="hiddenBody data_table_width">
		 	<tr><td>
			<table class="body_table2">
				<th><span m:value="#{nipoRefResultParameterDto.svFlg?'担当SV':'対象支部'}"/></th>
				<td class="body_num" width="#{nipoRefResultParameterDto.svFlg?'500px':'180px'}" style="text-align:left">
					<span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.svFlg?nipoRefResultParameterDto.hyojiSvName:nipoRefResultParameterDto.sibuName}"/>&nbsp;</td>
			</table></td>
			<td align="right">
			<table class="hiddenBody element_browser">
				<tr><td><input type="button" style="margin-right:5px"
				              onclick="downloadCsv();" value="ダウンロード"/></td>
		            <td><input type="checkbox" m:id="newwin"
						checked="#{groupEigyoNipoRefMiseConfirmAction.newWindowFlg}"/>別ウィンドウに表示</td></tr>
			    </table></td>
			</tr>
		</table>
	</div>
	</div>
	<div style="clear:both;"/>
	<div class="scroll_padding_head">
    <div class="scroll_hidden" style="margin-top:4px">
		<table width="#{nipoRefResultParameterDto.codCompany.foreign==true?'98%':''}" cellspacing="0" cellpadding="0">
			<tr>
				<td width="150px" class="body_active_tab element_browser">営業日報</td>
				<td width="150px" class="body_non_active_tab element_browser">
					<a href="javascript:void(0);"
					    onClick="callScreenTab('takuhai');return false;" onDblClick="return false;">
						宅配売上</a></td>
				<td width="150px" class="body_non_active_tab element_browser">
					<a href="javascript:void(0);"
					    onClick="callScreenTab('yago');return false;" onDblClick="return false;">
						屋号別売上</a></td>

				<td width="150px" class="body_non_active_tab element_browser" m:rendered="#{nipoRefConditionDto.accessMoscard && nipoRefResultParameterDto.mosCompany}">
					<a href="javascript:void(0);"
					    onClick="callScreenTab('moscard');return false;" onDblClick="return false;">
						MOS CARD</a>
				</td>
				<td  m:rendered="#{nipoRefConditionDto.accessNetorder && nipoRefResultParameterDto.mosCompany}" width="150px" class="body_non_active_tab element_browser">
					<a href="javascript:void(0);"
					    onClick="callScreenTab('netorder');return false;" onDblClick="return false;">
						ネット注文</a>
				</td>
				<td m:rendered="#{nipoRefResultParameterDto.codCompany.foreign==true}" width="*" align="right" nowrap="true">
					<table m:rendered="#{groupEigyoNipoRefResultDto.existDataFlg==true}" class="body_table2" style="float:right">
					<tr>
						<th style="font-size:11pt;">表示通貨</th>
						<td nowrap="true" style="padding:0px;2px;">
							<font color="red" style="font-weight:bold;">
								<span m:converter="#{characterEncodingConverter}" m:value="#{groupEigyoNipoRefResultDto.kansanFlg?'日本円':nipoRefResultParameterDto.codCompany.currencyName}"/></font>
								<span m:rendered="#{groupEigyoNipoRefResultDto.kansanFlg==false}" style="font-size:11pt;">&nbsp;[1<span m:value="#{nipoRefResultParameterDto.codCompany.rateLabel}"/>=<span m:value="#{nipoRefResultParameterDto.codCompany.rate}" style="font-weight:bold;font-size:13pt;" m:converter="#{groupEigyoNipoRateCnvt}"/>円]</span>&nbsp;
						</td>
					</tr>
					</table>
				</td>
			</tr>
		</table>
	</div>
	</div>
 	<input type="hidden" m:value="#{nipoRefResultParameterDto.windowId}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.companyCd}"/>
 	<input type="hidden" m:value="#{nipoRefResultParameterDto.tenpoShubetuCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.shukeiKbnCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.taishoTenpoCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.taishoKikanCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.zenDataZennenCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.zenDataZennenOthCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanNipo}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanCurrMonth}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanYM}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanYear}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanKibetu}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanFrom}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanTo}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.svCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.svName}"/>
	<input type="hidden" m:id="kansanFlg" m:value="#{nipoRefResultParameterDto.kansanFlg}"/>
	<input type="hidden" m:id="sibuCd" m:value="#{nipoRefResultParameterDto.sibuCd}"/>
	<input type="hidden" m:id="sibuName" m:value="#{nipoRefResultParameterDto.sibuName}"/>
	<input type="hidden" m:id="subTagKbn" m:value="#{nipoRefResultParameterDto.subTagKbn}"/>
	<input type="hidden" m:id="className" m:value="#{nipoRefResultParameterDto.className}"/>
	<input type="hidden" m:id="linkParams" m:value="#{nipoRefResultParameterDto.linkParams}"/>
	<!-- 結果情報 -->
	<input type="hidden" m:value="#{groupEigyoNipoRefResultDto.existDataFlg}"/>
	<input type="hidden" m:value="#{groupEigyoNipoRefResultDto.kansanFlg}"/>
<div m:rendered="#{groupEigyoNipoRefResultDto.existDataFlg}">
<div class="scroll_padding_head">
<div class="scroll_hidden element_browser margin_bottom_hidden">
<table width="98%" cellspacing="0" cellpadding="0" class="tab_area">
	<tr style="height:5px;"><td></td></tr>
	<tr style="height:21px;"><td>
		<table cellspacing="0" cellpadding="0" class="table_margin_bottom">
		<tr>
			<td class="body_#{nipoRefResultParameterDto.subTagKbn=='0'?'':'non_'}active_cell tab_change_area_0" width="125px">
				<a href="javascript:changeNipoTab('0');" m:passthrough="true">売上</a></td>
			<td class="body_#{nipoRefResultParameterDto.subTagKbn=='1'?'':'non_'}active_cell tab_change_area_1" width="125px">
				<a href="javascript:changeNipoTab('1');"
				   m:passthrough="true">客数</a></td>
		</tr>
	</table>
	</td>
	<td m:rendered="#{nipoRefResultParameterDto.codCompany.foreign==true}" align="right" nowrap="true">
		&nbsp;<input type="button" value="#{groupEigyoNipoRefResultDto.kansanFlg?nipoRefResultParameterDto.codCompany.currencyName:'日本円'}へ切替"
		       onClick="changeCurrency(#{groupEigyoNipoRefResultDto.kansanFlg?'':'1'});"
		       onDblClick="return false;"
		       class=" element_browser"/>&nbsp;
	</td>
	</tr>
	<tr class="body_caption" style="height:5px;"><td colspan="2"></td></tr>
</table>
</div>
</div>
<!--売上モード-->
<div class="#{nipoRefResultParameterDto.subTagKbn=='0'?'':'in'}visible_tab tab_change_area_0">
    <span class="element_print">【売上】</span>
    <div class="#{nipoRefResultParameterDto.nebikiFlg==true ? 'scroll_area_yoko' : ''}">
    <div class="scroll_padding_head">
    <div class="scroll_hidden margin_bottom_hidden">
	<table class="body_table2 data_table_width">
		<tr class="header_row">
			<th m:rendered="#{nipoRefResultParameterDto.dispBlock}" class="width_blockName">ブロック名称</th>
			<th class="width_miseName">店舗名称</th>
			<th m:rendered="#{nipoRefResultParameterDto.tenpoShubetuCd == 'ALL'}" class="width_tenposhu">店種</th>
			<th class="width_#{kikanStyleCd}"><span m:converter="#{characterEncodingConverter}" m:value="#{kikanLabel}"/></th>
			<th class="width_uriage">売上</th>
			<th m:rendered="#{nipoRefResultParameterDto.nebikiFlg==true}" class="width_uriage">値引</th>
			<th m:rendered="#{nipoRefResultParameterDto.nebikiFlg==true}" class="width_uriage">値引後売上</th>
			<th class="width_yosan">予算</th>
			<th class="width_hiritu">達成率</th>
			<th m:rendered="#{nipoRefResultParameterDto.nebikiFlg==true}" class="width_hiritu">値引後達成率</th>
			<th m:rendered="#{notHosei}" class="width_uriage">前年実績</th>
			<th m:rendered="#{notHosei && nipoRefResultParameterDto.nebikiFlg==true}" class="width_uriage">値引後<br>前年実績</th>
			<th class="width_hiritu">前年比</th>
			<th m:rendered="#{nipoRefResultParameterDto.nebikiFlg==true}" class="width_hiritu">値引後前年比</th>
			<th class="width_#{zenKikanStyleCd}"><span m:converter="#{characterEncodingConverter}" m:value="#{kikanZenLabel}"/></th>
		</tr>
	</table>
	</div>
	</div>
	<div class="scroll_padding_data_no">
	<div id="nipoRefScroll0" class="scroll_complete">
	<table class="body_table data_table_width" style="border-top-width:0px">
		<div m:inject="s:forEach" m:items="#{groupEigyoNipoRefResultDto.uriageList}" m:var="e" m:varindex="i">
		<tr m:class="#{e.rClass} non_top_border">
			<span m:rendered="#{nipoRefResultParameterDto.dispBlock}">
				<td class="width_blockName" style="font-weight:bold;"><span m:converter="#{characterEncodingConverter}" m:value="#{e.blockName}"/></td>
			</span>
			<td class="width_miseName letter_space_negtive" style="font-weight:bold;">
				<span m:rendered="#{e.rClass == ''}">
						<span m:rendered="#{nipoRefConditionDto.portalAccessFlg == true}">
							<a href="#" onclick="setLinkInfo('#{e.miseCd}')">
								<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
							</a>
						</span>
						<span m:rendered="#{nipoRefConditionDto.portalAccessFlg != true}">
							<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
						</span>
				</span>
				<span m:rendered="#{e.rClass != '' && nipoRefResultParameterDto.mosCompany==false}">
					<span m:converter="#{characterEncodingConverter}" m:value="#{e.blockName}"/>
				</span>
			</td>
			<span m:rendered="#{nipoRefResultParameterDto.tenpoShubetuCd == 'ALL'}">
				<td class="width_tenposhu tenshu"><span m:converter="#{characterEncodingConverter}" m:value="#{e.zenKbn}"/></td>
			</span>
			<span m:rendered="#{nipoRefResultParameterDto.taishoKikan1Day}">
				<td class="width_tenko tenko"><span m:converter="#{characterEncodingConverter}" m:value="#{e.tenkoKbnJpn}"/></td>
			</span>
			<span m:rendered="#{nipoRefResultParameterDto.taishoKikan1Day==false}">
				<td class="width_eigyoNissu body_num"><span m:value="#{e.eigyoDays}" m:converter="#{numericConverter}"/></td>
			</span>
			<td class="width_uriage body_num"><span m:value="#{e.uriage}" m:converter="#{groupEigyoNipoNumericCnvt}"/></td>
			<span m:rendered ="#{nipoRefResultParameterDto.nebikiFlg==true}">
			<td class="width_uriage body_num"><span m:value="#{e.nebiki}" m:converter="#{groupEigyoNipoNumericCnvt}"/></td>
			<td class="width_uriage body_num"><span m:value="#{e.uriageAfterNebiki}" m:converter="#{groupEigyoNipoNumericCnvt}"/></td>
			</span>
			<td class="width_yosan body_num"><span m:value="#{e.yosan}" m:converter="#{numericConverter}"/></td>
			<td m:class="#{e.tasseiUriClass} width_hiritu"><span m:value="#{e.tassei}" m:converter="#{numericConverter}"/></td>
			<span m:rendered ="#{nipoRefResultParameterDto.nebikiFlg==true}">
			<td m:class="#{e.tasseiAfterNebikiUriClass} width_hiritu"><span m:value="#{e.tasseiAfterNebiki}" m:converter="#{numericConverter}"/></td>
			</span>
			<span m:rendered="#{notHosei}">
				<td  class="width_uriage body_num"><span m:value="#{e.uriageZen}" m:converter="#{groupEigyoNipoNumericCnvt}"/></td>
				<span m:rendered ="#{nipoRefResultParameterDto.nebikiFlg==true}">
					<td class="width_uriage body_num"><span m:value="#{e.uriageZenAfterNebiki}" m:converter="#{groupEigyoNipoNumericCnvt}"/></td>
				</span>
			</span>
			<td m:class="#{e.zenUriClass} width_hiritu"><span m:value="#{e.zenHiUri}" m:converter="#{numericConverter}"/></td>
			<span m:rendered ="#{nipoRefResultParameterDto.nebikiFlg==true}">
				<td m:class="#{e.zenAfterNebikiUriClass} width_hiritu"><span m:value="#{e.zenHiUriAfterNebiki}" m:converter="#{numericConverter}"/></td>
			</span>
			<span m:rendered="#{nipoRefResultParameterDto.taishoKikan1Day}">
				<td class="width_zentenko tenko"><span m:converter="#{characterEncodingConverter}" m:value="#{e.tenkoKbnZenJpn}"/></td>
			</span>
			<span m:rendered="#{nipoRefResultParameterDto.taishoKikan1Day==false}">
				<td class="width_eigyoNissu body_num"><span m:value="#{e.eigyoDaysZen}" m:converter="#{numericConverter}"/></td>
			</span>
		</tr>
		</div>
	</table>
	</div>
	</div>
	</div>
</div>
<!--客数モード-->
<div class="#{nipoRefResultParameterDto.subTagKbn=='1'?'':'in'}visible_tab tab_change_area_1">
    <span class="element_print">【客数】</span>
    <div class="scroll_padding_head">
    <div class="scroll_hidden">
	<table class="body_table2 data_table_width">
		<tr class="header_row">
			<th m:rendered="#{nipoRefResultParameterDto.dispBlock}" class="width_blockName">ブロック名称</th>
			<th class="width_miseName">店舗名称</th>
			<th m:rendered="#{nipoRefResultParameterDto.tenpoShubetuCd == 'ALL'}" class="width_tenposhu">店種</th>
			<th class="width_#{kikanStyleCd}"><span m:converter="#{characterEncodingConverter}" m:value="#{kikanLabel}"/></th>
			<th class="width_kyakusu">客数</th>
			<th class="width_kyakusu">前年客数</th>
			<th class="width_hiritu">前年比</th>
			<th class="width_kyakusu">客単価</th>
			<th class="width_hiritu">前年比</th>
			<th class="width_#{zenKikanStyleCd}"><span m:converter="#{characterEncodingConverter}" m:value="#{kikanZenLabel}"/></th>
		</tr>
	</table>
	</div>
	</div>
	<div class="scroll_padding_data_no">
	<div id="nipoRefScroll1" class="scroll_complete">
	<table class="body_table data_table_width" style="border-top-width:0px">
		<div m:inject="s:forEach" m:items="#{groupEigyoNipoRefResultDto.kyakusuList}" m:var="e" m:varindex="i">
		<tr m:class="#{e.rClass} non_top_border">
			<span m:rendered="#{nipoRefResultParameterDto.dispBlock}">
				<td class="width_blockName" style="font-weight:bold;"><span m:converter="#{characterEncodingConverter}" m:value="#{e.blockName}"/></td>
			</span>
			<td class="width_miseName" style="font-weight:bold;">
				<span m:rendered="#{e.rClass == ''}">
					<span m:rendered="#{nipoRefConditionDto.portalAccessFlg == true}">
						<a href="#" onclick="setLinkInfo('#{e.miseCd}')">
							<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
						</a>
					</span>
					<span m:rendered="#{nipoRefConditionDto.portalAccessFlg != true}">
						<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseCd}"/>&nbsp;<span m:converter="#{characterEncodingConverter}" m:value="#{e.miseNameKj}"/>
					</span>
				</span>
				<span m:rendered="#{e.rClass != '' && nipoRefResultParameterDto.mosCompany==false}">
					<span m:converter="#{characterEncodingConverter}" m:value="#{e.blockName}"/>
				</span>
			</td>
			<span m:rendered="#{nipoRefResultParameterDto.tenpoShubetuCd == 'ALL'}">
				<td class="width_tenposhu tenshu"><span m:converter="#{characterEncodingConverter}" m:value="#{e.zenKbn}"/></td>
			</span>
			<span m:rendered="#{nipoRefResultParameterDto.taishoKikan1Day==true}">
				<td class="width_tenko tenko"><span m:converter="#{characterEncodingConverter}" m:value="#{e.tenkoKbnJpn}"/></td>
			</span>
			<span m:rendered="#{nipoRefResultParameterDto.taishoKikan1Day==false}">
				<td class="width_eigyoNissu body_num"><span m:value="#{e.eigyoDays}" m:converter="#{numericConverter}"/></td>
			</span>
			<td class="width_kyakusu body_num"><span m:value="#{e.kyakusu}" m:converter="#{numericConverter}"/></td>
			<td class="width_kyakusu body_num"><span m:value="#{e.kyakusuZen}" m:converter="#{numericConverter}"/></td>
			<td m:class="#{e.zenKyaClass} width_hiritu"><span m:value="#{e.zenHiKyaku}" m:converter="#{numericConverter}"/></td>
			<td class="width_kyakusu body_num"><span m:value="#{e.tanka}" m:converter="#{groupEigyoNipoNumericCnvt}"/></td>
			<td m:class="#{e.zenTanClass} width_hiritu"><span m:value="#{e.zenHiTanka}" m:converter="#{numericConverter}"/></td>
			<span m:rendered="#{nipoRefResultParameterDto.taishoKikan1Day}">
				<td class="width_zentenko tenko"><span m:converter="#{characterEncodingConverter}" m:value="#{e.tenkoKbnZenJpn}"/></td>
			</span>
			<span m:rendered="#{nipoRefResultParameterDto.taishoKikan1Day==false}">
				<td class="width_eigyoNissu body_num"><span m:value="#{e.eigyoDaysZen}" m:converter="#{numericConverter}"/></td>
			</span>
		</tr>
		</div>
	</table>
	</div>
	</div>
</div>
</div>

<input type="text" m:id="dummyText" m:style="display:none;"/>
</form>
</div>
</body>
</html>
