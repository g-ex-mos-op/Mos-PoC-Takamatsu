<html xmlns:m="http://www.seasar.org/maya" m:action="#{gyotaibetuNipoRefSibuAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<title>屋号別売上日報</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="屋号別売上日報"/>
<span m:inject="s:insert" m:name="bodyTitleName">■屋号別売上日報</span>
<span m:inject="f:param" m:name="onLoadName" m:value="bodyLoad();"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBR005V02"/>
<span m:inject = "f:param" m:name = "msg" m:value="結果が表示されるまでに時間がかかります。よろしいですか？"/>
<span m:inject="f:param" m:name="notHosei" m:value="#{(nipoRefResultParameterDto.selectedZennenTaishoTen == true && nipoRefResultParameterDto.zenDataZennenCd == 'HOSEI')==false}"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
.data_table_width {
    width:98%;
}
-->
</style>

<script type="text/javascript">
<!--
// 初期設定
function bodyLoad() {
	//タブ切替初期処理
	loadScroll("nipoRefScroll", 325);
}
// 店舗種別プルダウン変更処理
function switchDisplayObj() {
	if(document.nipoRefCondition.elements['nipoRefCondition:tenpoShubetu'].selectedIndex == "1") {
		document.getElementById('nipoRefCondition:div_zenDataZen').style.display="inline";
		document.getElementById('nipoRefCondition:div_zenDataZenOth').style.display="none";
	}else {
		document.getElementById('nipoRefCondition:div_zenDataZen').style.display="none";
		document.getElementById('nipoRefCondition:div_zenDataZenOth').style.display="inline";
	}
}
// 対象期間プルダウン変更処理
function switchDisplayKikan() {
	document.getElementById('nipoRefCondition:div_kikanNipo').style.display="none";
	document.getElementById('div_kikanCurrMonth').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanYM').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanKibetu').style.display="none";
	document.getElementById('nipoRefCondition:div_kikanSitei').style.display="none";

	var taishoKikan = document.nipoRefCondition.elements['nipoRefCondition:kikanTaisho'].selectedIndex;
	if(taishoKikan == 0) {
		document.getElementById('nipoRefCondition:div_kikanNipo').style.display="inline";
	}else if(taishoKikan == 1) {
		document.getElementById('div_kikanCurrMonth').style.display="inline";
	}else if(taishoKikan == 2) {
		document.getElementById('nipoRefCondition:div_kikanYM').style.display="inline";
	}else if(taishoKikan == 3) {
		document.getElementById('nipoRefCondition:div_kikanKibetu').style.display="inline";
	}else if(taishoKikan == 4) {
		document.getElementById('nipoRefCondition:div_kikanSitei').style.display="inline";
	}
}
//タブ区分のセット
function subTabSet(subTagKbn) {
	document.nipoRefCondition.elements['nipoRefCondition:subTagKbn'].value = subTagKbn;
	document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:subTabLink';
	document.forms['nipoRefCondition'].submit();
	return;
}
/**
 * 別ウィンドウ処理
 */
function initWindow() {
	//別ウィンドウのチェック
	var isChecked = false;
	if(document.nipoRefCondition.elements['nipoRefCondition:newwin'] != null){
	    isChecked = document.nipoRefCondition.elements['nipoRefCondition:newwin'].checked;
		document.nipoRefCondition.elements['nipoRefCondition:newWindowFlg'].value=isChecked;
		if(isChecked) {
			document.nipoRefCondition.target = "_blank";
			return;
		}
	}
	document.nipoRefCondition.target = "_self";
}
// 実行・再検索ボタン押下処理
function execSearch(){
    var f = document.nipoRefCondition;

		//店舗種別
		var shubetu = f.elements['nipoRefCondition:tenpoShubetu'].value;
		//集計区分
		var shukeiKbn = f.elements['nipoRefCondition:shukeiKbnCd'].value;
		//対象店舗
		var tenpo = f.elements['nipoRefCondition:taishoTenpoCd'].value;
		//対象期間
		var kikan = f.elements['nipoRefCondition:kikanTaisho'].value;
		//前年データ種別
		var zdatashubetu = f.elements['nipoRefCondition:zenDataZennenCd'].value;

		/**
		 * 下記の条件になる場合はalertを出す。（ok/cancel）
　　		 * MSG: 結果が表示されるまでに時間がかかります。よろしいですか？
		 * 店舗種別	：前年対象店
		 * 集計区分	：直営・販社を含まない
		 * 対象店舗	：FCのみ
		 * 対象期間	：期間指定
		 *
		 */
		if("1" == shubetu
			&& "SIBU_CD" == shukeiKbn
			&& "FC" == tenpo
			&& "DAYS" == kikan
			&& "HOSEI" == zdatashubetu)
		{

			if(confirm("" + f.elements['nipoRefCondition:jyokenMsg'].value)) {
			} else {
				bodyLoad();
				return;
			}
		}
	//別ウィンドウのチェック
	initWindow();
	f.elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:enforcement';
	f.submit();
}


// 支部リンク押下処理
function setLink(sibuCd,yagoCd,yagoType,linkKbn, sibuName, yagoName) {

	document.nipoRefCondition.elements['nipoRefCondition:sibuCd'].value = sibuCd;
	document.nipoRefCondition.elements['nipoRefCondition:sibuName'].value = sibuName;
	document.nipoRefCondition.elements['nipoRefCondition:linkParams'].value = yagoCd+","+yagoType+","+linkKbn+","+yagoName;
	return;
}
// 支部リンク押下処理
function linkSibu(sibuCd,yagoCd,yagoType,linkKbn, sibuName, yagoName) {

	// 支部と屋号のリンクが押下された場合
	document.nipoRefCondition.target = "_blank";
	setLink(sibuCd,yagoCd,yagoType,linkKbn, sibuName, yagoName);
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:selectedSibu';
	document.forms['nipoRefCondition'].submit();
}
/**
 * 支部リンク押下処理
 * CVSのリンクが押下された場合
 */
function linkCsvDownload(sibuCd,yagoCd,yagoType,linkKbn, sibuName, yagoName) {

	document.nipoRefCondition.elements['nipoRefCondition:newWindowFlg'].value = "";
	document.nipoRefCondition.target = "_self";
	setLink(sibuCd,yagoCd,yagoType,linkKbn, sibuName, yagoName);
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:downloadCsvMise';
	document.forms['nipoRefCondition'].submit();
}
// ダウンロード
function csvDownload() {
	document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:csvDownload';
	document.forms['nipoRefCondition'].submit();
	return;
}

// 集計区分プルダウン変更処理 2008/12/09追加 SV対応
function switchShukeiKbn(elementShukeiKbn) {
	var taishoTenpo = elementShukeiKbn.selectedIndex;

	var commonClassName = "taisho_";
	if(taishoTenpo == 2) {
		dispSwitchElement("th",commonClassName, "tenpo", "none");
		dispSwitchElement("td",commonClassName, "tenpo", "none");
		dispSwitchElement("th",commonClassName, "svCd", "");
		dispSwitchElement("td",commonClassName, "svCd", "");
	}else {
		dispSwitchElement("th",commonClassName, "svCd", "none");
		dispSwitchElement("td",commonClassName, "svCd", "none");
		dispSwitchElement("th",commonClassName, "tenpo", "");
		dispSwitchElement("td",commonClassName, "tenpo", "");
	}
}

/**
 * 対象クラスエレメント表示切り替え処理
 */
function dispSwitchElement(targetTag, commonClassName, targetCode, status) {
	var objsDiv = document.nipoRefCondition.getElementsByTagName(targetTag);
	for (i = 0; i < objsDiv.length; i++) {
		var classNm = objsDiv[i].className;
		if(classNm.indexOf(commonClassName)>=0){
			if(classNm.indexOf(targetCode)>=0) {
				objsDiv[i].style.display = status;
			}
		}
	}
}

// SV検索 20081209追加 SV対応
function doCallSVForm() {
    document.nipoRefCondition.target = "_self";
	document.forms['nipoRefCondition'].elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:callSvForm';
	document.forms['nipoRefCondition'].submit();
}
/**
 * 画面タブ起動処理
 */
function callScreenTab(targetTab){
	//別ウィンドウのチェック
	initWindow();
	document.nipoRefCondition.elements['nipoRefCondition:__link_clicked__'].value='nipoRefCondition:'+targetTab;
	document.forms['nipoRefCondition'].submit();
}

-->
</script>
<form m:id="nipoRefCondition" target = "_self" onKeyDown="return setDefaultSubmitButton('nipoRefCondition','btnExecute');">
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="windowId" m:value="#{nipoRefSearchParameterDto.windowId}"/>
	<input type="hidden" m:id="newWindowFlg" m:value="#{gyotaibetuNipoRefSibuAction.newWindowFlg}"/>
	<input type="hidden" m:value="#{nipoRefSearchParameterDto.researchFlg}"/>
	<input type="hidden" id="jyokenMsg" m:value="#{msg}"/>
	<a m:id="subTabLink" m:action="#{gyotaibetuNipoRefSibuAction.selectedTab}"/>
	<a m:id="selectedSibu" m:action="#{gyotaibetuNipoRefSibuAction.selectedSibu}"/>
	<a m:id="csvDownload" 	 m:action="#{gyotaibetuNipoRefSibuAction.csvDownload}"/>
	<a m:id="downloadCsvMise" 	 m:action="#{gyotaibetuNipoRefSibuAction.downloadCsvMise}"/>
	<a id="enforcement" m:action="#{gyotaibetuNipoRefSibuAction.enforcement}"/>
	<a id="callSvForm"  m:action="#{gyotaibetuNipoRefSibuAction.callSvForm}"/>
	<a m:id="eigyonipo" m:action="#{gyotaibetuNipoRefSibuAction.dispEigyoNipo}"/>
	<a m:id="takuhai" m:action="#{gyotaibetuNipoRefSibuAction.dispTakuhai}"/>
	<a m:id="moscard" m:action="#{gyotaibetuNipoRefSibuAction.callMoscard}"/>
	<a m:id="netorder" m:action="#{gyotaibetuNipoRefSibuAction.callNetorder}"/>
	<table class="hiddenBody element_browser" style="margin-bottom:4px;">
		<tr>
		<td>
			<table class="body_table">
			<tr>
				<th>会社</th>
				<td>
					<div class="hideArea">
						<select class="condition_field"
								m:value="#{nipoRefSearchParameterDto.companyCd}"
								m:items="#{nipoRefConditionDto.companyList}"
								m:id="companyCd"
								m:itemValue="companyCd"
								m:itemLabel="companyName"/></div>
				</td>

				<th>店舗種別</th>
				<td>
					<div class="hideArea">
						<select class="condition_field"
								m:id="tenpoShubetu"
								m:value="#{nipoRefSearchParameterDto.tenpoShubetuCd}"
								m:items="#{nipoRefConditionDto.tenpoShubetuList}"
								m:itemValue="code"
								m:itemLabel="name"
								m:onchange="switchDisplayObj();"/></div>
				</td>
				<th>集計区分</th>
				<td>
					<div class="hideArea">
						<select class="condition_field"
								m:id="shukeiKbnCd"
								m:value="#{nipoRefSearchParameterDto.shukeiKbnCd}"
								m:items="#{nipoRefConditionDto.shukeiKbnList}"
					            m:itemValue="shukeiKbnCd"
								m:itemLabel="shukeiKbnName"
								m:onchange="switchShukeiKbn(this);"/></div>
				</td>
				<th class="taisho_tenpo" m:style="#{nipoRefSearchParameterDto.svFlg ? 'display:none;' : ''}" nowrap=" nowrap">対象店舗</th>
				<td class="taisho_tenpo" style="#{nipoRefSearchParameterDto.svFlg ? 'display:none;' : ''}">
					<div class="hideArea">
						<select m:id="taishoTenpoCd"
								m:value="#{nipoRefSearchParameterDto.taishoTenpoCd}"
								m:items="#{nipoRefConditionDto.taishoTenpoList}"/></div>
				</td>
				<th class="taisho_svCd" style="#{nipoRefSearchParameterDto.svFlg ? '' : 'display:none;'}" nowrap=" nowrap">SVコード
				<input type="button" m:id="doSearchSVBtn" value="検索"
				       onclick="doCallSVForm();" ondblclick="return false;"
				       class="button_in_table height_21"/></th>
				<td class="taisho_svCd" style="#{nipoRefSearchParameterDto.svFlg ? '' : 'display:none;'}">
					<input type="text" class="imenotuse height_11" m:id="textGyotaiCondSV" m:value="#{nipoRefSearchParameterDto.svCd}" maxlength="8" size="15" />
				</td>
			</tr>
			<tr>
				<th>対象期間</th>
				<td>
					<div class="hideArea">
						<select	m:id="kikanTaisho"
								m:value="#{nipoRefSearchParameterDto.taishoKikanCd}"
								m:items="#{nipoRefConditionDto.taishoKikanList}"
								m:itemValue="code"
								m:itemLabel="name"
								m:onchange="switchDisplayKikan();"/></div>
				</td>
				<th>期間指定</th>
				<td colspan="3">
					<div class="hideArea">
						<div id="div_kikanNipo" class="div_kikanNipo" style="#{nipoRefSearchParameterDto.taishoKikan1Day? '' : 'display:none;'}">
							<select m:value="#{nipoRefSearchParameterDto.kikanNipo}"
									m:items="#{nipoRefConditionDto.kikanFromList}"
									m:id="kikanNipo"
									m:itemValue="code"
									m:itemLabel="name"/></div>

						<div id="div_kikanCurrMonth" class="div_kikanCurrMonth">
							<input type="hidden" m:id="tougetsugepo" m:value="#{nipoRefSearchParameterDto.kikanCurrMonth}"/></div>

						<div id="div_kikanYM" class="div_kikanYM" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='MONTH') == true  ? '' : 'display:none;'}">
							<select m:value="#{nipoRefSearchParameterDto.kikanYM}"
									m:items="#{nipoRefConditionDto.kikanYMList}"
									m:id="kikanYM"
									m:itemValue="code"
									m:itemLabel="name"/></div>

						<div id="div_kikanKibetu" class="div_kikanKibetu" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='KIBETU') == true ? '' : 'display:none;'}">
							<select m:value="#{nipoRefSearchParameterDto.kikanYear}"
										m:items="#{nipoRefConditionDto.kikanYearList}"
										m:id="kikanYear"
										m:itemValue="code"
										m:itemLabel="name"/>
							年度<select m:value="#{nipoRefSearchParameterDto.kikanKibetu}"
										m:items="#{nipoRefConditionDto.kikanKibetuList}"
										m:id="kikanKibetu"
										m:itemValue="code"
										m:itemLabel="name"/></div>
						<div id="div_kikanSitei" class="div_kikanSitei" style="#{(nipoRefSearchParameterDto.taishoKikanCd=='DAYS') == true  ? '' : 'display:none;'}">
							<select m:value="#{nipoRefSearchParameterDto.kikanFrom}"
										m:items="#{nipoRefConditionDto.kikanFromList}"
										m:id="kikanFrom"
										m:itemValue="code"
										m:itemLabel="name"/>
							〜<select m:value="#{nipoRefSearchParameterDto.kikanTo}"
										m:items="#{nipoRefConditionDto.kikanToList}"
										m:id="kikanTo"
										m:itemValue="code"
										m:itemLabel="name"/></div></div>
				</td>
				<th>前年データ種別</th>
				<td>
					<div class="hideArea">
						<div id="div_zenDataZenOth" class="div_zenDataZenOth"
						     style="#{nipoRefSearchParameterDto.selectedZennenTaishoTen ? 'display:none;' : ''}">
							<select m:value="#{nipoRefSearchParameterDto.zenDataZennenOthCd}"
									m:items="#{nipoRefConditionDto.zenDataZennenOthList}"
									m:id="zenDataZennenOthCd"
									m:itemValue="code"
									m:itemLabel="name"/></div>
						<div id="div_zenDataZen" class="div_zenDataZen"
						     style="#{nipoRefSearchParameterDto.selectedZennenTaishoTen ? '' : 'display:none;'}">
							<select m:id="zenDataZennenCd"
							        m:value="#{nipoRefSearchParameterDto.zenDataZennenCd}"
									m:items="#{nipoRefConditionDto.zenDataZennenList}"
									m:itemValue="code"
									m:itemLabel="name"/></div></div>
				</td>
			</tr>
			</table>
			</td>
			<td valign="bottom">
				<input type="button" m:id="btnExecute" style="margin:1px;margin-left:3px;"
				m:value="#{nipoRefSearchParameterDto.researchFlg=='true'?'再検索':'実行'}"
				onclick="execSearch();" onDblClick="return false;"/>
			</td>
		</tr>
	</table>
	<!-- 印刷用(検索結果条件部) -->
	<table class="element_print">
		<tr>
			<td>会社：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.companyName}"/></option></select></td>
			<td>店舗種別：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelTenpoShubetu}"/></option></select></td>
			<td>集計区分：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelShukeiKbn}"/></option></select></td>
			<td>対象店舗：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelTaishoTenpo}"/></option></select></td>
		</tr>
		<tr>
			<td>対象期間：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelTaishoKikan}"/></option></select></td>
			<td colspan="2">期間指定：<span m:rendered="#{nipoRefResultParameterDto.existKikanSiteiFrom}">
						<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.labelKikanSiteiFrom}"/></option></select>
						<span m:rendered="#{nipoRefResultParameterDto.taishoKikanCd=='KIBETU'}">年度</span>
						<span m:rendered="#{nipoRefResultParameterDto.taishoKikanCd=='DAYS'}">〜</span></span>
					  <span m:rendered="#{nipoRefResultParameterDto.existKikanSiteiTo}">
					  	<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{nipoRefResultParameterDto.labelKikanSiteiTo}" escape="false"/></option></select></span></td>
		<td>前年データ種別：<select m:passthrough="true"><option m:passthrough="true"><span m:converter="#{characterEncodingConverter}" m:value="#{nipoRefResultParameterDto.zennenDataShubetuName}"/></option></select></td>
		</tr>
	</table>

	<!-- 検索対象の存在チェック　開始-->
	<div class="scroll_padding_head">
	<div m:rendered="#{gyotaibetuNipoRefResultDto.existDataFlg== true}"
	     class="scroll_hidden" style="margin-bottom:4px;">
		<div style="width:98%;">
			<table class="body_table2" style="float:left;">
				<th width="100px">対象店舗数</th>
				<td width="100px" class="body_num"><span m:value="#{gyotaibetuNipoRefResultDto.tenpoCount}" m:converter="#{NumericConverter}"/></td>
			</table>
			<table class="hiddenBody element_browser" style="float:right;">
					<tr><td><input type="button" style="margin-right:5px;"
					               onclick="csvDownload();" value="ダウンロード"/></td>
				        <td><input type="checkbox" m:id="newwin"
				                   checked="#{gyotaibetuNipoRefSibuAction.newWindowFlg}"/>別ウィンドウに表示</td></tr>
			</table>
		</div>
	</div>
	</div>
	<div style="clear:both;"/>
	<!-- 日報系画面タブ-->
	<div class="scroll_padding_head">
	<div class="scroll_hidden element_browser">
	<table cellspacing="0" cellpadding="0">
		<tr>
			<td width="150px" class="body_non_active_tab">
				<a href="javascript:void(0);"
				    onClick="callScreenTab('eigyonipo');return false;" onDblClick="return false;">
					営業日報</a></td>
			<td width="150px" class="body_non_active_tab">
				<a href="javascript:void(0);"
				    onClick="callScreenTab('takuhai');return false;" onDblClick="return false;">
					宅配売上</a></td>
			<td width="150px" class="body_active_tab">屋号別売上</td>
			<td width="150px" class="body_non_active_tab" m:rendered="#{nipoRefConditionDto.accessMoscard && nipoRefResultParameterDto.mosCompany}">
				<a href="javascript:void(0);"
				    onClick="callScreenTab('moscard');return false;" onDblClick="return false;">
					MOS CARD</a>
			</td>
			<td  m:rendered="#{nipoRefConditionDto.accessNetorder && nipoRefResultParameterDto.mosCompany}" width="150px" class="body_non_active_tab element_browser">
					<a href="javascript:void(0);"
				    onClick="callScreenTab('netorder');return false;" onDblClick="return false;">
					ネット注文</a>
			</td>
		</tr>
	</table>
	</div>
	</div>
 	<input type="hidden" m:value="#{nipoRefResultParameterDto.windowId}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.companyCd}"/>
 	<input type="hidden" m:value="#{nipoRefResultParameterDto.tenpoShubetuCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.shukeiKbnCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.taishoTenpoCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.taishoKikanCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.zenDataZennenCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.zenDataZennenOthCd}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanNipo}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanCurrMonth}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanYM}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanYear}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanKibetu}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanFrom}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kikanTo}"/>
	<input type="hidden" m:value="#{nipoRefResultParameterDto.kansanFlg}"/>
	<input type="hidden" m:id="sibuCd" m:value="#{nipoRefResultParameterDto.sibuCd}"/>
	<input type="hidden" m:id="sibuName" m:value="#{nipoRefResultParameterDto.sibuName}"/>
	<input type="hidden" m:id="subTagKbn" m:value="#{nipoRefResultParameterDto.subTagKbn}"/>
	<input type="hidden" m:id="className" m:value="#{nipoRefResultParameterDto.className}"/>
	<input type="hidden" m:id="linkParams" m:value="#{nipoRefResultParameterDto.linkParams}"/>
	<!-- 結果情報 -->
	<input type="hidden" m:value="#{gyotaibetuNipoRefResultDto.existDataFlg}"/>
	<!-- 検索対象の存在チェック　開始-->
	<span m:rendered="#{gyotaibetuNipoRefResultDto.existDataFlg==true}">
	<div class="scroll_padding_head">
	<div class="scroll_hidden element_browser margin_bottom_hidden">
	<table width="98%" cellspacing="0" cellpadding="0" class="tab_area">
	<!--タブ帯-->
	<tr style="height:5px;"><td/></tr>
	<tr><td>
	<table cellspacing="0" cellpadding="0">
		<tr>
			<td class="body_#{nipoRefResultParameterDto.subTagKbn=='0'?'':'non_'}active_cell tab_change_area_0"
			    width="125px"
			    onclick="javascript:subTabSet('0');"
			    onMouseOver="this.style.cursor='pointer';">屋号別（売上）</td>
			<td class="body_#{nipoRefResultParameterDto.subTagKbn=='1'?'':'non_'}active_cell tab_change_area_1"
			    width="125px"
			    onclick="javascript:subTabSet('1');"
			    onMouseOver="this.style.cursor='pointer';">屋号別（客数）</td>
			<td class="body_#{nipoRefResultParameterDto.subTagKbn=='2'?'':'non_'}active_cell tab_change_area_2"
			    width="125px"
			    onclick="javascript:subTabSet('2');"
			    onMouseOver="this.style.cursor='pointer';">詳細別（売上）</td>
			<td class="body_#{nipoRefResultParameterDto.subTagKbn=='3'?'':'non_'}active_cell tab_change_area_2"
			    width="125px"
			    onclick="javascript:subTabSet('3');"
			    onMouseOver="this.style.cursor='pointer';">詳細別（客数）</td>
		</tr>
	</table>
	</td></tr>
	<!--タブ帯-->
	<tr style="height:5px;" class="body_caption"><td/></tr>
	</table>
	</div>
	</div>
	<span class="element_print">【<span m:value="#{nipoRefResultParameterDto.subTagKbn=='0'?'屋号別（売上）':nipoRefResultParameterDto.subTagKbn=='1'?'屋号別（客数）':nipoRefResultParameterDto.subTagKbn=='2'?'詳細別（売上）':'詳細別（客数）'}"/>】</span>
	<!-- 見出 -->
	<div class="scroll_padding_head">
	<div class="scroll_hidden">
	<!-- 屋号別タブ見出　売上-->
	<table class="body_table2 data_table_width">
		<tr m:rendered="#{nipoRefResultParameterDto.subTagKbn == '0' || nipoRefResultParameterDto.subTagKbn == '2'}"
		    class="header_row">
			<th width="16%">支部名称</th>
			<th width="10%" >屋号</th>
			<th width="5%" >店舗数</th>
			<th width="10%" >売上</th>
			<th width="10%" >予算</th>
			<th width="7%" >達成率</th>
			<th m:rendered="#{notHosei}" width="10%" >前年実績</th>
			<th width="10%" >前年比(売上)</th>
		</tr>
	<!-- 屋号別タブ見出　客数-->
		<tr m:rendered="#{nipoRefResultParameterDto.subTagKbn == '1' || nipoRefResultParameterDto.subTagKbn == '3'}"
		    class="header_row">
			<th width="16%">支部名称</th>
			<th width="10%" >屋号</th>
			<th width="5%" >店舗数</th>
			<th width="10%" >客数</th>
			<th m:rendered="#{notHosei}" width="10%" >前年客数</th>
			<th width="10%" >前年比(客数)</th>
			<th width="7%" >客単価</th>
			<th width="10%" >前年比(客単価)</th>
		</tr>
	</table>
	</div>
	</div>
	<!-- タブ -->
	<div class="scroll_padding_data_no">
	<div id="nipoRefScroll" class="scroll_complete">
		<!-- 屋号別タブ 開始 -->
		<span m:rendered="#{nipoRefResultParameterDto.subTagKbn == '0' || nipoRefResultParameterDto.subTagKbn == '1'}">
		<table class="body_table2 data_table_width" style="border-top-width:0px">
			<div m:inject="s:forEach" m:items="#{gyotaibetuNipoRefResultDto.listView}" m:var="e" m:varindex="i">
					<!-- 屋号別タブ 売上-->
					<tr m:rendered="#{e.tabNo == 1 && nipoRefResultParameterDto.subTagKbn == '0'}" m:class="#{e.cssClass} non_top_border">
						<td width="16%" style="font-weight:bold;">
							<span m:rendered="#{e.ViewFlg == 'true'}">
								<a href="#" onclick="#{e.dispCode == 'SIBU'?'linkSibu':'linkCsvDownload'}('#{e.dispTargetCd}','ALL','OYA','#{e.dispCode}', '#{e.dispTargetName}','');return false;">
									<span m:inject="h:outputText" m:value="#{e.dispTargetName}"/><span m:inject="h:outputText" m:value="#{e.dispCode == 'SIBU'?'':'計'}"/>
								</a>
							</span>
						</td>
						<td width="10%" style="font-weight:bold;">
							<a href="#" onclick="#{e.dispCode == 'SIBU'?'linkSibu':'linkCsvDownload'}('#{e.dispTargetCd}','#{e.yagoCd}','OYA','#{e.dispCode}', '#{e.dispTargetName}', '#{e.yagoName}');return false;">
								<span m:converter="#{characterEncodingConverter}" m:value="#{e.yagoName}"/>
							</a>
						</td>
						<td width="5%" class="body_num"><span m:value="#{e.count}" m:converter="#{numericConverter}" /></td>
						<td width="10%" class="body_num"><span m:value="#{e.uriage}" m:converter="#{bizreportNumericCnvt}" /></td>
						<td width="10%" class="body_num"><span m:value="#{e.yosan}" m:converter="#{numericConverter}" /></td>
						<td width="7%" m:class="#{e.taseiRituClass}"><span m:value="#{e.taseiRitu}" m:converter="#{numericConverter}" /></td>
						<td m:rendered="#{notHosei}" width="10%" class="body_num">
							<span m:value="#{e.zennenUriage}" m:converter="#{bizreportNumericCnvt}" /></td>
						<td width="10%" m:class="#{e.zennenHiUriageClass}">
							<span m:value="#{e.zennenHiUriage}" m:converter="#{numericConverter}" /></td>
					</tr>
					<!-- 屋号別タブ 客数-->
					<tr m:rendered="#{e.tabNo == 1 && nipoRefResultParameterDto.subTagKbn == '1'}" m:class="#{e.cssClass} non_top_border">
						<td width="16%" style="font-weight:bold;">
							<span m:rendered="#{e.ViewFlg == 'true'}">
								<a href="#" onclick="#{e.dispCode == 'SIBU'?'linkSibu':'linkCsvDownload'}('#{e.dispTargetCd}','ALL','OYA','#{e.dispCode}', '#{e.dispTargetName}','');return false;">
									<span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.dispTargetName}"/>
										<span m:inject="h:outputText" m:value="#{e.dispCode == 'SIBU'?'':'計'}"/></a>
							</span>
						</td>
						<td width="10%" style="font-weight:bold;">
							<a href="#" onclick="#{e.dispCode == 'SIBU'?'linkSibu':'linkCsvDownload'}('#{e.dispTargetCd}','#{e.yagoCd}','OYA','#{e.dispCode}', '#{e.dispTargetName}', '#{e.yagoName}');return false;">
								<span m:converter="#{characterEncodingConverter}" m:value="#{e.yagoName}"/></a>
						</td>
						<td width="5%" class="body_num"><span m:value="#{e.count}" m:converter="#{numericConverter}" /></td>
						<td width="10%" class="body_num"><span m:value="#{e.kyakusu}" m:converter="#{numericConverter}" /></td>
						<td m:rendered="#{notHosei}" width="10%" class="body_num"><span m:value="#{e.zennenKyakusu}" m:converter="#{numericConverter}" /></td>
						<td width="10%" m:class="#{e.zennenHiKyakusuClass}"><span m:value="#{e.zennenHiKyakusu}" m:converter="#{numericConverter}" /></td>
						<td width="7%" class="body_num"><span m:value="#{e.kyakuTanka}" m:converter="#{bizreportNumericCnvt}" /></td>
						<td width="10%" m:class="#{e.zennenHiKyakuTankaClass}">
							<span m:value="#{e.zennenHiKyakuTanka}" m:converter="#{numericConverter}" />
						</td>
					</tr>
			</div>
		</table>
		</span>
		<!-- 詳細タブ　-->
		<span m:rendered="#{nipoRefResultParameterDto.subTagKbn == '2' || nipoRefResultParameterDto.subTagKbn == '3'}">
		<table class="body_table2 data_table_width" style="border-top-width:0px">
			<div m:inject="s:forEach" m:items="#{gyotaibetuNipoRefResultDto.listView}" m:var="e" m:varindex="i">
				<tr m:rendered="#{e.tabNo == 2 && nipoRefResultParameterDto.subTagKbn == '2'}"
				    m:class="#{e.cssClass} non_top_border">
					<td width="16%" style="font-weight:bold;">
						<span m:rendered="#{e.ViewFlg == 'true'}">
							<a href="#" onclick="#{e.dispCode == 'SIBU'?'linkSibu':'linkCsvDownload'}('#{e.dispTargetCd}','ALL','DTL','#{e.dispCode}', '#{e.dispTargetName}','');return false;">
								<span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.dispTargetName}"/><span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.dispCode == 'SIBU'?'':'計'}"/>
							</a>
						</span>
					</td>
					<td width="10%" style="font-weight:bold;">
						<a href="#" onclick="#{e.dispCode == 'SIBU'?'linkSibu':'linkCsvDownload'}('#{e.dispTargetCd}','#{e.yagoDtlCd}','DTL','#{e.dispCode}', '#{e.dispTargetName}', '#{e.yagoDtlName}');return false;">
							<span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.yagoDtlName}"/>
						</a>
					</td>
					<td width="5%" class="body_num"><span m:value="#{e.count}" m:converter="#{numericConverter}" /></td>
					<!-- 屋号別タブ 売上-->
					<td width="10%" class="body_num"><span m:value="#{e.uriage}" m:converter="#{bizreportNumericCnvt}" /></td>
					<td width="10%" class="body_num"><span m:value="#{e.yosan}" m:converter="#{numericConverter}" /></td>
					<td width="7%" m:class="#{e.taseiRituClass}"><span m:value="#{e.taseiRitu}" m:converter="#{numericConverter}" /></td>
					<td m:rendered="#{notHosei}" width="10%" class="body_num"><span m:value="#{e.zennenUriage}" m:converter="#{bizreportNumericCnvt}" /></td>
					<td width="10%" m:class="#{e.zennenHiUriageClass}"><span m:value="#{e.zennenHiUriage}" m:converter="#{numericConverter}" /></td>
				</tr>
				<tr m:rendered="#{e.tabNo == 2 && nipoRefResultParameterDto.subTagKbn == '3'}" m:class="#{e.cssClass} non_top_border">
					<td width="16%" style="font-weight:bold;">
						<span m:rendered="#{e.ViewFlg == 'true'}">
							<a href="#" onclick="#{e.dispCode == 'SIBU'?'linkSibu':'linkCsvDownload'}('#{e.dispTargetCd}','ALL','DTL','#{e.dispCode}', '#{e.dispTargetName}', '');return false;">
								<span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.dispTargetName}"/><span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.dispCode == 'SIBU'?'':'計'}"/>
							</a>
						</span>
					</td>
					<td width="10%" style="font-weight:bold;">
						<a href="#" onclick="#{e.dispCode == 'SIBU'?'linkSibu':'linkCsvDownload'}('#{e.dispTargetCd}','#{e.yagoDtlCd}','DTL','#{e.dispCode}', '#{e.dispTargetName}', '#{e.yagoDtlName}');return false;">
							<span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.yagoDtlName}"/>
						</a>
					</td>
					<td width="5%" class="body_num"><span m:value="#{e.count}" m:converter="#{numericConverter}" /></td>
					<!-- 屋号別タブ 客数-->
					<td width="10%" class="body_num"><span m:value="#{e.kyakusu}" m:converter="#{numericConverter}" /></td>
					<td m:rendered="#{notHosei}" width="10%" class="body_num"><span m:value="#{e.zennenKyakusu}" m:converter="#{numericConverter}" /></td>
					<td width="10%" m:class="#{e.zennenHiKyakusuClass}"><span m:value="#{e.zennenHiKyakusu}" m:converter="#{numericConverter}" /></td>
					<td width="7%" class="body_num"><span m:value="#{e.kyakuTanka}" m:converter="#{bizreportNumericCnvt}" /></td>
					<td width="10%" m:class="#{e.zennenHiKyakuTankaClass}"><span m:value="#{e.zennenHiKyakuTanka}" m:converter="#{numericConverter}" /></td>
				</tr>
			</div>
		</table>
		</span>
		</div>
		</div>
	</span>
	<!-- 屋号別タブ 終了 -->
	<!-- 検索対象の存在チェック　終了-->
<input type="text" m:id="dummyText" m:style="display:none;"/>
</form>
</div>
</body>
</html>
