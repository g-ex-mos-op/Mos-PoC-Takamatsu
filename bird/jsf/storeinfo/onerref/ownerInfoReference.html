<html xmlns:m="http://www.seasar.org/maya" m:action="#{ownerInfoReferenceAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>オーナー照会</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="オーナー照会"/>
<span m:inject="s:insert" m:name="bodyTitleName">■オーナー照会</span>
<span m:inject="f:param" m:name="onLoadName" m:value="load()"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BSI002V01"/>
<span m:inject="s:insert" m:name="body">

	<SCRIPT LANGUAGE="javascript">
	<!--
	function load() {
		focusElement("ownerInfoReference");
	}
	function initOnerList(){
	    //オーナー選択
		document.forms['ownerInfoReference'].elements['ownerInfoReference:__link_clicked__'].value='ownerInfoReference:loadOnerList';
		document.forms['ownerInfoReference'].submit();
		return false;
	}
	//-->
	</SCRIPT>
	<form m:id="ownerInfoReference" onKeyDown="return setDefaultSubmitButton('ownerInfoReference','execution');">
		<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
		<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
		<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
		<table class="hiddenBody">
			<tr><td>
				<!--条件項目エリア-->
				<!--ユーザタイプが「本部」の場合 ※テキスト-->
				<table class="body_table">
				  <tr m:rendered="#{ownerReferenceDto.userTypeCd == '01'}">
				    <th>会社</th>
				    <td>
				      <div class="hideArea">
				        <select m:value="#{ownerReferenceDto.companyCd}"
				                m:items="#{ownerReferenceDto.companyList}"
				                m:itemValue="companyCd"
				                m:itemLabel="companyName">
				            <option value="">選択</option>
				            <option value="">MOS</option>
				        </select>
				      </div>
				    </td>
				    <th style="border-right-width:0px;">オーナーコード</th>
				    <th style="border-left-width:0px;padding-left:3px;"><input type="submit" value="検索"
				               m:action="#{ownerInfoReferenceAction.selectOnerSearch}">
				        <span m:converter="#{characterEncodingConverter}" m:inject="f:param" m:name="onerSearchNavigationCase" m:value="#{viewIdValue}" />
					  </input>
				    </th>
				    <td width="*">
				      <input class="imenotuse" type="text" m:id="onerCd"
				             m:value="#{ownerReferenceDto.onerCd}" m:maxlength="5" m:size="10"/>
				    </td>
				  </tr>
				<!--ユーザタイプが「オーナー」の場合 ※プルダウン-->		
				  <tr m:rendered="#{ownerReferenceDto.userTypeCd == '02'}">
				    <th>会社</th>
				    <td>
				      <div class="hideArea">
				        <select style="width:140px;"
				        		m:id="condCompanyCd2"
				                m:value="#{ownerReferenceDto.companyCd}"
		                        m:items="#{ownerReferenceDto.companyList}"
		                        m:itemValue="companyCd"
		                        m:itemLabel="companyName"
		                        m:onChange="initOnerList()">
		                    <option value="">選択</option>
		                    <option value="">MOS</option>
		                </select>
		              </div>
		              <a id="loadOnerList" m:action="#{ownerInfoReferenceAction.loadOnerList}"/>
		            </td>
		            <th width="130">オーナーコード</th>
		            <td>
		                <div class="hideArea">
		                <select style="width:330px;" class="condition_field" 
		                        m:id="onerCd2"
		                        m:value="#{ownerReferenceDto.onerCd}"
		                        m:items="#{ownerReferenceDto.listPullOner}"
		                        m:itemValue="onerCd"
		                        m:itemLabel="onerNameShow">
		                    <option value="">（株）グリフィン</option>
		                    <option value="">（有）タム</option>
		                    <option value="">（株）ドリームファクトリー</option>
		                </select>
		                </div>
		            </td>
		          </tr>
		        </table>
		        </td>
				<td style="padding-left:3px;"><input m:id="execution" type="button" value="実行"
				           m:action="#{ownerInfoReferenceAction.search}"/>
		        </td>
		    </tr>
		</table>
	</form>
</span>
</body>
</html>
