<html xmlns:m="http://www.seasar.org/maya" m:action="#{detailBillDownloadListAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<meta http-equiv="Content-Script-Type" content="text/javascript"/>
<title>ご請求明細ダウンロード</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="ご請求明細ダウンロード"/>
<span m:inject="s:insert" m:name="bodyTitleName">■ご請求明細ダウンロード</span>
<span m:inject="f:param" m:name="onLoadName" m:value=""/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BBS010V01"/>
<div m:inject="s:insert" m:name="body">

  <form m:id="form1">
  <input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
  <input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
  <input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>

  <!-- 表示エリア(オーナーコード選択)  -->
  <span m:rendered="#{detailBillDownloadListDto.onerCdAreaFlg == true}"  onkeydown="return setDefaultSubmitButton('form1', 'execution01');">
    <table class="">
    <tr>
    <td>
      <table class="body_table">
        <tr>
          <th width="180">
            オーナーコード
            <input type="button" value="検索" m:id="searchBtn" class="operation_button" m:action="#{detailBillDownloadListAction.callSearchForm}" />
          </th>

          <td width="100">
            <div class="hideArea">
              <input class="imenotuse" type="text" m:id="onerCdText"  m:value="#{detailBillDownloadListDto.onerCd}" m:maxlength="5" m:size="10"/>
            </div>
          </td>
        </tr>
      </table>
    </td>
    <td>
      <input m:id="execution01" type="button" value="実行" class="operation_button" m:action="#{detailBillDownloadListAction.execution01}"/>
    </td>
    </tr>
    </table>
  </span>
	
  <!-- 表示エリア(請求先(売掛先)一覧選択) -->
  <span m:rendered="#{detailBillDownloadListDto.urikakeListAreaFlg == true}">
    <table class="" >
    <tr>
    <td>
      <table class="body_table">
        <tr>
          <th width="100">ご請求先</th>
          <td width="180">
            <div class="hideArea">
            <select class="condition_field"
              m:items="#{detailBillDownloadListDto.urikakeList}" 
              m:itemValue="urikakeCd" 
              m:itemLabel="onerNameKj" 
              m:value="#{detailBillDownloadListDto.urikakeCd}" >
              <option value="">尻手駅前店</option>
              <option value="">あざみ野店</option>
              <option value="">（株）おくう</option>
            </select>
            </div>
          </td>
        </tr>
      </table>
    </td>
    <td>
      <input m:id="execution03" type="button" value="実行" class="operation_button" m:action="#{detailBillDownloadListAction.execution02}"/>
    </td>
    </tr>
    </table>
  </span>

  <!-- 表示エリア(請求書一覧選択エリア) -->
  <!-- 並び順 -->
  <span m:rendered="#{detailBillDownloadListDto.seikyuListAreaFlg == true}">
    <table class="" >
    <tr>
    <td>
  
      <table class="body_table" >
        <tr>
          <th width="100">並び順</th>
          <td width="270">
            <span m:converter="#{characterEncodingConverter}" m:inject="s:selectOneRadio2" m:value="#{detailBillDownloadListDto.radioNarabi}">
              <input type="radio" m:value="0" />納品日･伝票番号　
              <input type="radio" m:value="1" />納品書
            </span>
          </td>
        </tr>
      </table>
    </td>
    <td>
      <input m:id="downloadBt" type="button" value="ダウンロード" m:action="#{detailBillDownloadCsvOutputAction.downloadCsv}" class="operation_button" />
    </td>
    </tr>
    </table>

	<span m:inject="s:selectOneRadio2" m:value="#{detailBillDownloadListDto.radioNengetu}">
	
		<!-- 最新の時 -->
		<div m:inject="s:forEach" m:items="#{detailBillDownloadListDto.seikyuList}" m:var="e" m:varindex="i">
			<span m:rendered="#{i == detailBillDownloadListDto.lastIndex}" >
			  【最新】<br>
			  <table border="1" class="body_table2" >
			    <tr>
		          <th>&nbsp;&nbsp;</th>
				  <th width="120" style="text-align:center;">年月</th>
				  <th width="150" style="text-align:center;">お買上額</th>
				</tr>
				<tr>
				  <td style="text-align:center;"><input type="radio" value="#{i}" /></td>
				  <td><span m:value="#{e.nengetu}" m:converter="#{dateConverterYMKanji}"/>度</td>
				  <td style="text-align:right;"><span m:value="#{e.kingaku}" m:converter="#{numericConverter}"/></td>
				</tr>
		      </table>
		    </span>
		</div>
	
		<!-- 履歴の時 -->
	    【履歴】<br>
		  <table border="1" class="body_table2" >
		    <tr>
	          <th width="25">&nbsp;&nbsp;</th>
			  <th width="120" style="text-align:center;">年月</th>
			  <th width="150" style="text-align:center;">お買上額</th>
			</tr>
	      </table>
	
          <div style="{overflow:auto; width:320px; height:215px;" class="scrollarea">
		  <table border="1" class="body_table2" >
			<div m:inject="s:forEach" m:items="#{detailBillDownloadListDto.seikyuList}" m:var="e" m:varindex="i">
			<tr m:rendered="#{i != detailBillDownloadListDto.lastIndex}">
			  <td  width="25" style="text-align:center;"><input type="radio" value="#{i}" /></td>
			  <td width="120"><span m:value="#{e.nengetu}" m:converter="#{dateConverterYMKanji}"/>度</td>
			  <td width="150" style="text-align:right;"><span m:value="#{e.kingaku}" m:converter="#{numericConverter}"/></td>
			</tr>
			</div>
	      </table>
        </div>
	
	</span><!-- selectOneRadio2　ここまで -->
  </span>
  <!-- 表示エリア　ここまで -->

  <script type="text/javascript">
  <!--
	focusElement("form1"); 
  -->
  </script>

  </form>	
</div>
</body>
</html>
