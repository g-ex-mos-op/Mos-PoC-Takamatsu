<html xmlns:m="http://www.seasar.org/maya" m:action="#{hanyoRegistSelectAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>研修エントリーマスタ登録</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="研修エントリーマスタ登録"/>
<span m:inject="s:insert" m:name="bodyTitleName">■研修エントリーマスタ登録</span>
<span m:inject="f:param" m:name="onLoadName" m:value="onLoadFunction()"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BEN004V01"/>
<span m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
-->
</style>
<SCRIPT LANGUAGE="javascript">
<!--
function onLoadFunction() {
	loadScroll("hanyoScroll", 360);
	document.hanyoRegistSelect.elements['hanyoRegistSelect:entryCd'].focus();
}

function doAction() {
	var f=document.forms['hanyoRegistSelect'];
	f.target='';
	f.elements['hanyoRegistSelect:__link_clicked__'].value='hanyoRegistSelect:dummyAction';
	f.submit();
	return false;
}
//-->
</SCRIPT>

<form m:id="hanyoRegistSelect">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="submit" value="新規" m:action="#{hanyoRegistSelectAction.regist}"/>&nbsp;&nbsp;
<input type="submit" value="編集" m:action="#{hanyoRegistSelectAction.edit}" m:disabled="#{hanyoRegistDto.listEntryMst != null ? false : true}"/>&nbsp;&nbsp;
<input type="submit" value="削除" m:action="#{hanyoRegistSelectAction.delete}" m:disabled="#{hanyoRegistDto.listEntryMst != null ? false : true}"/>&nbsp;&nbsp;
<a m:id="dummyAction" m:action="#{hanyoRegistSelectAction.changePullDown}"/>
<table class="body_table" style="margin-top:4px;">
  <tr>
    <th>選択&nbsp;</th>
    <td>
      <div class="hideArea">
        <select m:id="entryCd" m:value="#{hanyoRegistDto.entryCd}"
                m:items="#{entryList}"
                m:itemValue="key"
                m:itemLabel="name"
                m:onchange="doAction();">
            <option value="">全て</option>
            <option value="05">出張ベーシック研修</option>
            <option value="30">マスターライセンス更新研修</option>
        </select>
      </div>
    </td>
  </tr>
</table>

<div m:rendered="#{hanyoRegistDto.listEntryMst != null}">
<div style="margin:4px 0px;font-weight:bold;">※日付はオーナーの設定期間です。</div>
<div class="scroll_padding_head">
<div class="scroll_hidden margin_bottom_hidden">
<table width="98%" class="body_table2">
  <tr class="header_row">
    <th width="35px" rowspan="2">対象</th>
    <th width="70px" rowspan="2">研修名</th>
    <th width="160px">開催日</th>
    <th width="*">開催名</th>
    <th width="95px">申込開始</th>
    <th width="95px">申込終了</th>
    <th width="95px">表示開始</th>
    <th width="95px">表示終了</th>
    <th width="50px">定員</th>
  </tr>
  <tr class="header_row">
    <th colspan="2">開催場所</th>
    <th colspan="5">備考</th>
  </tr>
</table>
</div>
</div>
<div m:inject="s:selectOneRadio2" m:value="#{hanyoRegistDto.selectIndex}" m:required="true">
<div class="scroll_padding_data">
<div class="scroll_standby" id="hanyoScroll">
<table width="98%" class="body_table2" style="border-top-width:0px;">
  <div m:inject="s:forEach" m:items="#{hanyoRegistDto.listEntryMst}" m:var="e" m:varIndex="i">
  <tr class="non_top_border font_size_14">
    <td style="width:35px;text-align:center;" rowspan="2"><input type="radio" m:value="#{i}"/></td>
    <td style="width:70px;text-align:center;" rowspan="2"><span m:converter="#{characterEncodingConverter}" m:value="#{e.entryNameRyak}"/></td>
    <td width="160px" class="font_size_12"><span m:value="#{e.kaisaiFrom}" m:converter="#{dateConverter3HanyoRegist}"/>〜<span m:value="#{e.kaisaiTo}" m:converter="#{dateConverter3HanyoRegist}"/></td>
    <td><span m:value="#{e.entryTitle}" m:converter="#{characterEncodingConverter}"/></td>
    <td width="95px"><span m:value="#{e.uketukeFrom}" m:converter="#{dateConverter4HanyoRegist}"/></td>
    <td width="95px"><span m:value="#{e.uketukeTo}" m:converter="#{dateConverter4HanyoRegist}"/></td>
    <td width="95px"><span m:value="#{e.hyojiFrom}" m:converter="#{dateConverter4HanyoRegist}"/></td>
    <td width="95px"><span m:value="#{e.hyojiTo}" m:converter="#{dateConverter4HanyoRegist}"/></td>
    <td width="50px" style="text-align:right;"><span m:value="#{e.numberLimit}" m:converter="#{NumericConverter}"/></td>
  </tr>
  <tr>
    <td colspan="2"><span m:value="#{e.entryPlace}" m:converter="#{characterEncodingConverter}"/></td>
    <td colspan="5" width="435"><span m:value="#{e.note}" m:converter="#{characterEncodingConverter}"/>&nbsp;</td>
    </tr>
  </div>
</table>
</div>
</div>
</div>
</div>
<input type="text" m:id="dummyEnter" style="display:none"/>

</form>
</span>
</body>
</html>
