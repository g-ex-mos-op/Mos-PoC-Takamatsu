<html xmlns:m="http://www.seasar.org/maya" m:extends="/jsf/layout/layoutNoNavi.html" m:action="#{projectPlanStatusInfoConditionAction.initialize}">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title></title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="事業方針説明会申込状況確認"/>
<span m:inject="s:insert" m:name="bodyTitleName">■事業方針説明会申込状況確認</span>
<span m:inject="f:param" m:name="onLoadName" m:value="init();"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BEN012V01"/>
<span m:inject="s:insert" m:name="body">
<style type="text/css">
<!--


-->

</style>
<SCRIPT LANGUAGE="javascript">
<!--
function init() {
	var taishoJokenIndex = document.conditionForm.elements['conditionForm:taishouJokenChoice'].selectedIndex;
 	var taishoJoken = document.conditionForm.elements['conditionForm:taishouJokenChoice'].value;
 	if(taishoJokenIndex == '2') {
		focusElement('conditionForm');
	}
}
function changeTaishoJeken(){
	//支部リスト表示・非表示
	var taishoJokenIndex = document.conditionForm.elements['conditionForm:taishouJokenChoice'].selectedIndex;
 	var taishoJoken = document.conditionForm.elements['conditionForm:taishouJokenChoice'].value;
	var sibu1 =document.getElementById('conditionForm:div_sibu1');
 	var sv1 =document.getElementById('conditionForm:div_sv1');
 	var th =document.getElementById('conditionForm:th_Shuturyoku');
 	var td =document.getElementById('conditionForm:td_Shuturyoku');
 	var th2 =document.getElementById('conditionForm:th_Shuturyoku2');
 	var td2 =document.getElementById('conditionForm:td_Shuturyoku2');

 	sibu1.style.display="none";
	sv1.style.display="none";
 	th.style.display="none";
	td.style.display="none";
 	th2.style.display="none";
	td2.style.display="none";

	if(taishoJokenIndex == '1') {
		sibu1.style.display="";
	 	th.style.display="";
		td.style.display="";
	}else if(taishoJokenIndex == '2') {
		sv1.style.display="";
	 	th2.style.display="";
		td2.style.display="";
	}

}
/**
 * 実行ボタン押下処理
 *
 */
function exec(){
	//結果確認ダウンロードボタンを出すかどうかの
	var taishoIndex = document.conditionForm.elements['conditionForm:taishouListChoice'].selectedIndex;
	if(taishoIndex != '4') {
		document.conditionForm.elements['conditionForm:__link_clicked__'].value='conditionForm:search';
		document.conditionForm.submit();
	}else if(taishoIndex == '4') {
		document.conditionForm.elements['conditionForm:kekkaCsv'].value = "1";
		document.conditionForm.elements['conditionForm:__link_clicked__'].value='conditionForm:downloadCsv';
		document.conditionForm.submit();
	}
}
/**
 * 共通「SV選択」を呼び出す
 *
 */
function callSvForm(){
	//アクションの値を設定する。
	document.conditionForm.elements['conditionForm:__link_clicked__'].value='conditionForm:callSvForm';
	document.conditionForm.submit();
}
function back(){
	document.conditionForm.elements['conditionForm:__link_clicked__'].value='conditionForm:back';
	document.conditionForm.submit();
}
-->
</SCRIPT>

<form m:id="conditionForm" onKeyDown="return setDefaultSubmitButton('conditionForm','executeBt');">
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
    <input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
    <input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="windowId" m:value="#{projectPlanStatusInfoDto.windowId}"/>
	<input type="hidden" m:id="kekkaCsv" m:value="#{projectPlanStatusInfoDto.kekkaCsv}"/>
	<a id="search" m:action="#{projectPlanStatusInfoConditionAction.search}"/>
	<a id="downloadCsv" m:action="#{projectPlanStatusInfoViewJigyouCsvAction.downloadCsv}"/>
	<a id="callSvForm" m:action="#{projectPlanStatusInfoConditionAction.callSvForm}"/>
	<a id="back" m:action="#{nationalViewListConditionAction.back}"/>
	<input type="button" value="戻る" m:onclick="back();return false;"/>
	<!--<input type="button" value="戻る" m:action="#{projectPlanStatusInfoConditionAction.back}"/>  -->

	<span m:rendered="#{projectPlanStatusInfoDto.emptyEntityUIStatusInfo}">
	事業方針説明会は、現在行われておりません。<br/>
	</span>
	<span m:rendered="#{!projectPlanStatusInfoDto.emptyEntityUIStatusInfo}">
		<table class="mine_table" width="100%" style="margin-top:3px;margin-bottom:4px;">
	    	<tr>
				<th rowspan="2" width="10%">開催日</th>
		    	<th rowspan="2" width="25%">説明会名称</th>
		    	<th width="13%">本部&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;：申込開始</th>
		    	<th width="13%">本部&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;：申込終了</th>
		    	<th colspan="2" width="6%">事業方針</th>
		    	<th colspan="2" width="6%">懇親会</th>
		    	<th colspan="2" width="6%">定時総会</th>
	    	</tr>

	    	<tr>
		    	<th width="13%">オーナー：申込開始</th>
		    	<th width="13%">オーナー：申込終了</th>
		    	<th width="3%">出席</th>
		    	<th width="3%">欠席</th>
		    	<th width="3%">出席</th>
		    	<th width="3%">欠席</th>
		    	<th width="3%">出席</th>
	    		<th width="3%">欠席</th>
	    	</tr>

	    	<tr>
				<td rowspan="2" width="10%">
					<span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.kaisaiDt}" m:converter="#{projectPlanStatusInfoConverter1}"/>
				</td>
		    	<td rowspan="2" width="25%"><span m:converter="#{characterEncodingConverter}" m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.entryTitle}"/></td>
		    	<td width="13%"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.honbuFromDt}" m:converter="#{projectPlanStatusInfoConverter2}"/></td>
		    	<td width="13%"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.honbuToDt}" m:converter="#{projectPlanStatusInfoConverter2}"/></td>
		    	<td rowspan="2" width="3%" align="right"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.jAttendCnt}"/></td>
		    	<td rowspan="2" width="3%" align="right"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.jAbsentCnt}"/></td>
		    	<td rowspan="2" width="3%" align="right"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.konAttendCnt}"/></td>
		    	<td rowspan="2" width="3%" align="right"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.konAbsentCnt}"/></td>
		    	<td rowspan="2" width="3%" align="right"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.kyoAttendCnt}"/></td>
	    		<td rowspan="2" width="3%" align="right"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.kyoAbsentCnt}"/></td>
	    	</tr>

	    	<tr>
		    	<td width="13%"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.onerFromDt}" m:converter="#{projectPlanStatusInfoConverter2}"/></td>
		    	<td width="13%"><span m:value="#{projectPlanStatusInfoDto.entityUIStatusInfo.onerToDt}" m:converter="#{projectPlanStatusInfoConverter2}"/></td>
	    	</tr>
		</table>
	</span>
	<div style="margin-top:3px"/>
	<table class="body_table" style="float:left;">
		<tr>
			<th>対象条件</th>
	    	<td>
	   			<div class="hideArea">
			    <select m:id="taishouJokenChoice"
			    		m:value="#{projectPlanStatusInfoDto.taishouJokenChoice}"
			    		m:items="#{projectPlanStatusInfoDto.taishouJokenList}"
			    		m:itemValue="selectPullId"
			    		m:itemLabel="selectPullName"
			    		m:onchange="changeTaishoJeken()"/>
			    </div>
	   		</td>
	   		<div id="div_sibu1" class="div_sibu" m:style="#{(projectPlanStatusInfoDto.taishouJokenChoice == '1') == true ? '' : 'display:none;'}">
				<th m:id="th_Shuturyoku" m:style="#{(projectPlanStatusInfoDto.taishouJokenChoice == '1') == true ? '' : 'display:none;'}">支部</th>
		    	<td m:id="td_Shuturyoku" m:style="#{(projectPlanStatusInfoDto.taishouJokenChoice == '1') == true ? '' : 'display:none;'}">
					<div class="hideArea">
	    			<select
	    				m:id="sibuList"
	    				m:value="#{projectPlanStatusInfoDto.sibuListChoice}"
						m:items="#{projectPlanStatusInfoDto.sibuList}"
						m:itemValue="sibuCd"
	    				m:itemLabel="sibuName"/>
	    			</div>
				</td>
			</div>
			<div id="div_sv1" class="div_SVCode" m:style="#{(projectPlanStatusInfoDto.taishouJokenChoice == '2') == true ? '' : 'display:none;'}">
				<th m:id="th_Shuturyoku2"
				    m:style="#{(projectPlanStatusInfoDto.taishouJokenChoice == '2') == true ? '' : 'display:none;'}">
				    SVコード<input type="button" value="検索"
				                   class="button_in_table"
				                   onClick="callSvForm();return false;"/></th>
		    	<td m:id="td_Shuturyoku2" m:style="#{(projectPlanStatusInfoDto.taishouJokenChoice == '2') == true ? '' : 'display:none;'}">
					<input type="text" m:id="svCd" m:value="#{projectPlanStatusInfoDto.svCd}"
					       size="10" maxlength="8"
					       class="imenotuse height_11"/></td>
	   		</div>

	    	<th>対象</th>
	    	<td>
	   			<div class="hideArea">
	    		<select m:id="taishouListChoice"
	    				m:value="#{projectPlanStatusInfoDto.taishouListChoice}"
	    				m:items="#{projectPlanStatusInfoDto.taishouList}"
	    				m:itemValue="taishouPullId"
			    		m:itemLabel="taishouPullName"
			    		/>
			    </div>
    		</td>
	    </tr>
	</table>
	<input type="button" value="実行"  name="conditionForm:executeBt" class="operation_button" onClick="exec(); return false;" onDblClick="return false;" m:disabled="#{projectPlanStatusInfoDto.emptyEntityUIStatusInfo}" style="margin:3px;float:left;"/>
	<div style="clear:both;"/>
	</form>
</span>
</body>
</html>
