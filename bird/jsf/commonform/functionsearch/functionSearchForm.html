<html xmlns:m="http://www.seasar.org/maya" m:action="#{functionSearchAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title></title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="機能選択"/>
<span m:inject="s:insert" m:name="bodyTitleName">■機能選択</span>
<span m:inject="f:param" m:name="onLoadName" m:value=""/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BCO005V01"/>
<span m:inject="s:insert" m:name="body">
<SCRIPT LANGUAGE="javascript">
<!--
function clearForm(formobj) {
    for (i = 0; i < formobj.elements.length; i++) {
        if (formobj.elements[i].type == "text") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "textarea") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "file") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "password") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "checkbox") {
            formobj.elements[i].checked = formobj.elements[i].defaultChecked;
            formobj.elements[i].checked = false;
        } else if (formobj.elements[i].type == "radio") {
            formobj.elements[i].checked = formobj.elements[i].defaultChecked;
        } else if (formobj.elements[i].type == "select-one") {
            for (j = 0; j < formobj.elements[i].options.length; j++) {
                formobj.elements[i].options[j].selected = formobj.elements[i].options[j].defaultSelected;
            }
            formobj.elements[i].selectedIndex = -1;
            formobj.elements[i].selectedIndex = 0;
        } else if (formobj.elements[i].type == "select-multiple") {
            for (j = 0; j < formobj.elements[i].options.length; j++) {
                formobj.elements[i].options[j].selected = formobj.elements[i].options[j].defaultSelected;
            }
            formobj.elements[i].selectedIndex = -1;
        }
    }
}
function checkAll(formobj) {
    for (i = 0; i < formobj.elements.length; i++) {
        if (formobj.elements[i].type == "checkbox") {
            formobj.elements[i].checked = true;
        }
    }
}
function checkClearAll(formobj) {
    for (i = 0; i < formobj.elements.length; i++) {
        if (formobj.elements[i].type == "checkbox") {
            formobj.elements[i].checked = false;
        }
    }
}
//-->
</SCRIPT>
<form m:id="ownerSearch">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
<input type="submit" value="検索" m:action="#{functionSearchAction.search}"/>&nbsp;&nbsp;
<input type="button" value="クリア" onclick="clearForm(this.form);"/>&nbsp;&nbsp;
<input type="submit" value="戻る" m:action="#{functionSearchAction.cancel}"/>&nbsp;&nbsp;
<input type="submit" value="決定" m:action="#{functionSearchAction.select}"/>&nbsp;&nbsp;
<table class="body_table" style="margin-top:5px;margin-bottom:5px">
  <tr>
    <th width="110px">
      機能カテゴリ
    </th>
    <td>
      <div class="hideArea">
        <select m:value="#{functionSearchConditionDto.functionCategoryId}"
                m:items="#{functionSearchConditionDto.categoryList}"
                m:itemValue="menuId"
                m:itemLabel="labeLMenuNameBottomTypeName"
                m:nullLabel=" ">
            <option value=""> </option>
            <option value="">MOS</option>
        </select>
      </div>
    </td>
    <th width="100px">機能名</th>
    <td>
      <input type="text" m:value="#{functionSearchConditionDto.functionName}" m:maxlength="20"/>
    </td>
  </tr>
</table>
<span m:rendered="#{functionSearchConditionDto.functionListSize > 0}">
<input type="button" value="すべてON" onclick="checkAll(this.form);"/>&nbsp;&nbsp;
<input type="button" value="すべてOFF" onclick="checkClearAll(this.form);"/>&nbsp;&nbsp;

<table class="body_table2" width="720px" style="margin-top:4px">
  <tr class="header_row">
    <th width="38px">選択</th>
    <th width="70px">タイプ</th>
    <th width="200px">機能カテゴリ</th>
    <th width="*">機能名</th>
  </tr>
</table>
<div style="width:737px; height:380px;" class="scroll_area">
<table class="body_table2" style="border-top-width : 0px;" width="720px">
  <span m:inject="s:forEach" m:items="#{functionList}" m:var="e">
    <tr class="non_top_border">
        <td width="38px" align="center">
    	  <input type="checkbox" m:value="#{e.checkFlg}"/>
        </td>
        <td width="70px">
    	  <span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.typeName}"/>
    	</td>
        <td width="200px">
    	  <span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.menuName}"/>
    	</td>
        <td width="*">
          <span m:converter="#{characterEncodingConverter}" m:inject="h:outputText" m:value="#{e.subMenuName}"/>
    	</td>
    </tr>
  </span>
</table>
</div>
</span>
<input type="text" m:id="dummyEnter" style="display:none"/>
</form>
</span>
</body>
</html>
