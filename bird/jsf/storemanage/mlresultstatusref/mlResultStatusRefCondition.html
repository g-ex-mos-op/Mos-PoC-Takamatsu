<html xmlns:m="http://www.seasar.org/maya" m:extends="/jsf/layout/layoutNoNavi.html" m:action="#{mlResultStatusRefConditionAction.initialize}">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<title>マスターライセンス受験結果確認</title>
</head>

<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="マスターライセンス受験結果確認"/>
<span m:inject="s:insert" m:name="bodyTitleName">■マスターライセンス受験結果確認</span>
<span m:inject="f:param" m:name="onLoadName" m:value="init();"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BSM007V01"/>
<span m:inject="s:insert" m:name="body">
<SCRIPT LANGUAGE="javascript">
<!--
function init(){
}
function offButtonJen(){
  usrTypeCode = document.forms['mlResultStatusRef'].userTypeCd.value;
  if (usrTypeCode == '01') {
    document.forms['mlResultStatusRef'].elements['mlResultStatusRef:onerB'].disabled = true;
    document.forms['mlResultStatusRef'].elements['mlResultStatusRef:miseB'].disabled = true;
  }
}
function offOn(selectFlg){
	document.forms['mlResultStatusRef'].elements['mlResultStatusRef:selectFlg'][selectFlg].click();
}
function offOnBtn(selectFlg) {
	offButtonJen();
	if(selectFlg=='0'){
	}else if(selectFlg=='1'){
		document.forms['mlResultStatusRef'].elements['mlResultStatusRef:onerB'].disabled = false;
	}else if(selectFlg=='2'){
		document.forms['mlResultStatusRef'].elements['mlResultStatusRef:miseB'].disabled = false;
	}
}

function onButtonJen(){
  usrTypeCode = document.forms['mlResultStatusRef'].userTypeCd.value;
  if (usrTypeCode == '01') {
	document.forms['mlResultStatusRef'].elements['mlResultStatusRef:onerB'].disabled = false;
	document.forms['mlResultStatusRef'].elements['mlResultStatusRef:miseB'].disabled = false;
  }
}

//-->
</SCRIPT>
	<form m:id="mlResultStatusRef" onKeyDown="return setDefaultSubmitButton('mlResultStatusRef','execute');">
		<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
		<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
		<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
		<input type="hidden" name="userTypeCd" m:value="#{birdUserInfo.mstUser.userTypeCd}" m:passthrough="true"/>
		<input type="hidden" m:id="entryKai" m:value="#{mlresultstatusrefRequestDto.entryKai}"/>
		<span m:rendered="#{birdUserInfo.mstUser.userTypeCd == '01'}">
			<table border=1 class="body_table">
			    <caption class="body_title" style="padding:2px 0px;"> 検索条件</caption>
				<tr>
					<th>会社</th>
					<th colspan="2">支部</th>
					<th colspan="2" width="120px" nowrap="nowrap">オーナー&nbsp;
					  <input m:id="onerB" type="button" value="検索"  m:onclick="onButtonJen();" m:action="#{mlResultStatusRefConditionAction.onerSearch}" m:disabled="#{mlresultstatusrefRequestDto.selectFlg!=1}"/>
					</th>
					<th colspan="2" width="120px">店舗&nbsp;
					  <input m:id="miseB" type="button" value="検索" m:onclick="onButtonJen();" m:action="#{mlResultStatusRefConditionAction.miseSrearch}" m:disabled="#{mlresultstatusrefRequestDto.selectFlg!=2}"/>
					</th>
					<th width="50px"> 全て</th>
				</tr>
				<tr>
					<span m:inject="s:selectOneRadio2" id="selectFlg" m:value="#{mlresultstatusrefRequestDto.selectFlg}">
					<td>
			        <div class="hideArea">
						<select class="condition_field"
								m:id="companyCd"
								m:value="#{mlresultstatusrefRequestDto.companyCd}"
								m:items="#{mlResultStatusRefDto.listCompany}"
								m:itemValue="companyCd"
								m:itemLabel="companyName"
								m:onchange="changeCompanyCd()">
							<option value="00">モスフードサービス</option>
							<option value="01">トモス</option>
							<option value="02">四季菜</option>
						</select>
					  </div>
					</td>
					<td style="border-right-width:0px;">
			            <input type="radio" name="selectFlg" m:value="0" onClick="offOnBtn(0);"/>
			        </td>
			            <td style="border-left-width:0px;">
			              <div class="hideArea">
			                <select m:id="areaDai"
								m:value="#{mlresultstatusrefRequestDto.areaDai}"
								m:items="#{mlResultStatusRefDto.sibuList}"
								m:itemValue="sibuCd"
								m:itemLabel="sibuName"
								onFocus="offOn('0')">
								<option>東京支部</option>
						    </select>
					      </div>
					</td>
					<td style="border-right-width:0px;">
						  <input type="radio" name="selectFlg" m:value="1" onClick="offOnBtn(1);"/>
					</td>
				    <td style="border-left-width:0px;">
						  <input m:id="onerT" class="imenotuse width_62" type="text" m:maxlength="5" size="10" m:value="#{mlresultstatusrefRequestDto.onerCd}" onFocus="offOn('1')"/>
					</td>
					<td style="border-right-width:0px;">
						<input type="radio" name="selectFlg" m:value="2" onClick="offOnBtn(2);"/>
					</td>
				    <td style="border-left-width:0px;">
						<input m:id="miseT" class="imenotuse width_62" type="text" m:maxlength="5" size="10" m:value="#{mlresultstatusrefRequestDto.miseCd}" m:converter="#{mlresultStatusRefMiseConverter}" onFocus="offOn('2')"/>
					</td>
					<td>
						<input type="radio" name="selectFlg" m:value="3" onClick="offOnBtn(3);"/>
					</td>
					</span>
				</tr>
			</table>
		</span>
		<table>
			<tr>
				<td>
			<table border=1 width="400" class="body_table" style="margin-top:5px;float:left;">
				<caption class="body_title" style="padding:2px 0px;">対象試験</caption>
				<span m:inject="s:selectOneRadio2" id="entryFlg" m:value="#{mlresultstatusrefRequestDto.entryFlg}">
				<tr>

					<th width="30px" style="text-align:center;">
						<input type="radio" name="entryFlg" m:value="0"/>
					</th>
					<th>最新回</th>
					<td><span m:value="#{mlResultStatusRefDto.entryYearKai}"/></td>
				</tr>
				<tr>
					<th style="text-align:center;">
						<input type="radio" name="entryFlg" m:value="1"/>
					</th>
					<th>年度指定</th>
					<td>
			          <div class="hideArea">
						<select style="width:150px;"
								m:value="#{mlresultstatusrefRequestDto.entryYear}"
								m:items="#{mlResultStatusRefDto.entryYearList}"
								m:itemValue="year"
								m:itemLabel="yearText"
								onChange="document.forms['mlResultStatusRef'].elements['mlResultStatusRef:entryFlg'][1].click();">
							<option value="">2006 年度</option>
						</select>
					  </div>
					</td>
				</tr>
				</span>
			</table>
			</td>
			<td valign="bottom">
				<input type="button" id="execute" value="実行" m:onclick="onButtonJen();" m:action="#{mlResultStatusRefConditionAction.result}"/>
				<input type="button" value="一括ダウンロード" m:action="#{mlResultStatusRefConditionAction.downloadCsv}"/>
			</td>
		</tr>
		</table>
		<input type="text" m:id="dummyEnter" style="display:none"/>
	</form>
</span>
</body>
</html>

