<html xmlns:m="http://www.seasar.org/maya" m:action="#{miseHistoryExtractAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>店マスタ履歴抽出</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="店マスタ履歴抽出">
<span m:inject="f:param" m:name="onLoadName" m:value="load()"/>
<span m:inject="s:insert" m:name="bodyTitleName">■店マスタ履歴抽出</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BSI009V01"/>
<span m:inject="s:insert" m:name="body">
<script type="text/javascript">
<!--
function load(){
	focusElement('miseHistoryExtract');
}

// 店コードが5桁未満の場合は前0埋めで処理
function formartMiseCd(){
	var length=0;
	var zero ="00000";
	var miseCdValue;
	var miseCdInput= document.getElementById("miseHistoryExtract:condMiseCd");
	miseCdValue = miseCdInput.value;
	if(miseCdValue.length<=0){
		miseCdInput.value = "";
	} else{
		miseCdValue = zero+miseCdValue;
		length = miseCdValue.length;
		miseCdValue= miseCdValue .substring(length-5);
		miseCdInput.value = miseCdValue;
	}
}
//-->
</script>

<form m:id="miseHistoryExtract" onKeyDown="return setDefaultSubmitButton('miseHistoryExtract','btnDownloadCSV','btnDownloadExcel');">
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>

<div class="search_condition">
<!-- 検索条件 -->
<table class="hiddenBody">
	<tr>
		<td>
			<table class="body_table">
				<tr>
					<th>ダウンロード対象&nbsp;&nbsp;&nbsp;&nbsp;</th>
					<td>店マスタ履歴&nbsp;&nbsp;&nbsp;&nbsp;</td>
					<th style="border-right-width:0px;">店コード</th>
					<th style="border-left-width:0px;">
						<input type="button" value="検索" m:action="#{miseHistoryExtractAction.callMiseForm}"/></th>
					<td>
						<input class="imenotuse" type="text" m:id="condMiseCd" m:value="#{miseHistoryExtractDto.condMiseCd}" m:maxlength="5" m:size="10" onblur="formartMiseCd()" />
					</td>
				</tr>
			</table>
	    </td>
	</tr>
</table>
<br/>
<input type="button" class="operation_button" value="ダウンロード(CSV)" m:id="btnDownloadCSV" m:action="#{miseHistoryExtractAction.downloadCsv}"/>
<input type="button" class="operation_button" value="ダウンロード(Excel)" m:id="btnDownloadExcel" m:action="#{miseHistoryExtractAction.downloadExcel}"/>
</div>
</form>
</span>
</body>
</html>