<html xmlns:m="http://www.seasar.org/maya" m:action="#{userRegistEditHonbuAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>ユーザー登録</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="ユーザー登録"/>
<span m:inject="f:param" m:name="onLoadName" m:value=""/>
<span m:inject="s:insert" m:name="bodyTitleName">■ユーザー登録</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BSA006V06"/>
<span m:inject="f:param" m:name="onLoadName" m:value="load();"/>
<span m:inject="s:insert" m:name="body">
<SCRIPT LANGUAGE="javascript">
<!--
function load() {
	focusElement("userregist");
}
function initBumonList(){
    //部門選択
	document.forms['userregist'].elements['userregist:__link_clicked__'].value='userregist:loadBumonList';
	document.forms['userregist'].submit();
	return false;
}

//-->
</SCRIPT>
<STYLE type="text/css" media="screen">
<!--
-->
</STYLE>
<form m:id="userregist" onKeyDown="return setDefaultSubmitButton('userregist','executeBt');">
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
	<input type="button" value="戻る" m:action="#{userRegistEditHonbuAction.cancel}"/>&nbsp;
	<input type="button" value="確認" m:id="executeBt" class="operation_button" m:action="#{userRegistEditHonbuAction.regist}"/>
	<table cellspacing="0" cellpadding="0">
	  <tr style="height:5px;"><td align="right"></td></tr>
	</table>

	<table class="body_table2" width="900">
	  <col style="width:180px;"/>
	  <col style="width:155px;"/>
	  <col style="width:155px;"/>
	  <col style="width:155px;"/>
	  <col style="width:155px;"/>
	  <col style="width:*;"/>
  <tr>
    <th>ユーザータイプ</th>
    <td colspan="5">本部</td>
  </tr>
  <tr>
    <th>ユーザーID</th>
    <td>
      <input m:id="userId" class="imenotuse" type="text" m:value="#{userRegistDto.uIUser.userId}" m:maxlength="8" m:size="20"/>
    </td>
    <th>初期パスワード</th>
    <td>
      <input id="password" type="password" m:size="20" m:value="#{userRegistDto.userPassWord}"/>
    </td>
    <th>確認用パスワード</th>
    <td>
      <input id="password2" type="password" m:size="20" m:value="#{userRegistDto.userPassWordKakunin}"/>
    </td>
  </tr>
  <tr>
    <th>ユーザー名</th>
    <td width="300px" colspan=2>
      <input m:id="userNameKj" class="imeon" type="text" m:value="#{userRegistDto.uIUser.userNameKj}" m:maxlength="40" m:size="45"/>
    </td>
    <th>ユーザー名(カナ)</th>
    <td colspan=2>
      <input m:id="userNameKana" class="imeon" type="text" m:value="#{userRegistDto.uIUser.userNameKana}" m:maxlength="20" m:size="45"/>
    </td>
  </tr>
   <tr>
    <th>会社</th>
    <td colspan="2">
      <div class="hideArea">
        <select m:id="rCompanyCd"
                m:value="#{userRegistDto.userCompany.rCompanyCd}"
                m:items="#{userRegistDto.companyList}"
                m:itemValue="companyCd"
                m:itemLabel="companyName"
                m:onChange="initBumonList()">
            <option value="">MOS</option>
        </select>
      </div>
	<a id="loadBumonList" m:action="#{userRegistEditHonbuAction.loadBumonList}"/>
    </td>
    <th width="100px">部門選択</th>
    <td colspan="2">
      <div class="hideArea">
        <select m:id="bumonCd"
                m:value="#{userRegistDto.uIUser.bumonCd}"
                m:items="#{userRegistDto.bumonList}"
                m:itemValue="bumonCd"
                m:itemLabel="bumonName">
            <option value=""></option>
            <option value="">MOS</option>
        </select>
      </div>
    </td>
  </tr>   
  <tr>
    <th>業態
      <input m:id="gyoutaiButton" type="button" value="検索" class="operation_button"
             m:action="#{userRegistEditHonbuAction.searchGyotai}"/>
      &nbsp;
    </th>
    <td style="border-right-width : 0px;">
	    <div m:inject="s:forEach" m:items="#{userRegistDto.userGyotaiList}" m:var="e" m:varindex="i">
          <span m:converter="#{characterEncodingConverter}" m:value="#{e.gyotaiName}"/><br/>
	    </div>
    </td>
    <td style="border-left-width : 0px;">
	  <input type="button" value="クリア" class="operation_button" m:action="#{userRegistEditHonbuAction.clearGyotai}"/>
	  &nbsp;
	</td>
    <th>オーナーコード
      <input type="button" value="検索" class="operation_button"
             m:action="#{userRegistEditHonbuAction.searchOner}"/>
    </th>
    <td style="border-left-width : 0px;" align="center">
      <div class="hideArea">
        <select m:value="#{userRegistDto.userOner.companyCd}"
                m:items="#{userRegistDto.companyList}"
                m:itemValue="key"
                m:itemLabel="name">
            <option value="">MOS</option>
        </select>
      </div>
    </td>
    <td style="border-left-width : 0px;">
      <input m:id="onerCd" class="imenotuse" type="text" m:value="#{userRegistDto.userOner.onerCd}" m:maxlength="5" m:size="15" m:converter="#{userRegistCodeConverter}">
        <span m:inject="f:param" m:name="ownerSearchPosition" m:value="1"/>
	  </input>
    </td>
  </tr>
  <tr>
    <th>リモート制限</th>
    <td colspan="2">
      <span m:converter="#{characterEncodingConverter}" m:inject="s:selectOneRadio2" m:value="#{userRegistDto.uIUser.limitKbn}">
        <input type="radio" value="0"/>なし&nbsp;&nbsp;
        <input type="radio" value="1"/>あり&nbsp;&nbsp;
	  </span>
    </td>
    <th>使用停止</th>
    <td colspan="2">
	  <input type="checkbox" m:value="#{userRegistDto.stopFlg}"/> 使用停止
    </td>
  </tr>
  <tr>
    <th>メールアドレス</th>
    <td colspan="5">
      <input m:id="mailAdd" class="imenotuse" type="text"
             m:value="#{userRegistDto.uIUser.mailAdd}" m:maxlength="60" m:size="80"/>
    </td>
  </tr>
</table>
</form>
</span>
</body>
</html>
