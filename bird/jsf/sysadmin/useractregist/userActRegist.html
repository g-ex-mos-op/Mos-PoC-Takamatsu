<html xmlns:m="http://www.seasar.org/maya" m:action="#{userActRegistAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j" />
<title>ユーザー別アクセス権限設定（編集画面）</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="ユーザー別アクセス権限設定（編集画面）"/>
<span m:inject="s:insert" m:name="bodyTitleName">■ユーザー別アクセス権限設定（編集画面）</span>
<span m:inject="f:param" m:name="viewIdValue" m:value="BSA012V01"/>
<span m:inject="s:insert" m:name="body">
<STYLE type="text/css">
<!--
	/**
	 * 使用可能（初期）フラグ設定メニュークラス
	 */
	table.body_table2 tr.enableMenu td{
		background-color      : #CCFF99;
	}
	.scroll_area {
		width:	  687px;
		height:	  410px;
		overflow: auto;
	}
-->
</STYLE>
<SCRIPT LANGUAGE="javascript">

<!--
function clearForm(formobj) {
    for (i = 0; i < formobj.elements.length; i++) {
        if (formobj.elements[i].type == "text") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "textarea") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "file") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "password") {
            formobj.elements[i].value = "";
        } else if (formobj.elements[i].type == "checkbox") {
            formobj.elements[i].checked = formobj.elements[i].defaultChecked;
            formobj.elements[i].checked = false;
        } else if (formobj.elements[i].type == "radio") {
            formobj.elements[i].checked = formobj.elements[i].defaultChecked;
        } else if (formobj.elements[i].type == "select-one") {
            for (j = 0; j < formobj.elements[i].options.length; j++) {
                formobj.elements[i].options[j].selected = formobj.elements[i].options[j].defaultSelected;
            }
            formobj.elements[i].selectedIndex = -1;
            formobj.elements[i].selectedIndex = 0;
        } 
    }
}
//-->
</SCRIPT>
<form m:id="userActCondition">
	<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
	<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>
	<input type="hidden" m:id="viewId" m:value="#{viewIdValue}"/>
	<input type="hidden" m:id="sessionKey" m:value="#{userActConditionDto.sessionKey}"/>
	<input type="submit" value="戻る" m:action="#{userActRegistAction.back}"/>&nbsp;&nbsp;
	<input type="submit" value="確認" m:action="#{userActRegistAction.confirm}"/>
	<table cellspacing="0" cellpadding="0">
	  <tr style="height:5px;"><td align="right"></td></tr>
	</table>

	<table class="body_table">
	  <tr>
	    <th>ユーザーID</th>
	    <td width="350px">
			<span m:value ="#{userActRegistDto.userId}"/>&nbsp;<span m:value ="#{userActRegistDto.userName}"/>
		</td>
	  </tr>
	</table>
	<table cellspacing="0" cellpadding="0">
	  <tr style="height:5px;"><td align="right"></td></tr>
	</table>
	<table class="body_table2" width="670px">
		<tr class="header_row">
		<th width="43px" style="text-align:center;">選択</th>
		<th width="100px" style="text-align:center;">分類</th>
		<th width="180px" style="text-align:center;">メニュー名</th>
		<th width="*px" style="text-align:center;">アクセス可能画面名</th>
		</tr>
	</table>

	<div class="scroll_area">
		<table class="body_table2" style="border-top-width : 0px;" width="670px">
				<span m:inject="s:forEach" m:items="#{userActRegistDto.roleList}" m:var="e">
		      <tr m:rendered="#{e.menuId !='00' && e.hiddenFlg =='0'}" class="#{birdUserInfo.mstUser.userTypeCd=='02' && e.enableFlg=='1'?'enableMenu':''} non_top_border">
		        <td width="43px" style="text-align:center;">
		          <input type="checkbox" m:value="#{e.checkFlg}"/>
		        </td>
		        <td width="100px">
		          <span m:value="#{e.menuId =='99'?'ポータルリンク':(e.menuId >=registMenuIdThresholdAmount?'登録系':'照会系')}"/>
		        </td>
		        <td width="180px">
		          <span m:converter="#{characterEncodingConverter}" m:value="#{e.menuName}"/>
		        </td>
		        <td width="*px">
		          <span m:converter="#{characterEncodingConverter}" m:value="#{e.subMenuName}"/>
		        </td>
		      </tr>
		    </span>
		</table>
	</div>	
<input type="text" m:id="dummyEnter" style="display:none"/>
</form>
</span>
</body>
</html>
