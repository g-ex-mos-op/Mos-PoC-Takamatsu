<html xmlns:m="http://www.seasar.org/maya" m:action="#{plLimitRegistEditAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<title>P/L入力上下限設定</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="P/L入力上下限設定"/>
<span m:inject="s:insert" m:name="bodyTitleName">■P/L入力上下限設定</span>
<span m:inject="f:param" m:name="onLoadName" m:value="load()"/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BCF005V02"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
table tr.item_type0 td {
	background-color	: #ADD8E6;
}
table tr.item_type1 td {
	background-color	: #F5B078;
}
table tr.item_type2 td {
	background-color	: #C6FF6F;
}
table tr.item_type3 td {
	background-color	: #FFB6C1;
}
.scroll_area {
	height:400px;
	width:918px;
}
table.body_table tr.non_top_border td {
	border-top-width:0px;
}
// -->
</style>
<script type="text/javascript">
<!--
function load() {
	focusElement("plLimitRegistEdit");
}
-->
</script>

<form m:id="plLimitRegistEdit" onkeydown="return setDefaultSubmitButton('plLimitRegistEdit', 'btnExecute');">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>

<div>
<input type="submit" value="戻る" m:action="#{plLimitRegistEditAction.back}"/>&nbsp;
<input type="submit" value="確認" m:id="btnExecute" m:action="#{plLimitRegistEditAction.confirm}" m:disabled="#{plLimitRegistDto.plLimitListEmpty}"/>
入力有効桁数は、金額は11桁、構成比は3桁(小数2桁)です。
</div>

<!-- 条件表示 -->
<table class="body_table" style="margin-top:4px;">
	<tr>
		<th>P/Lタイプ</th>
		<td style="width:200px;">
			<span m:value="#{(plLimitRegistDto.plType == 0) ? '本社P/L' : '店舗P/L' }"/>
		</td>
	</tr>
</table>


<!-- 上下限一覧 -->
<div style="margin-top:10px;" m:rendered="#{!plLimitRegistDto.plLimitListEmpty}">
<!-- ヘッダ -->
<div>
<table style="width:900px;" class="body_table">
	<tr class="header_row">
		<th style="width:50px;">No</th>
		<th style="width:*;">項目名</th>
		<th style="width:200px;">設定タイプ</th>
		<th style="width:200px;">最小値</th>
		<th style="width:200px;">最大値</th>
	</tr>
</table>
</div>

<!-- レコード -->
<div class="scroll_area">
<table  style="border-top-width:0px; width:900px;" class="body_table">

	<div m:inject="s:forEach" m:items="#{plLimitRegistDto.plLimitList}" m:var="e" m:varindex="i">
		<tr class="non_top_border item_type#{e.itemType}">
			<td style="width:50px; color:navy; font-weight:bold; text-align:right;"><span m:value="#{e.itemNo}"/></td>
			<td style="width:*; color:navy; font-weight:bold;"><span m:converter="#{characterEncodingConverter}" m:value="#{e.itemName}"/></td>
			<td style="width:200px;">
				<div m:inject="s:selectOneRadio2" m:id="limitType" m:value="#{e.limitType}">
					<input type="radio" value="0"/>金額
					<input type="radio" value="1" m:disabled="#{e.koseihiFlg == '1'}" style="margin-left:20px;"/>構成比
				</div>
			</td>
			<td style="width:200px; text-align:right;"><input type="text" m:id="limitMin" m:value="#{e.limitMinWithType}" m:converter="#{plLimitConverter}" maxlength="18" style="ime-mode:disabled; text-align:right; width:192px;"/></td>
			<td style="width:200px; text-align:right;"><input type="text" m:id="limitMax" m:value="#{e.limitMaxWithType}" m:converter="#{plLimitConverter}" maxlength="18" style="ime-mode:disabled; text-align:right; width:192px;"/></td>
		</tr>
		<span m:converter="#{characterEncodingConverter}" m:inject="f:param" m:name="limitType#{i}" m:value="#{e.limitType}"/>
	</div>
</table>
</div>
</div>

</form>
</div>
</body>
</html>

