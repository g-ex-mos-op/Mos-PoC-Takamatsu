<html xmlns:m="http://www.seasar.org/maya" m:action="#{plLimitRegistConfirmAction.initialize}" m:extends="/jsf/layout/layoutNoNavi.html">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-31j"/>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<title>P/L入力上下限設定</title>
</head>
<body>
<span m:inject="f:param" m:name="layoutTitle" m:value="P/L入力上下限設定"/>
<span m:inject="s:insert" m:name="bodyTitleName">■P/L入力上下限設定（内容確認）</span>
<span m:inject="f:param" m:name="onLoadName" m:value=""/>
<span m:inject="f:param" m:name="viewIdValue" m:value="BCF005V03"/>
<div m:inject="s:insert" m:name="body">
<style type="text/css">
<!--
table tr.item_type0 td {
	background-color	: #ADD8E6;
}
table tr.item_type1 td {
	background-color	: #F5B078;
}
table tr.item_type2 td {
	background-color	: #C6FF6F;
}
table tr.item_type3 td {
	background-color	: #FFB6C1;
}
.scroll_area {
	height:400px;
	width:918px;
}
table.body_table tr.non_top_border td {
	border-top-width:0px;
}
// -->
</style>

<form m:id="plLimitRegistConfirm" onkeydown="return setDefaultSubmitButton('plLimitRegistConfirm', 'btnExecute');">
<input type="hidden" m:id="viewId" m:value="#{viewIdValue}" />
<input type="hidden" m:id="initMenuId" m:value="#{menuAction.initMenuId}"/>
<input type="hidden" m:id="initSubMenuId" m:value="#{menuAction.initSubMenuId}"/>

<div>
<input type="submit" value="戻る" m:action="#{plLimitRegistConfirmAction.back}"/>&nbsp;
<input type="submit" value="登録" m:id="btnExecute" m:action="#{plLimitRegistConfirmAction.regist}" m:disabled="#{plLimitRegistDto.plLimitListEmpty}"/>
</div>

<!-- 条件表示 -->
<table class="body_table" style="margin-top:4px;">

	<tr >
		<th>P/Lタイプ</th>
		<td style="width:200px;">
			<span m:value="#{(plLimitRegistDto.plType == 0) ? '本社P/L' : '店舗P/L' }"/>
		</td>
	</tr>
</table>

<!-- 上下限一覧 -->
<div style="margin-top:10px;" m:rendered="#{!plLimitRegistDto.plLimitListEmpty}">
<!-- ヘッダ -->
<table class="body_table" style="width:900px;">
	<tr class="header_row">
		<th style="width:50px;">No</th>
		<th style="width:*	;">項目名</th>
		<th style="width:200px;">設定タイプ</th>
		<th style="width:200px;">最小値</th>
		<th  style="width:200px;">最大値</th>
	</tr>
</table>

<!-- レコード -->
<div class="scroll_area">
<table style="width:900px;border-top-width:0px;" class="body_table">
	<div m:inject="s:forEach" m:items="#{plLimitRegistDto.plLimitList}" m:var="e" m:varindex="i">
		<tr class="non_top_border item_type#{e.itemType}">
			<td style="width:50px; color:navy; font-weight:bold; text-align:right;"><span m:value="#{e.itemNo}"/></td>
			<td style="width:*; color:navy; font-weight:bold;"><span m:converter="#{characterEncodingConverter}" m:value="#{e.itemName}"/></td>
			<td style="width:200px;">
				<span m:value="#{(e.limitType == '0') ? '金額' : '構成比'}"
						m:rendered="#{(e.limitMin != null && e.limitMin != '') || (e.limitMax != null && e.limitMax != '')}"/>
			</td>
			<td style="width:200px; text-align:right;"><span m:value="#{e.limitMinWithType}" m:converter="#{plLimitConverter}"/></td>
			<td style="width:200px; text-align:right;"><span m:value="#{e.limitMaxWithType}" m:converter="#{plLimitConverter}"/></td>
		</tr>
	</div>
</table>
</div>
</div>

<script type="text/javascript">
<!--
	focusElement("plLimitRegistConfirm");
-->
</script>
</form>
</div>
</body>
</html>
